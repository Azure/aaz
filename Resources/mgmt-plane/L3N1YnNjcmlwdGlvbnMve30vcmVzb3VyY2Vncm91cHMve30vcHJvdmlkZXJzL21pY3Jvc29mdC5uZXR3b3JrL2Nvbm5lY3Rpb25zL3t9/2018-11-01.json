{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "commandGroups": [{"name": "network vpn-connection", "commands": [{"name": "show", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}]}], "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "VirtualNetworkGatewayConnections_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202]}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": ""}, {"name": "create", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}]}, {"name": "Parameters", "args": [{"type": "string", "var": "$parameters.etag", "options": ["etag"], "hide": true, "group": "Parameters", "help": {"short": "Gets a unique read-only string that changes whenever the resource is updated."}}, {"type": "ResourceId", "var": "$parameters.id", "options": ["id"], "hide": true, "group": "Parameters", "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "var": "$parameters.location", "options": ["l", "location"], "group": "Parameters", "help": {"short": "Resource location."}}, {"type": "object", "var": "$parameters.tags", "options": ["tags"], "group": "Parameters", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "string", "var": "$parameters.properties.authorizationKey", "options": ["authorization-key"], "group": "Properties", "help": {"short": "The authorizationKey."}}, {"type": "string", "var": "$parameters.properties.connectionProtocol", "options": ["connection-protocol"], "group": "Properties", "help": {"short": "Connection protocol used for this connection."}, "enum": {"items": [{"name": "IKEv1", "value": "IKEv1"}, {"name": "IKEv2", "value": "IKEv2"}]}}, {"type": "string", "var": "$parameters.properties.connectionType", "options": ["connection-type"], "required": true, "group": "Properties", "help": {"short": "Gateway connection type."}, "enum": {"items": [{"name": "ExpressRoute", "value": "ExpressRoute"}, {"name": "IPsec", "value": "IPsec"}, {"name": "VPNClient", "value": "VPNClient"}, {"name": "Vnet2Vnet", "value": "Vnet2Vnet"}]}}, {"type": "boolean", "var": "$parameters.properties.enableBgp", "options": ["enable-bgp"], "group": "Properties", "help": {"short": "EnableBgp flag."}}, {"type": "boolean", "var": "$parameters.properties.expressRouteGatewayBypass", "options": ["express-route-gateway-bypass"], "group": "Properties", "help": {"short": "Bypass ExpressRoute Gateway for data forwarding."}}, {"type": "array<@IpsecPolicy_create>", "var": "$parameters.properties.ipsecPolicies", "options": ["ipsec-policies"], "group": "Properties", "help": {"short": "The IPSec Policies to be considered by this connection."}, "item": {"type": "@IpsecPolicy_create"}}, {"type": "object", "var": "$parameters.properties.localNetworkGateway2", "options": ["local-network-gateway2"], "group": "Properties", "help": {"short": "The reference to local network gateway resource."}, "args": [{"type": "string", "var": "$parameters.properties.localNetworkGateway2.etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"type": "ResourceId", "var": "$parameters.properties.localNetworkGateway2.id", "options": ["id"], "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "var": "$parameters.properties.localNetworkGateway2.location", "options": ["l", "location"], "help": {"short": "Resource location."}}, {"type": "@BgpSettings_create", "var": "$parameters.properties.localNetworkGateway2.properties.bgpSettings", "options": ["bgp-settings"], "group": "Properties", "help": {"short": "Local network gateway's BGP speaker settings."}}, {"type": "string", "var": "$parameters.properties.localNetworkGateway2.properties.gatewayIpAddress", "options": ["gateway-ip-address"], "group": "Properties", "help": {"short": "IP address of local network gateway."}}, {"type": "@AddressSpace_create", "var": "$parameters.properties.localNetworkGateway2.properties.localNetworkAddressSpace", "options": ["local-network-address-space"], "group": "Properties", "help": {"short": "Local network site address space."}}, {"type": "string", "var": "$parameters.properties.localNetworkGateway2.properties.resourceGuid", "options": ["resource-guid"], "group": "Properties", "help": {"short": "The resource GUID property of the LocalNetworkGateway resource."}}, {"type": "object", "var": "$parameters.properties.localNetworkGateway2.tags", "options": ["tags"], "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}]}, {"type": "@SubResource_create", "var": "$parameters.properties.peer", "options": ["peer"], "group": "Properties", "help": {"short": "The reference to peerings resource."}}, {"type": "string", "var": "$parameters.properties.resourceGuid", "options": ["resource-guid"], "hide": true, "group": "Properties", "help": {"short": "The resource GUID property of the VirtualNetworkGatewayConnection resource."}}, {"type": "integer32", "var": "$parameters.properties.routingWeight", "options": ["routing-weight"], "group": "Properties", "help": {"short": "The routing weight."}}, {"type": "string", "var": "$parameters.properties.sharedKey", "options": ["shared-key"], "group": "Properties", "help": {"short": "The IPSec shared key."}}, {"type": "boolean", "var": "$parameters.properties.usePolicyBasedTrafficSelectors", "options": ["use-policy-based-traffic-selectors"], "group": "Properties", "help": {"short": "Enable policy-based traffic selectors."}}, {"type": "object", "var": "$parameters.properties.virtualNetworkGateway1", "options": ["virtual-network-gateway1"], "required": true, "group": "Properties", "help": {"short": "The reference to virtual network gateway resource."}, "args": [{"type": "string", "var": "@VirtualNetworkGateway_create.etag", "options": ["etag"], "help": {"short": "Gets a unique read-only string that changes whenever the resource is updated."}}, {"type": "ResourceId", "var": "@VirtualNetworkGateway_create.id", "options": ["id"], "hide": true, "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "var": "@VirtualNetworkGateway_create.location", "options": ["l", "location"], "help": {"short": "Resource location."}}, {"type": "boolean", "var": "@VirtualNetworkGateway_create.properties.activeActive", "options": ["active-active"], "group": "Properties", "help": {"short": "ActiveActive flag."}}, {"type": "object", "var": "@VirtualNetworkGateway_create.properties.bgpSettings", "options": ["bgp-settings"], "group": "Properties", "help": {"short": "Virtual network gateway's BGP speaker settings."}, "args": [{"type": "integer64", "var": "@BgpSettings_create.asn", "options": ["asn"], "help": {"short": "The BGP speaker's ASN."}}, {"type": "string", "var": "@BgpSettings_create.bgpPeeringAddress", "options": ["bgp-peering-address"], "help": {"short": "The BGP peering address and BGP identifier of this BGP speaker."}}, {"type": "integer32", "var": "@BgpSettings_create.peerWeight", "options": ["peer-weight"], "help": {"short": "The weight added to routes learned from this BGP speaker."}}], "cls": "BgpSettings_create"}, {"type": "boolean", "var": "@VirtualNetworkGateway_create.properties.enableBgp", "options": ["enable-bgp"], "group": "Properties", "help": {"short": "Whether BGP is enabled for this virtual network gateway or not."}}, {"type": "@SubResource_create", "var": "@VirtualNetworkGateway_create.properties.gatewayDefaultSite", "options": ["gateway-default-site"], "group": "Properties", "help": {"short": "The reference to the LocalNetworkGateway resource which represents local network site having default routes. Assign Null value in case of removing existing default site setting."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.gatewayType", "options": ["gateway-type"], "group": "Properties", "help": {"short": "The type of this virtual network gateway."}, "enum": {"items": [{"name": "ExpressRoute", "value": "ExpressRoute"}, {"name": "Vpn", "value": "Vpn"}]}}, {"type": "array<object>", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations", "options": ["ip-configurations"], "group": "Properties", "help": {"short": "IP configurations for virtual network gateway."}, "item": {"type": "object", "args": [{"type": "string", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations[].etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations[].id", "options": ["id"], "help": {"short": "Resource ID."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations[].name", "options": ["name"], "help": {"short": "The name of the resource that is unique within a resource group. This name can be used to access the resource."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations[].properties.privateIPAllocationMethod", "options": ["private-ip-allocation-method"], "group": "Properties", "help": {"short": "The private IP address allocation method."}, "enum": {"items": [{"name": "Dynamic", "value": "Dynamic"}, {"name": "Static", "value": "Static"}]}}, {"type": "@SubResource_create", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations[].properties.publicIPAddress", "options": ["public-ip-address"], "group": "Properties", "help": {"short": "The reference to the public IP resource."}}, {"type": "object", "var": "@VirtualNetworkGateway_create.properties.ipConfigurations[].properties.subnet", "options": ["subnet"], "group": "Properties", "help": {"short": "The reference to the subnet resource."}, "args": [{"type": "string", "var": "@SubResource_create.id", "options": ["id"], "help": {"short": "Resource ID."}}], "cls": "SubResource_create"}]}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.resourceGuid", "options": ["resource-guid"], "group": "Properties", "help": {"short": "The resource GUID property of the VirtualNetworkGateway resource."}}, {"type": "object", "var": "@VirtualNetworkGateway_create.properties.sku", "options": ["sku"], "group": "Properties", "help": {"short": "The reference to the VirtualNetworkGatewaySku resource which represents the SKU selected for Virtual network gateway."}, "args": [{"type": "integer32", "var": "@VirtualNetworkGateway_create.properties.sku.capacity", "options": ["capacity"], "help": {"short": "The capacity."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.sku.name", "options": ["name"], "help": {"short": "Gateway SKU name."}, "enum": {"items": [{"name": "Basic", "value": "Basic"}, {"name": "ErGw1AZ", "value": "ErGw1AZ"}, {"name": "ErGw2AZ", "value": "ErGw2AZ"}, {"name": "ErGw3AZ", "value": "ErGw3AZ"}, {"name": "HighPerformance", "value": "HighPerformance"}, {"name": "Standard", "value": "Standard"}, {"name": "UltraPerformance", "value": "UltraPerformance"}, {"name": "VpnGw1", "value": "VpnGw1"}, {"name": "VpnGw1AZ", "value": "VpnGw1AZ"}, {"name": "VpnGw2", "value": "VpnGw2"}, {"name": "VpnGw2AZ", "value": "VpnGw2AZ"}, {"name": "VpnGw3", "value": "VpnGw3"}, {"name": "VpnGw3AZ", "value": "VpnGw3AZ"}]}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.sku.tier", "options": ["tier"], "help": {"short": "Gateway SKU tier."}, "enum": {"items": [{"name": "Basic", "value": "Basic"}, {"name": "ErGw1AZ", "value": "ErGw1AZ"}, {"name": "ErGw2AZ", "value": "ErGw2AZ"}, {"name": "ErGw3AZ", "value": "ErGw3AZ"}, {"name": "HighPerformance", "value": "HighPerformance"}, {"name": "Standard", "value": "Standard"}, {"name": "UltraPerformance", "value": "UltraPerformance"}, {"name": "VpnGw1", "value": "VpnGw1"}, {"name": "VpnGw1AZ", "value": "VpnGw1AZ"}, {"name": "VpnGw2", "value": "VpnGw2"}, {"name": "VpnGw2AZ", "value": "VpnGw2AZ"}, {"name": "VpnGw3", "value": "VpnGw3"}, {"name": "VpnGw3AZ", "value": "VpnGw3AZ"}]}}]}, {"type": "object", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration", "options": ["vpn-client-configuration"], "group": "Properties", "help": {"short": "The reference to the VpnClientConfiguration resource which represents the P2S VpnClient configurations."}, "args": [{"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.radiusServerAddress", "options": ["radius-server-address"], "help": {"short": "The radius server address property of the VirtualNetworkGateway resource for vpn client connection."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.radiusServerSecret", "options": ["radius-server-secret"], "help": {"short": "The radius secret property of the VirtualNetworkGateway resource for vpn client connection."}}, {"type": "object", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientAddressPool", "options": ["vpn-client-address-pool"], "help": {"short": "The reference to the address space resource which represents Address space for P2S VpnClient."}, "args": [{"type": "array<string>", "var": "@AddressSpace_create.addressPrefixes", "options": ["address-prefixes"], "help": {"short": "A list of address blocks reserved for this virtual network in CIDR notation."}, "item": {"type": "string"}}], "cls": "AddressSpace_create"}, {"type": "array<object>", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientIpsecPolicies", "options": ["vpn-client-ipsec-policies"], "help": {"short": "VpnClientIpsecPolicies for virtual network gateway P2S client."}, "item": {"type": "object", "args": [{"type": "string", "var": "@IpsecPolicy_create.dhGroup", "options": ["dh-group"], "required": true, "help": {"short": "The DH Group used in IKE Phase 1 for initial SA."}, "enum": {"items": [{"name": "DHGroup1", "value": "DHGroup1"}, {"name": "DHGroup14", "value": "DHGroup14"}, {"name": "DHGroup2", "value": "DHGroup2"}, {"name": "DHGroup2048", "value": "DHGroup2048"}, {"name": "DHGroup24", "value": "DHGroup24"}, {"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "@IpsecPolicy_create.ikeEncryption", "options": ["ike-encryption"], "required": true, "help": {"short": "The IKE encryption algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}]}}, {"type": "string", "var": "@IpsecPolicy_create.ikeIntegrity", "options": ["ike-integrity"], "required": true, "help": {"short": "The IKE integrity algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}, {"name": "SHA384", "value": "SHA384"}]}}, {"type": "string", "var": "@IpsecPolicy_create.ipsecEncryption", "options": ["ipsec-encryption"], "required": true, "help": {"short": "The IPSec encryption algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "@IpsecPolicy_create.ipsecIntegrity", "options": ["ipsec-integrity"], "required": true, "help": {"short": "The IPSec integrity algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}]}}, {"type": "string", "var": "@IpsecPolicy_create.pfsGroup", "options": ["pfs-group"], "required": true, "help": {"short": "The Pfs Group used in IKE Phase 2 for new child SA."}, "enum": {"items": [{"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}, {"name": "PFS1", "value": "PFS1"}, {"name": "PFS14", "value": "PFS14"}, {"name": "PFS2", "value": "PFS2"}, {"name": "PFS2048", "value": "PFS2048"}, {"name": "PFS24", "value": "PFS24"}, {"name": "PFSMM", "value": "PFSMM"}]}}, {"type": "integer32", "var": "@IpsecPolicy_create.saDataSizeKilobytes", "options": ["sa-data-size-kilobytes"], "required": true, "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) payload size in KB for a site to site VPN tunnel."}}, {"type": "integer32", "var": "@IpsecPolicy_create.saLifeTimeSeconds", "options": ["sa-life-time-seconds"], "required": true, "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) lifetime in seconds for a site to site VPN tunnel."}}], "cls": "IpsecPolicy_create"}}, {"type": "array<string>", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientProtocols", "options": ["vpn-client-protocols"], "help": {"short": "VpnClientProtocols for Virtual network gateway."}, "item": {"type": "string", "enum": {"items": [{"name": "IkeV2", "value": "IkeV2"}, {"name": "OpenVPN", "value": "OpenVPN"}, {"name": "SSTP", "value": "SSTP"}]}}}, {"type": "array<object>", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates", "options": ["vpn-client-revoked-certificates"], "help": {"short": "VpnClientRevokedCertificate for Virtual network gateway."}, "item": {"type": "object", "args": [{"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].id", "options": ["id"], "help": {"short": "Resource ID."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].name", "options": ["name"], "help": {"short": "The name of the resource that is unique within a resource group. This name can be used to access the resource."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].properties.thumbprint", "options": ["thumbprint"], "group": "Properties", "help": {"short": "The revoked VPN client certificate thumbprint."}}]}}, {"type": "array<object>", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates", "options": ["vpn-client-root-certificates"], "help": {"short": "VpnClientRootCertificate for virtual network gateway."}, "item": {"type": "object", "args": [{"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].id", "options": ["id"], "help": {"short": "Resource ID."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].name", "options": ["name"], "help": {"short": "The name of the resource that is unique within a resource group. This name can be used to access the resource."}}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].properties.publicCertData", "options": ["public-cert-data"], "required": true, "group": "Properties", "help": {"short": "The certificate public data."}}]}}]}, {"type": "string", "var": "@VirtualNetworkGateway_create.properties.vpnType", "options": ["vpn-type"], "group": "Properties", "help": {"short": "The type of this virtual network gateway."}, "enum": {"items": [{"name": "PolicyBased", "value": "PolicyBased"}, {"name": "RouteBased", "value": "RouteBased"}]}}, {"type": "object", "var": "@VirtualNetworkGateway_create.tags", "options": ["tags"], "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}], "cls": "VirtualNetworkGateway_create"}, {"type": "@VirtualNetworkGateway_create", "var": "$parameters.properties.virtualNetworkGateway2", "options": ["virtual-network-gateway2"], "group": "Properties", "help": {"short": "The reference to virtual network gateway resource."}}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "VirtualNetworkGatewayConnections_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "string", "name": "etag", "arg": "$parameters.etag"}, {"type": "ResourceId", "name": "id", "arg": "$parameters.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location", "arg": "$parameters.location"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey", "arg": "$parameters.properties.authorizationKey"}, {"type": "string", "name": "connectionProtocol", "arg": "$parameters.properties.connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"type": "string", "name": "connectionType", "arg": "$parameters.properties.connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"type": "boolean", "name": "enableBgp", "arg": "$parameters.properties.enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass", "arg": "$parameters.properties.expressRouteGatewayBypass"}, {"type": "array<@IpsecPolicy_create>", "name": "ipsecPolicies", "arg": "$parameters.properties.ipsecPolicies", "item": {"type": "@IpsecPolicy_create"}}, {"type": "object", "name": "localNetworkGateway2", "arg": "$parameters.properties.localNetworkGateway2", "props": [{"type": "string", "name": "etag", "arg": "$parameters.properties.localNetworkGateway2.etag"}, {"type": "ResourceId", "name": "id", "arg": "$parameters.properties.localNetworkGateway2.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location", "arg": "$parameters.properties.localNetworkGateway2.location"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_create", "name": "bgpSettings", "arg": "$parameters.properties.localNetworkGateway2.properties.bgpSettings"}, {"type": "string", "name": "gatewayIpAddress", "arg": "$parameters.properties.localNetworkGateway2.properties.gatewayIpAddress"}, {"type": "@AddressSpace_create", "name": "localNetworkAddressSpace", "arg": "$parameters.properties.localNetworkGateway2.properties.localNetworkAddressSpace"}, {"type": "string", "name": "resourceGuid", "arg": "$parameters.properties.localNetworkGateway2.properties.resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.properties.localNetworkGateway2.tags", "additionalProps": {"item": {"type": "string"}}}]}, {"type": "@SubResource_create", "name": "peer", "arg": "$parameters.properties.peer"}, {"type": "string", "name": "resourceGuid", "arg": "$parameters.properties.resourceGuid"}, {"type": "integer32", "name": "routingWeight", "arg": "$parameters.properties.routingWeight"}, {"type": "string", "name": "sharedKey", "arg": "$parameters.properties.sharedKey"}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors", "arg": "$parameters.properties.usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "arg": "$parameters.properties.virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_create.etag"}, {"type": "ResourceId", "name": "id", "arg": "@VirtualNetworkGateway_create.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location", "arg": "@VirtualNetworkGateway_create.location"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive", "arg": "@VirtualNetworkGateway_create.properties.activeActive"}, {"type": "object", "name": "bgpSettings", "arg": "@VirtualNetworkGateway_create.properties.bgpSettings", "props": [{"type": "integer64", "name": "asn", "arg": "@BgpSettings_create.asn"}, {"type": "string", "name": "bgpPeeringAddress", "arg": "@BgpSettings_create.bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight", "arg": "@BgpSettings_create.peerWeight"}], "cls": "BgpSettings_create"}, {"type": "boolean", "name": "enableBgp", "arg": "@VirtualNetworkGateway_create.properties.enableBgp"}, {"type": "@SubResource_create", "name": "gatewayDefaultSite", "arg": "@VirtualNetworkGateway_create.properties.gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "arg": "@VirtualNetworkGateway_create.properties.gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations[].etag"}, {"type": "string", "name": "id", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations[].id"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations[].name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations[].properties.privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"type": "@SubResource_create", "name": "publicIPAddress", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations[].properties.publicIPAddress"}, {"type": "object", "name": "subnet", "arg": "@VirtualNetworkGateway_create.properties.ipConfigurations[].properties.subnet", "props": [{"type": "string", "name": "id", "arg": "@SubResource_create.id"}], "cls": "SubResource_create"}], "clientFlatten": true}]}}, {"type": "string", "name": "resourceGuid", "arg": "@VirtualNetworkGateway_create.properties.resourceGuid"}, {"type": "object", "name": "sku", "arg": "@VirtualNetworkGateway_create.properties.sku", "props": [{"type": "integer32", "name": "capacity", "arg": "@VirtualNetworkGateway_create.properties.sku.capacity"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_create.properties.sku.name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "arg": "@VirtualNetworkGateway_create.properties.sku.tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "arg": "@AddressSpace_create.addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_create"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "arg": "@IpsecPolicy_create.dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "arg": "@IpsecPolicy_create.ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "arg": "@IpsecPolicy_create.ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "arg": "@IpsecPolicy_create.ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "arg": "@IpsecPolicy_create.ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "arg": "@IpsecPolicy_create.pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "arg": "@IpsecPolicy_create.saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "arg": "@IpsecPolicy_create.saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_create"}}, {"type": "array<string>", "name": "vpnClientProtocols", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].etag"}, {"type": "string", "name": "id", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].id"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "thumbprint", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].properties.thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].etag"}, {"type": "string", "name": "id", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].id"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "publicCertData", "arg": "@VirtualNetworkGateway_create.properties.vpnClientConfiguration.vpnClientRootCertificates[].properties.publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "arg": "@VirtualNetworkGateway_create.properties.vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "@VirtualNetworkGateway_create.tags", "additionalProps": {"item": {"type": "string"}}}], "cls": "VirtualNetworkGateway_create"}, {"type": "@VirtualNetworkGateway_create", "name": "virtualNetworkGateway2", "arg": "$parameters.properties.virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.enableBgp", "options": ["enable-bgp"], "group": "", "help": {"short": "Enable BGP (Border Gateway Protocol)."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.expressRouteGatewayBypass", "options": ["express-route-gateway-bypass"], "group": "", "help": {"short": "Bypass ExpressRoute gateway for data forwarding."}}, {"nullable": true, "type": "integer32", "var": "$parameters.properties.routingWeight", "options": ["routing-weight"], "group": "", "help": {"short": "Connection routing weight."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.sharedKey", "options": ["shared-key"], "group": "", "help": {"short": "Shared IPSec key."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.usePolicyBasedTrafficSelectors", "options": ["use-policy-based-traffic-selectors"], "group": "", "help": {"short": "Enable policy-based traffic selectors."}}, {"nullable": true, "type": "object", "var": "$parameters.tags", "options": ["tags"], "group": "", "help": {"short": "Space-separated tags: key[=value] [key[=value] ...]. Use \"\" to clear existing tags."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "Parameters", "args": [{"nullable": true, "type": "string", "var": "$parameters.etag", "options": ["etag"], "hide": true, "group": "Parameters", "help": {"short": "Gets a unique read-only string that changes whenever the resource is updated."}}, {"nullable": true, "type": "ResourceId", "var": "$parameters.id", "options": ["id"], "hide": true, "group": "Parameters", "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"nullable": true, "type": "ResourceLocation", "var": "$parameters.location", "options": ["l", "location"], "hide": true, "group": "Parameters", "help": {"short": "Resource location."}}]}, {"name": "Properties", "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.authorizationKey", "options": ["authorization-key"], "hide": true, "group": "Properties", "help": {"short": "The authorizationKey."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.connectionProtocol", "options": ["connection-protocol"], "hide": true, "group": "Properties", "help": {"short": "Connection protocol used for this connection."}, "enum": {"items": [{"name": "IKEv1", "value": "IKEv1"}, {"name": "IKEv2", "value": "IKEv2"}]}}, {"type": "string", "var": "$parameters.properties.connectionType", "options": ["connection-type"], "hide": true, "group": "Properties", "help": {"short": "Gateway connection type."}, "enum": {"items": [{"name": "ExpressRoute", "value": "ExpressRoute"}, {"name": "IPsec", "value": "IPsec"}, {"name": "VPNClient", "value": "VPNClient"}, {"name": "Vnet2Vnet", "value": "Vnet2Vnet"}]}}, {"nullable": true, "type": "array<object>", "var": "$parameters.properties.ipsecPolicies", "options": ["ipsec-policies"], "group": "Properties", "help": {"short": "The IPSec Policies to be considered by this connection."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$parameters.properties.ipsecPolicies[].dhGroup", "options": ["dh-group"], "help": {"short": "The DH Groups used in IKE Phase 1 for initial SA."}, "enum": {"items": [{"name": "DHGroup1", "value": "DHGroup1"}, {"name": "DHGroup14", "value": "DHGroup14"}, {"name": "DHGroup2", "value": "DHGroup2"}, {"name": "DHGroup2048", "value": "DHGroup2048"}, {"name": "DHGroup24", "value": "DHGroup24"}, {"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ikeEncryption", "options": ["ike-encryption"], "help": {"short": "The IKE encryption algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ikeIntegrity", "options": ["ike-integrity"], "help": {"short": "The IKE integrity algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}, {"name": "SHA384", "value": "SHA384"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ipsecEncryption", "options": ["ipsec-encryption"], "help": {"short": "The IPSec encryption algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ipsecIntegrity", "options": ["ipsec-integrity"], "help": {"short": "The IPSec integrity algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].pfsGroup", "options": ["pfs-group"], "help": {"short": "The Pfs Groups used in IKE Phase 2 for new child SA."}, "enum": {"items": [{"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}, {"name": "PFS1", "value": "PFS1"}, {"name": "PFS14", "value": "PFS14"}, {"name": "PFS2", "value": "PFS2"}, {"name": "PFS2048", "value": "PFS2048"}, {"name": "PFS24", "value": "PFS24"}, {"name": "PFSMM", "value": "PFSMM"}]}}, {"type": "integer32", "var": "$parameters.properties.ipsecPolicies[].saDataSizeKilobytes", "options": ["sa-data-size-kilobytes"], "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) payload size in KB for a site to site VPN tunnel."}}, {"type": "integer32", "var": "$parameters.properties.ipsecPolicies[].saLifeTimeSeconds", "options": ["sa-life-time-seconds"], "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) lifetime in seconds for a site to site VPN tunnel."}}]}}, {"nullable": true, "type": "object", "var": "$parameters.properties.localNetworkGateway2", "options": ["local-network-gateway2"], "hide": true, "group": "Properties", "help": {"short": "The reference to local network gateway resource."}, "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.localNetworkGateway2.etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"nullable": true, "type": "ResourceId", "var": "$parameters.properties.localNetworkGateway2.id", "options": ["id"], "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"nullable": true, "type": "ResourceLocation", "var": "$parameters.properties.localNetworkGateway2.location", "options": ["l", "location"], "help": {"short": "Resource location."}}, {"nullable": true, "type": "@BgpSettings_update", "var": "$parameters.properties.localNetworkGateway2.properties.bgpSettings", "options": ["bgp-settings"], "group": "Properties", "help": {"short": "Local network gateway's BGP speaker settings."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.localNetworkGateway2.properties.gatewayIpAddress", "options": ["gateway-ip-address"], "group": "Properties", "help": {"short": "IP address of local network gateway."}}, {"nullable": true, "type": "@AddressSpace_update", "var": "$parameters.properties.localNetworkGateway2.properties.localNetworkAddressSpace", "options": ["local-network-address-space"], "group": "Properties", "help": {"short": "Local network site address space."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.localNetworkGateway2.properties.resourceGuid", "options": ["resource-guid"], "group": "Properties", "help": {"short": "The resource GUID property of the LocalNetworkGateway resource."}}, {"nullable": true, "type": "object", "var": "$parameters.properties.localNetworkGateway2.tags", "options": ["tags"], "help": {"short": "Resource tags."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"nullable": true, "type": "@SubResource_update", "var": "$parameters.properties.peer", "options": ["peer"], "hide": true, "group": "Properties", "help": {"short": "The reference to peerings resource."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.resourceGuid", "options": ["resource-guid"], "hide": true, "group": "Properties", "help": {"short": "The resource GUID property of the VirtualNetworkGatewayConnection resource."}}, {"type": "object", "var": "$parameters.properties.virtualNetworkGateway1", "options": ["virtual-network-gateway1"], "hide": true, "group": "Properties", "help": {"short": "The reference to virtual network gateway resource."}, "args": [{"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.etag", "options": ["etag"], "help": {"short": "Gets a unique read-only string that changes whenever the resource is updated."}}, {"nullable": true, "type": "ResourceId", "var": "@VirtualNetworkGateway_update.id", "options": ["id"], "hide": true, "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"nullable": true, "type": "ResourceLocation", "var": "@VirtualNetworkGateway_update.location", "options": ["l", "location"], "help": {"short": "Resource location."}}, {"nullable": true, "type": "boolean", "var": "@VirtualNetworkGateway_update.properties.activeActive", "options": ["active-active"], "group": "Properties", "help": {"short": "ActiveActive flag."}}, {"nullable": true, "type": "object", "var": "@VirtualNetworkGateway_update.properties.bgpSettings", "options": ["bgp-settings"], "group": "Properties", "help": {"short": "Virtual network gateway's BGP speaker settings."}, "args": [{"nullable": true, "type": "integer64", "var": "@BgpSettings_update.asn", "options": ["asn"], "help": {"short": "The BGP speaker's ASN."}}, {"nullable": true, "type": "string", "var": "@BgpSettings_update.bgpPeeringAddress", "options": ["bgp-peering-address"], "help": {"short": "The BGP peering address and BGP identifier of this BGP speaker."}}, {"nullable": true, "type": "integer32", "var": "@BgpSettings_update.peerWeight", "options": ["peer-weight"], "help": {"short": "The weight added to routes learned from this BGP speaker."}}], "cls": "BgpSettings_update"}, {"nullable": true, "type": "boolean", "var": "@VirtualNetworkGateway_update.properties.enableBgp", "options": ["enable-bgp"], "group": "Properties", "help": {"short": "Whether BGP is enabled for this virtual network gateway or not."}}, {"nullable": true, "type": "@SubResource_update", "var": "@VirtualNetworkGateway_update.properties.gatewayDefaultSite", "options": ["gateway-default-site"], "group": "Properties", "help": {"short": "The reference to the LocalNetworkGateway resource which represents local network site having default routes. Assign Null value in case of removing existing default site setting."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.gatewayType", "options": ["gateway-type"], "group": "Properties", "help": {"short": "The type of this virtual network gateway."}, "enum": {"items": [{"name": "ExpressRoute", "value": "ExpressRoute"}, {"name": "Vpn", "value": "Vpn"}]}}, {"nullable": true, "type": "array<object>", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations", "options": ["ip-configurations"], "group": "Properties", "help": {"short": "IP configurations for virtual network gateway."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations[].etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations[].id", "options": ["id"], "help": {"short": "Resource ID."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations[].name", "options": ["name"], "help": {"short": "The name of the resource that is unique within a resource group. This name can be used to access the resource."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations[].properties.privateIPAllocationMethod", "options": ["private-ip-allocation-method"], "group": "Properties", "help": {"short": "The private IP address allocation method."}, "enum": {"items": [{"name": "Dynamic", "value": "Dynamic"}, {"name": "Static", "value": "Static"}]}}, {"nullable": true, "type": "@SubResource_update", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations[].properties.publicIPAddress", "options": ["public-ip-address"], "group": "Properties", "help": {"short": "The reference to the public IP resource."}}, {"nullable": true, "type": "object", "var": "@VirtualNetworkGateway_update.properties.ipConfigurations[].properties.subnet", "options": ["subnet"], "group": "Properties", "help": {"short": "The reference to the subnet resource."}, "args": [{"nullable": true, "type": "string", "var": "@SubResource_update.id", "options": ["id"], "help": {"short": "Resource ID."}}], "cls": "SubResource_update"}]}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.resourceGuid", "options": ["resource-guid"], "group": "Properties", "help": {"short": "The resource GUID property of the VirtualNetworkGateway resource."}}, {"nullable": true, "type": "object", "var": "@VirtualNetworkGateway_update.properties.sku", "options": ["sku"], "group": "Properties", "help": {"short": "The reference to the VirtualNetworkGatewaySku resource which represents the SKU selected for Virtual network gateway."}, "args": [{"nullable": true, "type": "integer32", "var": "@VirtualNetworkGateway_update.properties.sku.capacity", "options": ["capacity"], "help": {"short": "The capacity."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.sku.name", "options": ["name"], "help": {"short": "Gateway SKU name."}, "enum": {"items": [{"name": "Basic", "value": "Basic"}, {"name": "ErGw1AZ", "value": "ErGw1AZ"}, {"name": "ErGw2AZ", "value": "ErGw2AZ"}, {"name": "ErGw3AZ", "value": "ErGw3AZ"}, {"name": "HighPerformance", "value": "HighPerformance"}, {"name": "Standard", "value": "Standard"}, {"name": "UltraPerformance", "value": "UltraPerformance"}, {"name": "VpnGw1", "value": "VpnGw1"}, {"name": "VpnGw1AZ", "value": "VpnGw1AZ"}, {"name": "VpnGw2", "value": "VpnGw2"}, {"name": "VpnGw2AZ", "value": "VpnGw2AZ"}, {"name": "VpnGw3", "value": "VpnGw3"}, {"name": "VpnGw3AZ", "value": "VpnGw3AZ"}]}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.sku.tier", "options": ["tier"], "help": {"short": "Gateway SKU tier."}, "enum": {"items": [{"name": "Basic", "value": "Basic"}, {"name": "ErGw1AZ", "value": "ErGw1AZ"}, {"name": "ErGw2AZ", "value": "ErGw2AZ"}, {"name": "ErGw3AZ", "value": "ErGw3AZ"}, {"name": "HighPerformance", "value": "HighPerformance"}, {"name": "Standard", "value": "Standard"}, {"name": "UltraPerformance", "value": "UltraPerformance"}, {"name": "VpnGw1", "value": "VpnGw1"}, {"name": "VpnGw1AZ", "value": "VpnGw1AZ"}, {"name": "VpnGw2", "value": "VpnGw2"}, {"name": "VpnGw2AZ", "value": "VpnGw2AZ"}, {"name": "VpnGw3", "value": "VpnGw3"}, {"name": "VpnGw3AZ", "value": "VpnGw3AZ"}]}}]}, {"nullable": true, "type": "object", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration", "options": ["vpn-client-configuration"], "group": "Properties", "help": {"short": "The reference to the VpnClientConfiguration resource which represents the P2S VpnClient configurations."}, "args": [{"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.radiusServerAddress", "options": ["radius-server-address"], "help": {"short": "The radius server address property of the VirtualNetworkGateway resource for vpn client connection."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.radiusServerSecret", "options": ["radius-server-secret"], "help": {"short": "The radius secret property of the VirtualNetworkGateway resource for vpn client connection."}}, {"nullable": true, "type": "object", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientAddressPool", "options": ["vpn-client-address-pool"], "help": {"short": "The reference to the address space resource which represents Address space for P2S VpnClient."}, "args": [{"nullable": true, "type": "array<string>", "var": "@AddressSpace_update.addressPrefixes", "options": ["address-prefixes"], "help": {"short": "A list of address blocks reserved for this virtual network in CIDR notation."}, "item": {"nullable": true, "type": "string"}}], "cls": "AddressSpace_update"}, {"nullable": true, "type": "array<object>", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientIpsecPolicies", "options": ["vpn-client-ipsec-policies"], "help": {"short": "VpnClientIpsecPolicies for virtual network gateway P2S client."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "@IpsecPolicy_update.dhGroup", "options": ["dh-group"], "help": {"short": "The DH Group used in IKE Phase 1 for initial SA."}, "enum": {"items": [{"name": "DHGroup1", "value": "DHGroup1"}, {"name": "DHGroup14", "value": "DHGroup14"}, {"name": "DHGroup2", "value": "DHGroup2"}, {"name": "DHGroup2048", "value": "DHGroup2048"}, {"name": "DHGroup24", "value": "DHGroup24"}, {"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "@IpsecPolicy_update.ikeEncryption", "options": ["ike-encryption"], "help": {"short": "The IKE encryption algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}]}}, {"type": "string", "var": "@IpsecPolicy_update.ikeIntegrity", "options": ["ike-integrity"], "help": {"short": "The IKE integrity algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}, {"name": "SHA384", "value": "SHA384"}]}}, {"type": "string", "var": "@IpsecPolicy_update.ipsecEncryption", "options": ["ipsec-encryption"], "help": {"short": "The IPSec encryption algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "@IpsecPolicy_update.ipsecIntegrity", "options": ["ipsec-integrity"], "help": {"short": "The IPSec integrity algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}]}}, {"type": "string", "var": "@IpsecPolicy_update.pfsGroup", "options": ["pfs-group"], "help": {"short": "The Pfs Group used in IKE Phase 2 for new child SA."}, "enum": {"items": [{"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}, {"name": "PFS1", "value": "PFS1"}, {"name": "PFS14", "value": "PFS14"}, {"name": "PFS2", "value": "PFS2"}, {"name": "PFS2048", "value": "PFS2048"}, {"name": "PFS24", "value": "PFS24"}, {"name": "PFSMM", "value": "PFSMM"}]}}, {"type": "integer32", "var": "@IpsecPolicy_update.saDataSizeKilobytes", "options": ["sa-data-size-kilobytes"], "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) payload size in KB for a site to site VPN tunnel."}}, {"type": "integer32", "var": "@IpsecPolicy_update.saLifeTimeSeconds", "options": ["sa-life-time-seconds"], "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) lifetime in seconds for a site to site VPN tunnel."}}], "cls": "IpsecPolicy_update"}}, {"nullable": true, "type": "array<string>", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientProtocols", "options": ["vpn-client-protocols"], "help": {"short": "VpnClientProtocols for Virtual network gateway."}, "item": {"nullable": true, "type": "string", "enum": {"items": [{"name": "IkeV2", "value": "IkeV2"}, {"name": "OpenVPN", "value": "OpenVPN"}, {"name": "SSTP", "value": "SSTP"}]}}}, {"nullable": true, "type": "array<object>", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates", "options": ["vpn-client-revoked-certificates"], "help": {"short": "VpnClientRevokedCertificate for Virtual network gateway."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].id", "options": ["id"], "help": {"short": "Resource ID."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].name", "options": ["name"], "help": {"short": "The name of the resource that is unique within a resource group. This name can be used to access the resource."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].properties.thumbprint", "options": ["thumbprint"], "group": "Properties", "help": {"short": "The revoked VPN client certificate thumbprint."}}]}}, {"nullable": true, "type": "array<object>", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates", "options": ["vpn-client-root-certificates"], "help": {"short": "VpnClientRootCertificate for virtual network gateway."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].etag", "options": ["etag"], "help": {"short": "A unique read-only string that changes whenever the resource is updated."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].id", "options": ["id"], "help": {"short": "Resource ID."}}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].name", "options": ["name"], "help": {"short": "The name of the resource that is unique within a resource group. This name can be used to access the resource."}}, {"type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].properties.publicCertData", "options": ["public-cert-data"], "group": "Properties", "help": {"short": "The certificate public data."}}]}}]}, {"nullable": true, "type": "string", "var": "@VirtualNetworkGateway_update.properties.vpnType", "options": ["vpn-type"], "group": "Properties", "help": {"short": "The type of this virtual network gateway."}, "enum": {"items": [{"name": "PolicyBased", "value": "PolicyBased"}, {"name": "RouteBased", "value": "RouteBased"}]}}, {"nullable": true, "type": "object", "var": "@VirtualNetworkGateway_update.tags", "options": ["tags"], "help": {"short": "Resource tags."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}], "cls": "VirtualNetworkGateway_update"}, {"nullable": true, "type": "@VirtualNetworkGateway_update", "var": "$parameters.properties.virtualNetworkGateway2", "options": ["virtual-network-gateway2"], "hide": true, "group": "Properties", "help": {"short": "The reference to virtual network gateway resource."}}]}], "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "string", "name": "etag", "arg": "$parameters.etag"}, {"type": "ResourceId", "name": "id", "arg": "$parameters.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location", "arg": "$parameters.location"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey", "arg": "$parameters.properties.authorizationKey"}, {"type": "string", "name": "connectionProtocol", "arg": "$parameters.properties.connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"type": "string", "name": "connectionType", "arg": "$parameters.properties.connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"type": "boolean", "name": "enableBgp", "arg": "$parameters.properties.enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass", "arg": "$parameters.properties.expressRouteGatewayBypass"}, {"type": "array<object>", "name": "ipsecPolicies", "arg": "$parameters.properties.ipsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "arg": "$parameters.properties.ipsecPolicies[].dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "arg": "$parameters.properties.ipsecPolicies[].ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "arg": "$parameters.properties.ipsecPolicies[].ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "arg": "$parameters.properties.ipsecPolicies[].ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "arg": "$parameters.properties.ipsecPolicies[].ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "arg": "$parameters.properties.ipsecPolicies[].pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "arg": "$parameters.properties.ipsecPolicies[].saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "arg": "$parameters.properties.ipsecPolicies[].saLifeTimeSeconds", "required": true}]}}, {"type": "object", "name": "localNetworkGateway2", "arg": "$parameters.properties.localNetworkGateway2", "props": [{"type": "string", "name": "etag", "arg": "$parameters.properties.localNetworkGateway2.etag"}, {"type": "ResourceId", "name": "id", "arg": "$parameters.properties.localNetworkGateway2.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location", "arg": "$parameters.properties.localNetworkGateway2.location"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_update", "name": "bgpSettings", "arg": "$parameters.properties.localNetworkGateway2.properties.bgpSettings"}, {"type": "string", "name": "gatewayIpAddress", "arg": "$parameters.properties.localNetworkGateway2.properties.gatewayIpAddress"}, {"type": "@AddressSpace_update", "name": "localNetworkAddressSpace", "arg": "$parameters.properties.localNetworkGateway2.properties.localNetworkAddressSpace"}, {"type": "string", "name": "resourceGuid", "arg": "$parameters.properties.localNetworkGateway2.properties.resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.properties.localNetworkGateway2.tags", "additionalProps": {"item": {"type": "string"}}}]}, {"type": "@SubResource_update", "name": "peer", "arg": "$parameters.properties.peer"}, {"type": "string", "name": "resourceGuid", "arg": "$parameters.properties.resourceGuid"}, {"type": "integer32", "name": "routingWeight", "arg": "$parameters.properties.routingWeight"}, {"type": "string", "name": "sharedKey", "arg": "$parameters.properties.sharedKey"}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors", "arg": "$parameters.properties.usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "arg": "$parameters.properties.virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_update.etag"}, {"type": "ResourceId", "name": "id", "arg": "@VirtualNetworkGateway_update.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location", "arg": "@VirtualNetworkGateway_update.location"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive", "arg": "@VirtualNetworkGateway_update.properties.activeActive"}, {"type": "object", "name": "bgpSettings", "arg": "@VirtualNetworkGateway_update.properties.bgpSettings", "props": [{"type": "integer64", "name": "asn", "arg": "@BgpSettings_update.asn"}, {"type": "string", "name": "bgpPeeringAddress", "arg": "@BgpSettings_update.bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight", "arg": "@BgpSettings_update.peerWeight"}], "cls": "BgpSettings_update"}, {"type": "boolean", "name": "enableBgp", "arg": "@VirtualNetworkGateway_update.properties.enableBgp"}, {"type": "@SubResource_update", "name": "gatewayDefaultSite", "arg": "@VirtualNetworkGateway_update.properties.gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "arg": "@VirtualNetworkGateway_update.properties.gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations[].etag"}, {"type": "string", "name": "id", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations[].id"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations[].name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations[].properties.privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"type": "@SubResource_update", "name": "publicIPAddress", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations[].properties.publicIPAddress"}, {"type": "object", "name": "subnet", "arg": "@VirtualNetworkGateway_update.properties.ipConfigurations[].properties.subnet", "props": [{"type": "string", "name": "id", "arg": "@SubResource_update.id"}], "cls": "SubResource_update"}], "clientFlatten": true}]}}, {"type": "string", "name": "resourceGuid", "arg": "@VirtualNetworkGateway_update.properties.resourceGuid"}, {"type": "object", "name": "sku", "arg": "@VirtualNetworkGateway_update.properties.sku", "props": [{"type": "integer32", "name": "capacity", "arg": "@VirtualNetworkGateway_update.properties.sku.capacity"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_update.properties.sku.name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "arg": "@VirtualNetworkGateway_update.properties.sku.tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "arg": "@AddressSpace_update.addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_update"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "arg": "@IpsecPolicy_update.dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "arg": "@IpsecPolicy_update.ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "arg": "@IpsecPolicy_update.ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "arg": "@IpsecPolicy_update.ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "arg": "@IpsecPolicy_update.ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "arg": "@IpsecPolicy_update.pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "arg": "@IpsecPolicy_update.saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "arg": "@IpsecPolicy_update.saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_update"}}, {"type": "array<string>", "name": "vpnClientProtocols", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].etag"}, {"type": "string", "name": "id", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].id"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "thumbprint", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRevokedCertificates[].properties.thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].etag"}, {"type": "string", "name": "id", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].id"}, {"type": "string", "name": "name", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "publicCertData", "arg": "@VirtualNetworkGateway_update.properties.vpnClientConfiguration.vpnClientRootCertificates[].properties.publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "arg": "@VirtualNetworkGateway_update.properties.vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "@VirtualNetworkGateway_update.tags", "additionalProps": {"item": {"type": "string"}}}], "cls": "VirtualNetworkGateway_update"}, {"type": "@VirtualNetworkGateway_update", "name": "virtualNetworkGateway2", "arg": "$parameters.properties.virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "VirtualNetworkGatewayConnections_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}], "commandGroups": [{"name": "ipsec-policy", "commands": [{"name": "list", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "subresource": "properties.ipsecPolicies", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["connection-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "parameters", "prop": {"type": "array", "name": "properties.ipsecPolicies"}}}, "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "array", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "add", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "subresource": "properties.ipsecPolicies[]", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["connection-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}, {"type": "integer", "var": "$parameters.properties.ipsecPolicies[Index]", "options": ["ipsec-policy-index"]}]}, {"name": "IKE Phase 1", "args": [{"type": "string", "var": "$parameters.properties.ipsecPolicies[].dhGroup", "options": ["dh-group"], "required": true, "group": "IKE Phase 1", "help": {"short": "The DH Groups used for initial SA."}, "enum": {"items": [{"name": "DHGroup1", "value": "DHGroup1"}, {"name": "DHGroup14", "value": "DHGroup14"}, {"name": "DHGroup2", "value": "DHGroup2"}, {"name": "DHGroup2048", "value": "DHGroup2048"}, {"name": "DHGroup24", "value": "DHGroup24"}, {"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ipsecEncryption", "options": ["ipsec-encryption"], "required": true, "group": "IKE Phase 1", "help": {"short": "The IPSec encryption algorithm."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ipsecIntegrity", "options": ["ipsec-integrity"], "required": true, "group": "IKE Phase 1", "help": {"short": "The IPSec integrity algorithm."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}]}}]}, {"name": "IKE Phase 2", "args": [{"type": "string", "var": "$parameters.properties.ipsecPolicies[].ikeEncryption", "options": ["ike-encryption"], "required": true, "group": "IKE Phase 2", "help": {"short": "The IKE encryption algorithm."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ikeIntegrity", "options": ["ike-integrity"], "required": true, "group": "IKE Phase 2", "help": {"short": "The IKE integrity algorithm."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}, {"name": "SHA384", "value": "SHA384"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].pfsGroup", "options": ["pfs-group"], "required": true, "group": "IKE Phase 2", "help": {"short": "The Pfs Groups used for new child SA."}, "enum": {"items": [{"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}, {"name": "PFS1", "value": "PFS1"}, {"name": "PFS14", "value": "PFS14"}, {"name": "PFS2", "value": "PFS2"}, {"name": "PFS2048", "value": "PFS2048"}, {"name": "PFS24", "value": "PFS24"}, {"name": "PFSMM", "value": "PFSMM"}]}}]}, {"name": "Security Association", "args": [{"type": "integer32", "var": "$parameters.properties.ipsecPolicies[].saDataSizeKilobytes", "options": ["sa-max-size"], "required": true, "group": "Security Association", "help": {"short": "The payload size in KB for P2S client."}}, {"type": "integer32", "var": "$parameters.properties.ipsecPolicies[].saLifeTimeSeconds", "options": ["sa-lifetime"], "required": true, "group": "Security Association", "help": {"short": "The lifetime in seconds for P2S client."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "parameters", "prop": {"type": "array", "name": "properties.ipsecPolicies", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$parameters.properties.ipsecPolicies[Index]"}]}}}, "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "parameters.properties.ipsecPolicies[]", "required": true, "props": [{"type": "string", "name": "dhGroup", "arg": "$parameters.properties.ipsecPolicies[].dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "arg": "$parameters.properties.ipsecPolicies[].ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "arg": "$parameters.properties.ipsecPolicies[].ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "arg": "$parameters.properties.ipsecPolicies[].ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "arg": "$parameters.properties.ipsecPolicies[].ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "arg": "$parameters.properties.ipsecPolicies[].pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "arg": "$parameters.properties.ipsecPolicies[].saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "arg": "$parameters.properties.ipsecPolicies[].saLifeTimeSeconds", "required": true}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "VirtualNetworkGatewayConnections_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "subresource": "properties.ipsecPolicies[]", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["connection-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}, {"type": "integer", "var": "$parameters.properties.ipsecPolicies[Index]", "options": ["ipsec-policy-index"], "required": true}]}, {"name": "Parameters.properties.ipsecPolicies[]", "args": [{"type": "string", "var": "$parameters.properties.ipsecPolicies[].dhGroup", "options": ["dh-group"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The DH Groups used in IKE Phase 1 for initial SA."}, "enum": {"items": [{"name": "DHGroup1", "value": "DHGroup1"}, {"name": "DHGroup14", "value": "DHGroup14"}, {"name": "DHGroup2", "value": "DHGroup2"}, {"name": "DHGroup2048", "value": "DHGroup2048"}, {"name": "DHGroup24", "value": "DHGroup24"}, {"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ikeEncryption", "options": ["ike-encryption"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The IKE encryption algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ikeIntegrity", "options": ["ike-integrity"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The IKE integrity algorithm (IKE phase 2)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}, {"name": "SHA384", "value": "SHA384"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ipsecEncryption", "options": ["ipsec-encryption"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The IPSec encryption algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "AES128", "value": "AES128"}, {"name": "AES192", "value": "AES192"}, {"name": "AES256", "value": "AES256"}, {"name": "DES", "value": "DES"}, {"name": "DES3", "value": "DES3"}, {"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].ipsecIntegrity", "options": ["ipsec-integrity"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The IPSec integrity algorithm (IKE phase 1)."}, "enum": {"items": [{"name": "GCMAES128", "value": "GCMAES128"}, {"name": "GCMAES192", "value": "GCMAES192"}, {"name": "GCMAES256", "value": "GCMAES256"}, {"name": "MD5", "value": "MD5"}, {"name": "SHA1", "value": "SHA1"}, {"name": "SHA256", "value": "SHA256"}]}}, {"type": "string", "var": "$parameters.properties.ipsecPolicies[].pfsGroup", "options": ["pfs-group"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The Pfs Groups used in IKE Phase 2 for new child SA."}, "enum": {"items": [{"name": "ECP256", "value": "ECP256"}, {"name": "ECP384", "value": "ECP384"}, {"name": "None", "value": "None"}, {"name": "PFS1", "value": "PFS1"}, {"name": "PFS14", "value": "PFS14"}, {"name": "PFS2", "value": "PFS2"}, {"name": "PFS2048", "value": "PFS2048"}, {"name": "PFS24", "value": "PFS24"}, {"name": "PFSMM", "value": "PFSMM"}]}}, {"type": "integer32", "var": "$parameters.properties.ipsecPolicies[].saDataSizeKilobytes", "options": ["sa-data-size-kilobytes"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) payload size in KB for a site to site VPN tunnel."}}, {"type": "integer32", "var": "$parameters.properties.ipsecPolicies[].saLifeTimeSeconds", "options": ["sa-life-time-seconds"], "group": "Parameters.properties.ipsecPolicies[]", "help": {"short": "The IPSec Security Association (also called Quick Mode or Phase 2 SA) lifetime in seconds for a site to site VPN tunnel."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "parameters", "prop": {"type": "array", "name": "properties.ipsecPolicies", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$parameters.properties.ipsecPolicies[Index]", "required": true}]}}}, "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "parameters.properties.ipsecPolicies[]", "required": true, "props": [{"type": "string", "name": "dhGroup", "arg": "$parameters.properties.ipsecPolicies[].dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "arg": "$parameters.properties.ipsecPolicies[].ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "arg": "$parameters.properties.ipsecPolicies[].ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "arg": "$parameters.properties.ipsecPolicies[].ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "arg": "$parameters.properties.ipsecPolicies[].ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "arg": "$parameters.properties.ipsecPolicies[].pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "arg": "$parameters.properties.ipsecPolicies[].saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "arg": "$parameters.properties.ipsecPolicies[].saLifeTimeSeconds", "required": true}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "VirtualNetworkGatewayConnections_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "subresource": "properties.ipsecPolicies[]", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["connection-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}, {"type": "integer", "var": "$parameters.properties.ipsecPolicies[Index]", "options": ["ipsec-policy-index"], "required": true}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "parameters", "prop": {"type": "array", "name": "properties.ipsecPolicies", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$parameters.properties.ipsecPolicies[Index]", "required": true}]}}}, "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "VirtualNetworkGatewayConnections_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2018-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/connections/{}", "version": "2018-11-01", "subresource": "properties.ipsecPolicies[]", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9jb25uZWN0aW9ucy97dmlydHVhbE5ldHdvcmtHYXRld2F5Q29ubmVjdGlvbk5hbWV9/V/MjAxOC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.virtualNetworkGatewayConnectionName", "options": ["connection-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Connection name."}}, {"type": "integer", "var": "$parameters.properties.ipsecPolicies[Index]", "options": ["ipsec-policy-index"], "required": true}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "parameters", "prop": {"type": "array", "name": "properties.ipsecPolicies", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$parameters.properties.ipsecPolicies[Index]", "required": true}]}}}, "operations": [{"operationId": "VirtualNetworkGatewayConnections_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/connections/{virtualNetworkGatewayConnectionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "virtualNetworkGatewayConnectionName", "arg": "$Path.virtualNetworkGatewayConnectionName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/connections/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "authorizationKey"}, {"type": "string", "name": "connectionProtocol", "enum": {"items": [{"value": "IKEv1"}, {"value": "IKEv2"}]}}, {"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"type": "string", "name": "connectionType", "required": true, "enum": {"items": [{"value": "ExpressRoute"}, {"value": "IPsec"}, {"value": "VPNClient"}, {"value": "Vnet2Vnet"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"type": "boolean", "name": "enableBgp"}, {"type": "boolean", "name": "expressRouteGatewayBypass"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"type": "array<@IpsecPolicy_read>", "name": "ipsecPolicies", "item": {"type": "@IpsecPolicy_read"}}, {"type": "object", "name": "localNetworkGateway2", "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/localNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "@BgpSettings_read", "name": "bgpSettings"}, {"type": "string", "name": "gatewayIpAddress"}, {"type": "@AddressSpace_read", "name": "localNetworkAddressSpace"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}, {"type": "@SubResource_read", "name": "peer"}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "integer32", "name": "routingWeight"}, {"type": "string", "name": "sharedKey"}, {"readOnly": true, "type": "array<object>", "name": "tunnelConnectionStatus", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "connectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Connecting"}, {"value": "NotConnected"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "integer64", "name": "egressBytesTransferred"}, {"readOnly": true, "type": "integer64", "name": "ingressBytesTransferred"}, {"readOnly": true, "type": "string", "name": "lastConnectionEstablishedUtcTime"}, {"readOnly": true, "type": "string", "name": "tunnel"}]}}, {"type": "boolean", "name": "usePolicyBasedTrafficSelectors"}, {"type": "object", "name": "virtualNetworkGateway1", "required": true, "props": [{"type": "string", "name": "etag"}, {"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/virtualNetworkGateways/{}"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "boolean", "name": "activeActive"}, {"type": "object", "name": "bgpSettings", "props": [{"type": "integer64", "name": "asn"}, {"type": "string", "name": "bgpPeeringAddress"}, {"type": "integer32", "name": "peerWeight"}], "cls": "BgpSettings_read"}, {"type": "boolean", "name": "enableBgp"}, {"type": "@SubResource_read", "name": "gatewayDefaultSite"}, {"type": "string", "name": "gatewayType", "enum": {"items": [{"value": "ExpressRoute"}, {"value": "Vpn"}]}}, {"type": "array<object>", "name": "ipConfigurations", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "privateIPAllocationMethod", "enum": {"items": [{"value": "Dynamic"}, {"value": "Static"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "@SubResource_read", "name": "publicIPAddress"}, {"type": "object", "name": "subnet", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}], "clientFlatten": true}]}}, {"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "resourceGuid"}, {"type": "object", "name": "sku", "props": [{"type": "integer32", "name": "capacity"}, {"type": "string", "name": "name", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}, {"type": "string", "name": "tier", "enum": {"items": [{"value": "Basic"}, {"value": "ErGw1AZ"}, {"value": "ErGw2AZ"}, {"value": "ErGw3AZ"}, {"value": "HighPerformance"}, {"value": "Standard"}, {"value": "UltraPerformance"}, {"value": "VpnGw1"}, {"value": "VpnGw1AZ"}, {"value": "VpnGw2"}, {"value": "VpnGw2AZ"}, {"value": "VpnGw3"}, {"value": "VpnGw3AZ"}]}}]}, {"type": "object", "name": "vpnClientConfiguration", "props": [{"type": "string", "name": "radiusServerAddress"}, {"type": "string", "name": "radiusServerSecret"}, {"type": "object", "name": "vpnClientAddressPool", "props": [{"type": "array<string>", "name": "addressPrefixes", "item": {"type": "string"}}], "cls": "AddressSpace_read"}, {"type": "array<object>", "name": "vpnClientIpsecPolicies", "item": {"type": "object", "props": [{"type": "string", "name": "dhGroup", "required": true, "enum": {"items": [{"value": "DHGroup1"}, {"value": "DHGroup14"}, {"value": "DHGroup2"}, {"value": "DHGroup2048"}, {"value": "DHGroup24"}, {"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}]}}, {"type": "string", "name": "ikeEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES256"}]}}, {"type": "string", "name": "ikeIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}, {"value": "SHA384"}]}}, {"type": "string", "name": "ipsecEncryption", "required": true, "enum": {"items": [{"value": "AES128"}, {"value": "AES192"}, {"value": "AES256"}, {"value": "DES"}, {"value": "DES3"}, {"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "None"}]}}, {"type": "string", "name": "ipsecIntegrity", "required": true, "enum": {"items": [{"value": "GCMAES128"}, {"value": "GCMAES192"}, {"value": "GCMAES256"}, {"value": "MD5"}, {"value": "SHA1"}, {"value": "SHA256"}]}}, {"type": "string", "name": "pfsGroup", "required": true, "enum": {"items": [{"value": "ECP256"}, {"value": "ECP384"}, {"value": "None"}, {"value": "PFS1"}, {"value": "PFS14"}, {"value": "PFS2"}, {"value": "PFS2048"}, {"value": "PFS24"}, {"value": "PFSMM"}]}}, {"type": "integer32", "name": "saDataSizeKilobytes", "required": true}, {"type": "integer32", "name": "saLifeTimeSeconds", "required": true}], "cls": "IpsecPolicy_read"}}, {"type": "array<string>", "name": "vpnClientProtocols", "item": {"type": "string", "enum": {"items": [{"value": "IkeV2"}, {"value": "OpenVPN"}, {"value": "SSTP"}]}}}, {"type": "array<object>", "name": "vpnClientRevokedCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "thumbprint"}], "clientFlatten": true}]}}, {"type": "array<object>", "name": "vpnClientRootCertificates", "item": {"type": "object", "props": [{"type": "string", "name": "etag"}, {"type": "string", "name": "id"}, {"type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "provisioningState"}, {"type": "string", "name": "publicCertData", "required": true}], "clientFlatten": true}]}}]}, {"type": "string", "name": "vpnType", "enum": {"items": [{"value": "PolicyBased"}, {"value": "RouteBased"}]}}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGateway_read"}, {"type": "@VirtualNetworkGateway_read", "name": "virtualNetworkGateway2"}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "VirtualNetworkGatewayConnection_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}]}]}]}