{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.workloads/sapvirtualinstances", "version": "2023-10-01-preview", "swagger": "mgmt-plane/workloads/ResourceProviders/Microsoft.Workloads/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuV29ya2xvYWRzL3NhcFZpcnR1YWxJbnN0YW5jZXM=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "commandGroups": [{"name": "workloads sap-virtual-instance", "commands": [{"name": "list", "version": "2023-10-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.workloads/sapvirtualinstances", "version": "2023-10-01-preview", "swagger": "mgmt-plane/workloads/ResourceProviders/Microsoft.Workloads/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuV29ya2xvYWRzL3NhcFZpcnR1YWxJbnN0YW5jZXM=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "SAPVirtualInstances_ListByResourceGroup", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Workloads/sapVirtualInstances", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-10-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "nextLink"}, {"type": "array<object>", "name": "value", "item": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Workloads/sapVirtualInstances/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"nullable": true, "type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "configuration", "required": true, "props": [{"type": "string", "name": "configurationType", "required": true, "enum": {"items": [{"value": "Deployment"}, {"value": "DeploymentWithOSConfig"}, {"value": "Discovery"}]}}], "discriminators": [{"property": "configurationType", "value": "Deployment", "props": [{"type": "string", "name": "appLocation"}, {"type": "object", "name": "infrastructureConfiguration", "props": [{"type": "string", "name": "appResourceGroup", "required": true}, {"type": "string", "name": "deploymentType", "required": true, "enum": {"items": [{"value": "SingleServer"}, {"value": "ThreeTier"}]}}], "discriminators": [{"property": "deploymentType", "value": "SingleServer", "props": [{"type": "object", "name": "customResourceNames", "props": [{"type": "string", "name": "namingPatternType", "required": true, "enum": {"items": [{"value": "FullResourceName"}]}}], "discriminators": [{"property": "namingPatternType", "value": "FullResourceName", "props": [{"type": "object", "name": "virtualMachine", "props": [{"type": "object", "name": "dataDiskNames", "additionalProps": {"item": {"type": "array<string>", "item": {"type": "string"}}}}, {"type": "string", "name": "hostName"}, {"type": "array<object>", "name": "networkInterfaces", "item": {"type": "object", "props": [{"type": "string", "name": "networkInterfaceName"}]}}, {"type": "string", "name": "osDiskName"}, {"type": "string", "name": "vmName"}], "cls": "VirtualMachineResourceNames_read"}]}]}, {"type": "string", "name": "databaseType", "enum": {"items": [{"value": "DB2"}, {"value": "HANA"}]}}, {"type": "object", "name": "dbDiskConfiguration", "props": [{"type": "object", "name": "diskVolumeConfigurations", "additionalProps": {"item": {"type": "object", "props": [{"type": "integer64", "name": "count"}, {"type": "integer64", "name": "sizeGB"}, {"type": "object", "name": "sku", "props": [{"type": "string", "name": "name", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Premium_ZRS"}, {"value": "StandardSSD_LRS"}, {"value": "StandardSSD_ZRS"}, {"value": "Standard_LRS"}, {"value": "UltraSSD_LRS"}]}}]}]}}}], "cls": "DiskConfiguration_read"}, {"type": "object", "name": "networkConfiguration", "props": [{"default": {"value": false}, "type": "boolean", "name": "isSecondaryIpEnabled"}], "cls": "NetworkConfiguration_read"}, {"type": "string", "name": "subnetId", "required": true}, {"type": "object", "name": "virtualMachineConfiguration", "required": true, "props": [{"type": "object", "name": "imageReference", "required": true, "props": [{"type": "ResourceId", "name": "id"}, {"type": "string", "name": "offer"}, {"type": "string", "name": "publisher"}, {"type": "string", "name": "sku"}, {"type": "string", "name": "version"}]}, {"type": "object", "name": "osProfile", "required": true, "props": [{"type": "string", "name": "adminPassword", "secret": true}, {"type": "string", "name": "adminUsername"}, {"type": "object", "name": "osConfiguration", "props": [{"type": "string", "name": "osType", "required": true, "enum": {"items": [{"value": "Linux"}, {"value": "Windows"}]}}], "discriminators": [{"property": "osType", "value": "Linux", "props": [{"type": "boolean", "name": "disablePasswordAuthentication"}, {"type": "object", "name": "ssh", "props": [{"type": "array<object>", "name": "publicKeys", "item": {"type": "object", "props": [{"type": "string", "name": "keyData"}]}}]}, {"type": "object", "name": "sshKeyPair", "props": [{"type": "string", "name": "privateKey", "secret": true}, {"type": "string", "name": "publicKey"}]}]}, {"property": "osType", "value": "Windows"}]}]}, {"type": "string", "name": "vmSize", "required": true}], "cls": "VirtualMachineConfiguration_read"}]}, {"property": "deploymentType", "value": "ThreeTier", "props": [{"type": "object", "name": "applicationServer", "required": true, "props": [{"type": "integer64", "name": "instanceCount", "required": true}, {"type": "string", "name": "subnetId", "required": true}, {"type": "@VirtualMachineConfiguration_read", "name": "virtualMachineConfiguration", "required": true}]}, {"type": "object", "name": "centralServer", "required": true, "props": [{"type": "integer64", "name": "instanceCount", "required": true}, {"type": "string", "name": "subnetId", "required": true}, {"type": "@VirtualMachineConfiguration_read", "name": "virtualMachineConfiguration", "required": true}]}, {"type": "object", "name": "customResourceNames", "props": [{"type": "string", "name": "namingPatternType", "required": true, "enum": {"items": [{"value": "FullResourceName"}]}}], "discriminators": [{"property": "namingPatternType", "value": "FullResourceName", "props": [{"type": "object", "name": "applicationServer", "props": [{"type": "string", "name": "availabilitySetName"}, {"type": "array<@VirtualMachineResourceNames_read>", "name": "virtualMachines", "item": {"type": "@VirtualMachineResourceNames_read"}}]}, {"type": "object", "name": "centralServer", "props": [{"type": "string", "name": "availabilitySetName"}, {"type": "object", "name": "loadBalancer", "props": [{"type": "array<string>", "name": "backendPoolNames", "item": {"type": "string"}}, {"type": "array<string>", "name": "frontendIpConfigurationNames", "item": {"type": "string"}}, {"type": "array<string>", "name": "healthProbeNames", "item": {"type": "string"}}, {"type": "string", "name": "loadBalancerName"}], "cls": "LoadBalancerResourceNames_read"}, {"type": "array<@VirtualMachineResourceNames_read>", "name": "virtualMachines", "item": {"type": "@VirtualMachineResourceNames_read"}}]}, {"type": "object", "name": "databaseServer", "props": [{"type": "string", "name": "availabilitySetName"}, {"type": "@LoadBalancerResourceNames_read", "name": "loadBalancer"}, {"type": "array<@VirtualMachineResourceNames_read>", "name": "virtualMachines", "item": {"type": "@VirtualMachineResourceNames_read"}}]}, {"type": "object", "name": "sharedStorage", "props": [{"type": "string", "name": "sharedStorageAccountName"}, {"type": "string", "name": "sharedStorageAccountPrivateEndPointName"}]}]}]}, {"type": "object", "name": "databaseServer", "required": true, "props": [{"type": "string", "name": "databaseType", "enum": {"items": [{"value": "DB2"}, {"value": "HANA"}]}}, {"type": "@DiskConfiguration_read", "name": "diskConfiguration"}, {"type": "integer64", "name": "instanceCount", "required": true}, {"type": "string", "name": "subnetId", "required": true}, {"type": "@VirtualMachineConfiguration_read", "name": "virtualMachineConfiguration", "required": true}]}, {"type": "object", "name": "highAvailabilityConfig", "props": [{"type": "string", "name": "highAvailabilityType", "required": true, "enum": {"items": [{"value": "AvailabilitySet"}, {"value": "AvailabilityZone"}]}}]}, {"type": "@NetworkConfiguration_read", "name": "networkConfiguration"}, {"type": "object", "name": "storageConfiguration", "props": [{"type": "object", "name": "transportFileShareConfiguration", "props": [{"type": "string", "name": "configurationType", "required": true, "enum": {"items": [{"value": "CreateAndMount"}, {"value": "Mount"}, {"value": "Skip"}]}}], "discriminators": [{"property": "configurationType", "value": "CreateAndMount", "props": [{"type": "string", "name": "resourceGroup"}, {"type": "string", "name": "storageAccountName"}]}, {"property": "configurationType", "value": "Mount", "props": [{"type": "string", "name": "id", "required": true}, {"type": "string", "name": "privateEndpointId", "required": true}]}, {"property": "configurationType", "value": "Skip"}]}]}]}], "cls": "InfrastructureConfiguration_read"}, {"type": "object", "name": "softwareConfiguration", "props": [{"type": "string", "name": "softwareInstallationType", "required": true, "enum": {"items": [{"value": "External"}, {"value": "SAPInstallWithoutOSConfig"}, {"value": "ServiceInitiated"}]}}], "discriminators": [{"property": "softwareInstallationType", "value": "External", "props": [{"type": "string", "name": "centralServerVmId"}]}, {"property": "softwareInstallationType", "value": "SAPInstallWithoutOSConfig", "props": [{"type": "string", "name": "bomUrl", "required": true}, {"type": "@HighAvailabilitySoftwareConfiguration_read", "name": "highAvailabilitySoftwareConfiguration"}, {"type": "string", "name": "sapBitsStorageAccountId", "required": true}, {"type": "string", "name": "softwareVersion", "required": true}]}, {"property": "softwareInstallationType", "value": "ServiceInitiated", "props": [{"type": "string", "name": "bomUrl", "required": true}, {"type": "object", "name": "highAvailabilitySoftwareConfiguration", "props": [{"type": "string", "name": "fencingClientId", "required": true}, {"type": "string", "name": "fencingClientPassword", "required": true, "secret": true}], "cls": "HighAvailabilitySoftwareConfiguration_read"}, {"type": "string", "name": "sapBitsStorageAccountId", "required": true}, {"type": "string", "name": "sapFqdn", "required": true}, {"type": "string", "name": "softwareVersion", "required": true}, {"type": "string", "name": "sshPrivateKey", "required": true, "secret": true}]}], "cls": "SoftwareConfiguration_read"}]}, {"property": "configurationType", "value": "DeploymentWithOSConfig", "props": [{"type": "string", "name": "appLocation"}, {"type": "@InfrastructureConfiguration_read", "name": "infrastructureConfiguration"}, {"type": "object", "name": "osSapConfiguration", "props": [{"type": "object", "name": "deployerVmPackages", "props": [{"type": "string", "name": "storageAccountId"}, {"type": "string", "name": "url"}]}, {"type": "string", "name": "sapFqdn"}]}, {"type": "@SoftwareConfiguration_read", "name": "softwareConfiguration"}]}, {"property": "configurationType", "value": "Discovery", "props": [{"readOnly": true, "type": "string", "name": "appLocation"}, {"type": "string", "name": "centralServerVmId"}, {"type": "string", "name": "managedRgStorageAccountName", "format": {"maxLength": 24, "minLength": 3}}]}]}, {"type": "string", "name": "environment", "required": true, "enum": {"items": [{"value": "NonProd"}, {"value": "Prod"}]}}, {"type": "object", "name": "errors", "props": [{"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "code"}, {"readOnly": true, "type": "array<@ErrorDefinition_read>", "name": "details", "item": {"type": "@ErrorDefinition_read"}}, {"readOnly": true, "type": "string", "name": "message"}], "cls": "ErrorDefinition_read"}]}, {"type": "string", "name": "health", "enum": {"items": [{"value": "Degraded"}, {"value": "Healthy"}, {"value": "Unhealthy"}, {"value": "Unknown"}]}}, {"type": "object", "name": "managedResourceGroupConfiguration", "props": [{"type": "string", "name": "name"}]}, {"default": {"value": "Public"}, "type": "string", "name": "managedResourcesNetworkAccessType", "enum": {"items": [{"value": "Private"}, {"value": "Public"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "string", "name": "sapProduct", "required": true, "enum": {"items": [{"value": "ECC"}, {"value": "Other"}, {"value": "S4HANA"}]}}, {"type": "string", "name": "state", "enum": {"items": [{"value": "ACSSInstallationBlocked"}, {"value": "DiscoveryFailed"}, {"value": "DiscoveryInProgress"}, {"value": "DiscoveryPending"}, {"value": "InfrastructureDeploymentFailed"}, {"value": "InfrastructureDeploymentInProgress"}, {"value": "InfrastructureDeploymentPending"}, {"value": "RegistrationComplete"}, {"value": "SoftwareDetectionFailed"}, {"value": "SoftwareDetectionInProgress"}, {"value": "SoftwareInstallationFailed"}, {"value": "SoftwareInstallationInProgress"}, {"value": "SoftwareInstallationPending"}]}}, {"type": "string", "name": "status", "enum": {"items": [{"value": "Offline"}, {"value": "PartiallyRunning"}, {"value": "Running"}, {"value": "SoftShutdown"}, {"value": "Starting"}, {"value": "Stopping"}, {"value": "Unavailable"}]}}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "array", "ref": "$Instance.value", "clientFlatten": true, "nextLink": "$Instance.nextLink"}]}]}]}