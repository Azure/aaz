{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/firewallpolicies/{}/firewallpolicydrafts/default", "version": "2023-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9maXJld2FsbFBvbGljaWVzL3tmaXJld2FsbFBvbGljeU5hbWV9L2ZpcmV3YWxsUG9saWN5RHJhZnRzL2RlZmF1bHQ=/V/MjAyMy0xMS0wMQ=="}], "commandGroups": [{"name": "network firewall policy draft", "commands": [{"name": "show", "version": "2023-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/firewallpolicies/{}/firewallpolicydrafts/default", "version": "2023-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9maXJld2FsbFBvbGljaWVzL3tmaXJld2FsbFBvbGljeU5hbWV9L2ZpcmV3YWxsUG9saWN5RHJhZnRzL2RlZmF1bHQ=/V/MjAyMy0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.firewallPolicyName", "options": ["firewall-policy-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Firewall Policy."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "FirewallPolicyDrafts_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/firewallPolicies/{firewallPolicyName}/firewallPolicyDrafts/default", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "firewallPolicyName", "arg": "$Path.firewallPolicyName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "basePolicy", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}, {"type": "object", "name": "dnsSettings", "props": [{"type": "boolean", "name": "enableProxy"}, {"nullable": true, "type": "boolean", "name": "requireProxyForNetworkRules"}, {"type": "array<string>", "name": "servers", "item": {"type": "string"}}]}, {"type": "object", "name": "explicitProxy", "props": [{"nullable": true, "type": "boolean", "name": "enableExplicitProxy"}, {"nullable": true, "type": "boolean", "name": "enablePacFile"}, {"type": "integer32", "name": "httpPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "integer32", "name": "httpsPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "string", "name": "pacFile"}, {"type": "integer32", "name": "pacFilePort", "format": {"maximum": 64000, "minimum": 0}}]}, {"type": "object", "name": "insights", "props": [{"type": "boolean", "name": "isEnabled"}, {"type": "object", "name": "logAnalyticsResources", "props": [{"type": "@SubResource_read", "name": "defaultWorkspaceId"}, {"type": "array<object>", "name": "workspaces", "item": {"type": "object", "props": [{"type": "string", "name": "region"}, {"type": "@SubResource_read", "name": "workspaceId"}]}}]}, {"type": "integer32", "name": "retentionDays"}]}, {"type": "object", "name": "intrusionDetection", "props": [{"type": "object", "name": "configuration", "props": [{"type": "array<object>", "name": "bypassTrafficSettings", "item": {"type": "object", "props": [{"type": "string", "name": "description"}, {"type": "array<string>", "name": "destinationAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationIpGroups", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationPorts", "item": {"type": "string"}}, {"type": "string", "name": "name"}, {"type": "string", "name": "protocol", "enum": {"items": [{"value": "ANY"}, {"value": "ICMP"}, {"value": "TCP"}, {"value": "UDP"}]}}, {"type": "array<string>", "name": "sourceAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "sourceIpGroups", "item": {"type": "string"}}]}}, {"type": "array<string>", "name": "privateRanges", "item": {"type": "string"}}, {"type": "array<object>", "name": "signatureOverrides", "item": {"type": "object", "props": [{"type": "string", "name": "id"}, {"type": "string", "name": "mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}]}}]}, {"type": "string", "name": "mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "string", "name": "profile", "enum": {"items": [{"value": "Advanced"}, {"value": "Basic"}, {"value": "Extended"}, {"value": "Standard"}]}}]}, {"type": "object", "name": "snat", "props": [{"type": "string", "name": "autoLearnPrivateRanges", "enum": {"items": [{"value": "Disabled"}, {"value": "Enabled"}]}}, {"type": "array<string>", "name": "privateRanges", "item": {"type": "string"}}]}, {"type": "object", "name": "sql", "props": [{"type": "boolean", "name": "allowSqlRedirect"}]}, {"type": "string", "name": "threatIntelMode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "object", "name": "threatIntelWhitelist", "props": [{"type": "array<string>", "name": "fqdns", "item": {"type": "string"}}, {"type": "array<string>", "name": "ipAddresses", "item": {"type": "string"}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "delete", "version": "2023-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/firewallpolicies/{}/firewallpolicydrafts/default", "version": "2023-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9maXJld2FsbFBvbGljaWVzL3tmaXJld2FsbFBvbGljeU5hbWV9L2ZpcmV3YWxsUG9saWN5RHJhZnRzL2RlZmF1bHQ=/V/MjAyMy0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.firewallPolicyName", "options": ["firewall-policy-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Firewall Policy."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "FirewallPolicyDrafts_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/firewallPolicies/{firewallPolicyName}/firewallPolicyDrafts/default", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "firewallPolicyName", "arg": "$Path.firewallPolicyName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "create", "version": "2023-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/firewallpolicies/{}/firewallpolicydrafts/default", "version": "2023-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9maXJld2FsbFBvbGljaWVzL3tmaXJld2FsbFBvbGljeU5hbWV9L2ZpcmV3YWxsUG9saWN5RHJhZnRzL2RlZmF1bHQ=/V/MjAyMy0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.firewallPolicyName", "options": ["firewall-policy-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Firewall Policy."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Parameters", "args": [{"type": "ResourceId", "var": "$parameters.id", "options": ["id"], "hide": true, "group": "Parameters", "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"type": "ResourceLocation", "var": "$parameters.location", "options": ["l", "location"], "group": "Parameters", "help": {"short": "Resource location."}}, {"type": "object", "var": "$parameters.tags", "options": ["tags"], "group": "Parameters", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$parameters.properties.basePolicy", "options": ["base-policy"], "group": "Properties", "help": {"short": "The parent firewall policy from which rules are inherited."}, "args": [{"type": "string", "var": "@SubResource_create.id", "options": ["id"], "help": {"short": "Resource ID."}}], "cls": "SubResource_create"}, {"type": "object", "var": "$parameters.properties.dnsSettings", "options": ["dns-settings"], "group": "Properties", "help": {"short": "DNS Proxy Settings definition."}, "args": [{"type": "boolean", "var": "$parameters.properties.dnsSettings.enableProxy", "options": ["enable-proxy"], "help": {"short": "Enable DNS Proxy on Firewalls attached to the Firewall Policy."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.dnsSettings.requireProxyForNetworkRules", "options": ["require-proxy-for-network-rules"], "help": {"short": "FQDNs in Network Rules are supported when set to true."}}, {"type": "array<string>", "var": "$parameters.properties.dnsSettings.servers", "options": ["servers"], "help": {"short": "List of Custom DNS Servers."}, "item": {"type": "string"}}]}, {"type": "object", "var": "$parameters.properties.explicitProxy", "options": ["explicit-proxy"], "group": "Properties", "help": {"short": "Explicit Proxy Settings definition."}, "args": [{"nullable": true, "type": "boolean", "var": "$parameters.properties.explicitProxy.enableExplicitProxy", "options": ["enable-explicit-proxy"], "help": {"short": "When set to true, explicit proxy mode is enabled."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.explicitProxy.enablePacFile", "options": ["enable-pac-file"], "help": {"short": "When set to true, pac file port and url needs to be provided."}}, {"type": "integer32", "var": "$parameters.properties.explicitProxy.httpPort", "options": ["http-port"], "help": {"short": "Port number for explicit proxy http protocol, cannot be greater than 64000."}, "format": {"maximum": 64000, "minimum": 0}}, {"type": "integer32", "var": "$parameters.properties.explicitProxy.httpsPort", "options": ["https-port"], "help": {"short": "Port number for explicit proxy https protocol, cannot be greater than 64000."}, "format": {"maximum": 64000, "minimum": 0}}, {"type": "string", "var": "$parameters.properties.explicitProxy.pacFile", "options": ["pac-file"], "help": {"short": "SAS URL for PAC file."}}, {"type": "integer32", "var": "$parameters.properties.explicitProxy.pacFilePort", "options": ["pac-file-port"], "help": {"short": "Port number for firewall to serve PAC file."}, "format": {"maximum": 64000, "minimum": 0}}]}, {"type": "object", "var": "$parameters.properties.insights", "options": ["insights"], "group": "Properties", "help": {"short": "Insights on Firewall Policy."}, "args": [{"type": "boolean", "var": "$parameters.properties.insights.isEnabled", "options": ["is-enabled"], "help": {"short": "A flag to indicate if the insights are enabled on the policy."}}, {"type": "object", "var": "$parameters.properties.insights.logAnalyticsResources", "options": ["log-analytics-resources"], "help": {"short": "Workspaces needed to configure the Firewall Policy Insights."}, "args": [{"type": "@SubResource_create", "var": "$parameters.properties.insights.logAnalyticsResources.defaultWorkspaceId", "options": ["default-workspace-id"], "help": {"short": "The default workspace Id for Firewall Policy Insights."}}, {"type": "array<object>", "var": "$parameters.properties.insights.logAnalyticsResources.workspaces", "options": ["workspaces"], "help": {"short": "List of workspaces for Firewall Policy Insights."}, "item": {"type": "object", "args": [{"type": "string", "var": "$parameters.properties.insights.logAnalyticsResources.workspaces[].region", "options": ["region"], "help": {"short": "Region to configure the Workspace."}}, {"type": "@SubResource_create", "var": "$parameters.properties.insights.logAnalyticsResources.workspaces[].workspaceId", "options": ["workspace-id"], "help": {"short": "The workspace Id for Firewall Policy Insights."}}]}}]}, {"type": "integer32", "var": "$parameters.properties.insights.retentionDays", "options": ["retention-days"], "help": {"short": "Number of days the insights should be enabled on the policy."}}]}, {"type": "object", "var": "$parameters.properties.intrusionDetection", "options": ["intrusion-detection"], "group": "Properties", "help": {"short": "The configuration for Intrusion detection."}, "args": [{"type": "object", "var": "$parameters.properties.intrusionDetection.configuration", "options": ["configuration"], "help": {"short": "Intrusion detection configuration properties."}, "args": [{"type": "array<object>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings", "options": ["bypass-traffic-settings"], "help": {"short": "List of rules for traffic to bypass."}, "item": {"type": "object", "args": [{"type": "string", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].description", "options": ["description"], "help": {"short": "Description of the bypass traffic rule."}}, {"type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationAddresses", "options": ["destination-addresses"], "help": {"short": "List of destination IP addresses or ranges for this rule."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationIpGroups", "options": ["destination-ip-groups"], "help": {"short": "List of destination IpGroups for this rule."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationPorts", "options": ["destination-ports"], "help": {"short": "List of destination ports or ranges."}, "item": {"type": "string"}}, {"type": "string", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].name", "options": ["name"], "help": {"short": "Name of the bypass traffic rule."}}, {"type": "string", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].protocol", "options": ["protocol"], "help": {"short": "The rule bypass protocol."}, "enum": {"items": [{"name": "ANY", "value": "ANY"}, {"name": "ICMP", "value": "ICMP"}, {"name": "TCP", "value": "TCP"}, {"name": "UDP", "value": "UDP"}]}}, {"type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceAddresses", "options": ["source-addresses"], "help": {"short": "List of source IP addresses or ranges for this rule."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceIpGroups", "options": ["source-ip-groups"], "help": {"short": "List of source IpGroups for this rule."}, "item": {"type": "string"}}]}}, {"type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.privateRanges", "options": ["private-ranges"], "help": {"short": "IDPS Private IP address ranges are used to identify traffic direction (i.e. inbound, outbound, etc.). By default, only ranges defined by IANA RFC 1918 are considered private IP addresses. To modify default ranges, specify your Private IP address ranges with this property"}, "item": {"type": "string"}}, {"type": "array<object>", "var": "$parameters.properties.intrusionDetection.configuration.signatureOverrides", "options": ["signature-overrides"], "help": {"short": "List of specific signatures states."}, "item": {"type": "object", "args": [{"type": "string", "var": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].id", "options": ["id"], "help": {"short": "Signature id."}}, {"type": "string", "var": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].mode", "options": ["mode"], "help": {"short": "The signature state."}, "enum": {"items": [{"name": "Alert", "value": "Alert"}, {"name": "Deny", "value": "Deny"}, {"name": "Off", "value": "Off"}]}}]}}]}, {"type": "string", "var": "$parameters.properties.intrusionDetection.mode", "options": ["mode"], "help": {"short": "Intrusion detection general state. When attached to a parent policy, the firewall's effective IDPS mode is the stricter mode of the two."}, "enum": {"items": [{"name": "Alert", "value": "Alert"}, {"name": "Deny", "value": "Deny"}, {"name": "Off", "value": "Off"}]}}, {"type": "string", "var": "$parameters.properties.intrusionDetection.profile", "options": ["profile"], "help": {"short": "IDPS profile name. When attached to a parent policy, the firewall's effective profile is the profile name of the parent policy."}, "enum": {"items": [{"name": "Advanced", "value": "Advanced"}, {"name": "Basic", "value": "Basic"}, {"name": "Extended", "value": "Extended"}, {"name": "Standard", "value": "Standard"}]}}]}, {"type": "object", "var": "$parameters.properties.snat", "options": ["snat"], "group": "Properties", "help": {"short": "The private IP addresses/IP ranges to which traffic will not be SNAT."}, "args": [{"type": "string", "var": "$parameters.properties.snat.autoLearnPrivateRanges", "options": ["auto-learn-private-ranges"], "help": {"short": "The operation mode for automatically learning private ranges to not be SNAT"}, "enum": {"items": [{"name": "Disabled", "value": "Disabled"}, {"name": "Enabled", "value": "Enabled"}]}}, {"type": "array<string>", "var": "$parameters.properties.snat.privateRanges", "options": ["private-ranges"], "help": {"short": "List of private IP addresses/IP address ranges to not be SNAT."}, "item": {"type": "string"}}]}, {"type": "object", "var": "$parameters.properties.sql", "options": ["sql"], "group": "Properties", "help": {"short": "SQL Settings definition."}, "args": [{"type": "boolean", "var": "$parameters.properties.sql.allowSqlRedirect", "options": ["allow-sql-redirect"], "help": {"short": "A flag to indicate if SQL Redirect traffic filtering is enabled. Turning on the flag requires no rule using port 11000-11999."}}]}, {"type": "string", "var": "$parameters.properties.threatIntelMode", "options": ["threat-intel-mode"], "group": "Properties", "help": {"short": "The operation mode for Threat Intelligence."}, "enum": {"items": [{"name": "Alert", "value": "Alert"}, {"name": "Deny", "value": "Deny"}, {"name": "Off", "value": "Off"}]}}, {"type": "object", "var": "$parameters.properties.threatIntelWhitelist", "options": ["threat-intel-whitelist"], "group": "Properties", "help": {"short": "ThreatIntel Whitelist for Firewall Policy."}, "args": [{"type": "array<string>", "var": "$parameters.properties.threatIntelWhitelist.fqdns", "options": ["fqdns"], "help": {"short": "List of FQDNs for the ThreatIntel Whitelist."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.properties.threatIntelWhitelist.ipAddresses", "options": ["ip-addresses"], "help": {"short": "List of IP addresses for the ThreatIntel Whitelist."}, "item": {"type": "string"}}]}]}], "operations": [{"operationId": "FirewallPolicyDrafts_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/firewallPolicies/{firewallPolicyName}/firewallPolicyDrafts/default", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "firewallPolicyName", "arg": "$Path.firewallPolicyName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "ResourceId", "name": "id", "arg": "$parameters.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"type": "ResourceLocation", "name": "location", "arg": "$parameters.location"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "basePolicy", "arg": "$parameters.properties.basePolicy", "props": [{"type": "string", "name": "id", "arg": "@SubResource_create.id"}], "cls": "SubResource_create"}, {"type": "object", "name": "dnsSettings", "arg": "$parameters.properties.dnsSettings", "props": [{"type": "boolean", "name": "enableProxy", "arg": "$parameters.properties.dnsSettings.enableProxy"}, {"nullable": true, "type": "boolean", "name": "requireProxyForNetworkRules", "arg": "$parameters.properties.dnsSettings.requireProxyForNetworkRules"}, {"type": "array<string>", "name": "servers", "arg": "$parameters.properties.dnsSettings.servers", "item": {"type": "string"}}]}, {"type": "object", "name": "explicitProxy", "arg": "$parameters.properties.explicitProxy", "props": [{"nullable": true, "type": "boolean", "name": "enableExplicitProxy", "arg": "$parameters.properties.explicitProxy.enableExplicitProxy"}, {"nullable": true, "type": "boolean", "name": "enablePacFile", "arg": "$parameters.properties.explicitProxy.enablePacFile"}, {"type": "integer32", "name": "httpPort", "arg": "$parameters.properties.explicitProxy.httpPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "integer32", "name": "httpsPort", "arg": "$parameters.properties.explicitProxy.httpsPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "string", "name": "pacFile", "arg": "$parameters.properties.explicitProxy.pacFile"}, {"type": "integer32", "name": "pacFilePort", "arg": "$parameters.properties.explicitProxy.pacFilePort", "format": {"maximum": 64000, "minimum": 0}}]}, {"type": "object", "name": "insights", "arg": "$parameters.properties.insights", "props": [{"type": "boolean", "name": "isEnabled", "arg": "$parameters.properties.insights.isEnabled"}, {"type": "object", "name": "logAnalyticsResources", "arg": "$parameters.properties.insights.logAnalyticsResources", "props": [{"type": "@SubResource_create", "name": "defaultWorkspaceId", "arg": "$parameters.properties.insights.logAnalyticsResources.defaultWorkspaceId"}, {"type": "array<object>", "name": "workspaces", "arg": "$parameters.properties.insights.logAnalyticsResources.workspaces", "item": {"type": "object", "props": [{"type": "string", "name": "region", "arg": "$parameters.properties.insights.logAnalyticsResources.workspaces[].region"}, {"type": "@SubResource_create", "name": "workspaceId", "arg": "$parameters.properties.insights.logAnalyticsResources.workspaces[].workspaceId"}]}}]}, {"type": "integer32", "name": "retentionDays", "arg": "$parameters.properties.insights.retentionDays"}]}, {"type": "object", "name": "intrusionDetection", "arg": "$parameters.properties.intrusionDetection", "props": [{"type": "object", "name": "configuration", "arg": "$parameters.properties.intrusionDetection.configuration", "props": [{"type": "array<object>", "name": "bypassTrafficSettings", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings", "item": {"type": "object", "props": [{"type": "string", "name": "description", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].description"}, {"type": "array<string>", "name": "destinationAddresses", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationIpGroups", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationIpGroups", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationPorts", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationPorts", "item": {"type": "string"}}, {"type": "string", "name": "name", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].name"}, {"type": "string", "name": "protocol", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].protocol", "enum": {"items": [{"value": "ANY"}, {"value": "ICMP"}, {"value": "TCP"}, {"value": "UDP"}]}}, {"type": "array<string>", "name": "sourceAddresses", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "sourceIpGroups", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceIpGroups", "item": {"type": "string"}}]}}, {"type": "array<string>", "name": "privateRanges", "arg": "$parameters.properties.intrusionDetection.configuration.privateRanges", "item": {"type": "string"}}, {"type": "array<object>", "name": "signatureOverrides", "arg": "$parameters.properties.intrusionDetection.configuration.signatureOverrides", "item": {"type": "object", "props": [{"type": "string", "name": "id", "arg": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].id"}, {"type": "string", "name": "mode", "arg": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}]}}]}, {"type": "string", "name": "mode", "arg": "$parameters.properties.intrusionDetection.mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "string", "name": "profile", "arg": "$parameters.properties.intrusionDetection.profile", "enum": {"items": [{"value": "Advanced"}, {"value": "Basic"}, {"value": "Extended"}, {"value": "Standard"}]}}]}, {"type": "object", "name": "snat", "arg": "$parameters.properties.snat", "props": [{"type": "string", "name": "autoLearnPrivateRanges", "arg": "$parameters.properties.snat.autoLearnPrivateRanges", "enum": {"items": [{"value": "Disabled"}, {"value": "Enabled"}]}}, {"type": "array<string>", "name": "privateRanges", "arg": "$parameters.properties.snat.privateRanges", "item": {"type": "string"}}]}, {"type": "object", "name": "sql", "arg": "$parameters.properties.sql", "props": [{"type": "boolean", "name": "allowSqlRedirect", "arg": "$parameters.properties.sql.allowSqlRedirect"}]}, {"type": "string", "name": "threatIntelMode", "arg": "$parameters.properties.threatIntelMode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "object", "name": "threatIntelWhitelist", "arg": "$parameters.properties.threatIntelWhitelist", "props": [{"type": "array<string>", "name": "fqdns", "arg": "$parameters.properties.threatIntelWhitelist.fqdns", "item": {"type": "string"}}, {"type": "array<string>", "name": "ipAddresses", "arg": "$parameters.properties.threatIntelWhitelist.ipAddresses", "item": {"type": "string"}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "basePolicy", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}, {"type": "object", "name": "dnsSettings", "props": [{"type": "boolean", "name": "enableProxy"}, {"nullable": true, "type": "boolean", "name": "requireProxyForNetworkRules"}, {"type": "array<string>", "name": "servers", "item": {"type": "string"}}]}, {"type": "object", "name": "explicitProxy", "props": [{"nullable": true, "type": "boolean", "name": "enableExplicitProxy"}, {"nullable": true, "type": "boolean", "name": "enablePacFile"}, {"type": "integer32", "name": "httpPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "integer32", "name": "httpsPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "string", "name": "pacFile"}, {"type": "integer32", "name": "pacFilePort", "format": {"maximum": 64000, "minimum": 0}}]}, {"type": "object", "name": "insights", "props": [{"type": "boolean", "name": "isEnabled"}, {"type": "object", "name": "logAnalyticsResources", "props": [{"type": "@SubResource_read", "name": "defaultWorkspaceId"}, {"type": "array<object>", "name": "workspaces", "item": {"type": "object", "props": [{"type": "string", "name": "region"}, {"type": "@SubResource_read", "name": "workspaceId"}]}}]}, {"type": "integer32", "name": "retentionDays"}]}, {"type": "object", "name": "intrusionDetection", "props": [{"type": "object", "name": "configuration", "props": [{"type": "array<object>", "name": "bypassTrafficSettings", "item": {"type": "object", "props": [{"type": "string", "name": "description"}, {"type": "array<string>", "name": "destinationAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationIpGroups", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationPorts", "item": {"type": "string"}}, {"type": "string", "name": "name"}, {"type": "string", "name": "protocol", "enum": {"items": [{"value": "ANY"}, {"value": "ICMP"}, {"value": "TCP"}, {"value": "UDP"}]}}, {"type": "array<string>", "name": "sourceAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "sourceIpGroups", "item": {"type": "string"}}]}}, {"type": "array<string>", "name": "privateRanges", "item": {"type": "string"}}, {"type": "array<object>", "name": "signatureOverrides", "item": {"type": "object", "props": [{"type": "string", "name": "id"}, {"type": "string", "name": "mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}]}}]}, {"type": "string", "name": "mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "string", "name": "profile", "enum": {"items": [{"value": "Advanced"}, {"value": "Basic"}, {"value": "Extended"}, {"value": "Standard"}]}}]}, {"type": "object", "name": "snat", "props": [{"type": "string", "name": "autoLearnPrivateRanges", "enum": {"items": [{"value": "Disabled"}, {"value": "Enabled"}]}}, {"type": "array<string>", "name": "privateRanges", "item": {"type": "string"}}]}, {"type": "object", "name": "sql", "props": [{"type": "boolean", "name": "allowSqlRedirect"}]}, {"type": "string", "name": "threatIntelMode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "object", "name": "threatIntelWhitelist", "props": [{"type": "array<string>", "name": "fqdns", "item": {"type": "string"}}, {"type": "array<string>", "name": "ipAddresses", "item": {"type": "string"}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2023-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/firewallpolicies/{}/firewallpolicydrafts/default", "version": "2023-11-01", "swagger": "mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9maXJld2FsbFBvbGljaWVzL3tmaXJld2FsbFBvbGljeU5hbWV9L2ZpcmV3YWxsUG9saWN5RHJhZnRzL2RlZmF1bHQ=/V/MjAyMy0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.firewallPolicyName", "options": ["firewall-policy-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Firewall Policy."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Parameters", "args": [{"nullable": true, "type": "ResourceId", "var": "$parameters.id", "options": ["id"], "hide": true, "group": "Parameters", "help": {"short": "Resource ID."}, "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"nullable": true, "type": "ResourceLocation", "var": "$parameters.location", "options": ["l", "location"], "group": "Parameters", "help": {"short": "Resource location."}}, {"nullable": true, "type": "object", "var": "$parameters.tags", "options": ["tags"], "group": "Parameters", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "Properties", "args": [{"nullable": true, "type": "object", "var": "$parameters.properties.basePolicy", "options": ["base-policy"], "group": "Properties", "help": {"short": "The parent firewall policy from which rules are inherited."}, "args": [{"nullable": true, "type": "string", "var": "@SubResource_update.id", "options": ["id"], "help": {"short": "Resource ID."}}], "cls": "SubResource_update"}, {"nullable": true, "type": "object", "var": "$parameters.properties.dnsSettings", "options": ["dns-settings"], "group": "Properties", "help": {"short": "DNS Proxy Settings definition."}, "args": [{"nullable": true, "type": "boolean", "var": "$parameters.properties.dnsSettings.enableProxy", "options": ["enable-proxy"], "help": {"short": "Enable DNS Proxy on Firewalls attached to the Firewall Policy."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.dnsSettings.requireProxyForNetworkRules", "options": ["require-proxy-for-network-rules"], "help": {"short": "FQDNs in Network Rules are supported when set to true."}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.dnsSettings.servers", "options": ["servers"], "help": {"short": "List of Custom DNS Servers."}, "item": {"nullable": true, "type": "string"}}]}, {"nullable": true, "type": "object", "var": "$parameters.properties.explicitProxy", "options": ["explicit-proxy"], "group": "Properties", "help": {"short": "Explicit Proxy Settings definition."}, "args": [{"nullable": true, "type": "boolean", "var": "$parameters.properties.explicitProxy.enableExplicitProxy", "options": ["enable-explicit-proxy"], "help": {"short": "When set to true, explicit proxy mode is enabled."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.explicitProxy.enablePacFile", "options": ["enable-pac-file"], "help": {"short": "When set to true, pac file port and url needs to be provided."}}, {"nullable": true, "type": "integer32", "var": "$parameters.properties.explicitProxy.httpPort", "options": ["http-port"], "help": {"short": "Port number for explicit proxy http protocol, cannot be greater than 64000."}, "format": {"maximum": 64000, "minimum": 0}}, {"nullable": true, "type": "integer32", "var": "$parameters.properties.explicitProxy.httpsPort", "options": ["https-port"], "help": {"short": "Port number for explicit proxy https protocol, cannot be greater than 64000."}, "format": {"maximum": 64000, "minimum": 0}}, {"nullable": true, "type": "string", "var": "$parameters.properties.explicitProxy.pacFile", "options": ["pac-file"], "help": {"short": "SAS URL for PAC file."}}, {"nullable": true, "type": "integer32", "var": "$parameters.properties.explicitProxy.pacFilePort", "options": ["pac-file-port"], "help": {"short": "Port number for firewall to serve PAC file."}, "format": {"maximum": 64000, "minimum": 0}}]}, {"nullable": true, "type": "object", "var": "$parameters.properties.insights", "options": ["insights"], "group": "Properties", "help": {"short": "Insights on Firewall Policy."}, "args": [{"nullable": true, "type": "boolean", "var": "$parameters.properties.insights.isEnabled", "options": ["is-enabled"], "help": {"short": "A flag to indicate if the insights are enabled on the policy."}}, {"nullable": true, "type": "object", "var": "$parameters.properties.insights.logAnalyticsResources", "options": ["log-analytics-resources"], "help": {"short": "Workspaces needed to configure the Firewall Policy Insights."}, "args": [{"nullable": true, "type": "@SubResource_update", "var": "$parameters.properties.insights.logAnalyticsResources.defaultWorkspaceId", "options": ["default-workspace-id"], "help": {"short": "The default workspace Id for Firewall Policy Insights."}}, {"nullable": true, "type": "array<object>", "var": "$parameters.properties.insights.logAnalyticsResources.workspaces", "options": ["workspaces"], "help": {"short": "List of workspaces for Firewall Policy Insights."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.insights.logAnalyticsResources.workspaces[].region", "options": ["region"], "help": {"short": "Region to configure the Workspace."}}, {"nullable": true, "type": "@SubResource_update", "var": "$parameters.properties.insights.logAnalyticsResources.workspaces[].workspaceId", "options": ["workspace-id"], "help": {"short": "The workspace Id for Firewall Policy Insights."}}]}}]}, {"nullable": true, "type": "integer32", "var": "$parameters.properties.insights.retentionDays", "options": ["retention-days"], "help": {"short": "Number of days the insights should be enabled on the policy."}}]}, {"nullable": true, "type": "object", "var": "$parameters.properties.intrusionDetection", "options": ["intrusion-detection"], "group": "Properties", "help": {"short": "The configuration for Intrusion detection."}, "args": [{"nullable": true, "type": "object", "var": "$parameters.properties.intrusionDetection.configuration", "options": ["configuration"], "help": {"short": "Intrusion detection configuration properties."}, "args": [{"nullable": true, "type": "array<object>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings", "options": ["bypass-traffic-settings"], "help": {"short": "List of rules for traffic to bypass."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].description", "options": ["description"], "help": {"short": "Description of the bypass traffic rule."}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationAddresses", "options": ["destination-addresses"], "help": {"short": "List of destination IP addresses or ranges for this rule."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationIpGroups", "options": ["destination-ip-groups"], "help": {"short": "List of destination IpGroups for this rule."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationPorts", "options": ["destination-ports"], "help": {"short": "List of destination ports or ranges."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].name", "options": ["name"], "help": {"short": "Name of the bypass traffic rule."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].protocol", "options": ["protocol"], "help": {"short": "The rule bypass protocol."}, "enum": {"items": [{"name": "ANY", "value": "ANY"}, {"name": "ICMP", "value": "ICMP"}, {"name": "TCP", "value": "TCP"}, {"name": "UDP", "value": "UDP"}]}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceAddresses", "options": ["source-addresses"], "help": {"short": "List of source IP addresses or ranges for this rule."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceIpGroups", "options": ["source-ip-groups"], "help": {"short": "List of source IpGroups for this rule."}, "item": {"nullable": true, "type": "string"}}]}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.intrusionDetection.configuration.privateRanges", "options": ["private-ranges"], "help": {"short": "IDPS Private IP address ranges are used to identify traffic direction (i.e. inbound, outbound, etc.). By default, only ranges defined by IANA RFC 1918 are considered private IP addresses. To modify default ranges, specify your Private IP address ranges with this property"}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "array<object>", "var": "$parameters.properties.intrusionDetection.configuration.signatureOverrides", "options": ["signature-overrides"], "help": {"short": "List of specific signatures states."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].id", "options": ["id"], "help": {"short": "Signature id."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].mode", "options": ["mode"], "help": {"short": "The signature state."}, "enum": {"items": [{"name": "Alert", "value": "Alert"}, {"name": "Deny", "value": "Deny"}, {"name": "Off", "value": "Off"}]}}]}}]}, {"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.mode", "options": ["mode"], "help": {"short": "Intrusion detection general state. When attached to a parent policy, the firewall's effective IDPS mode is the stricter mode of the two."}, "enum": {"items": [{"name": "Alert", "value": "Alert"}, {"name": "Deny", "value": "Deny"}, {"name": "Off", "value": "Off"}]}}, {"nullable": true, "type": "string", "var": "$parameters.properties.intrusionDetection.profile", "options": ["profile"], "help": {"short": "IDPS profile name. When attached to a parent policy, the firewall's effective profile is the profile name of the parent policy."}, "enum": {"items": [{"name": "Advanced", "value": "Advanced"}, {"name": "Basic", "value": "Basic"}, {"name": "Extended", "value": "Extended"}, {"name": "Standard", "value": "Standard"}]}}]}, {"nullable": true, "type": "object", "var": "$parameters.properties.snat", "options": ["snat"], "group": "Properties", "help": {"short": "The private IP addresses/IP ranges to which traffic will not be SNAT."}, "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.snat.autoLearnPrivateRanges", "options": ["auto-learn-private-ranges"], "help": {"short": "The operation mode for automatically learning private ranges to not be SNAT"}, "enum": {"items": [{"name": "Disabled", "value": "Disabled"}, {"name": "Enabled", "value": "Enabled"}]}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.snat.privateRanges", "options": ["private-ranges"], "help": {"short": "List of private IP addresses/IP address ranges to not be SNAT."}, "item": {"nullable": true, "type": "string"}}]}, {"nullable": true, "type": "object", "var": "$parameters.properties.sql", "options": ["sql"], "group": "Properties", "help": {"short": "SQL Settings definition."}, "args": [{"nullable": true, "type": "boolean", "var": "$parameters.properties.sql.allowSqlRedirect", "options": ["allow-sql-redirect"], "help": {"short": "A flag to indicate if SQL Redirect traffic filtering is enabled. Turning on the flag requires no rule using port 11000-11999."}}]}, {"nullable": true, "type": "string", "var": "$parameters.properties.threatIntelMode", "options": ["threat-intel-mode"], "group": "Properties", "help": {"short": "The operation mode for Threat Intelligence."}, "enum": {"items": [{"name": "Alert", "value": "Alert"}, {"name": "Deny", "value": "Deny"}, {"name": "Off", "value": "Off"}]}}, {"nullable": true, "type": "object", "var": "$parameters.properties.threatIntelWhitelist", "options": ["threat-intel-whitelist"], "group": "Properties", "help": {"short": "ThreatIntel Whitelist for Firewall Policy."}, "args": [{"nullable": true, "type": "array<string>", "var": "$parameters.properties.threatIntelWhitelist.fqdns", "options": ["fqdns"], "help": {"short": "List of FQDNs for the ThreatIntel Whitelist."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "array<string>", "var": "$parameters.properties.threatIntelWhitelist.ipAddresses", "options": ["ip-addresses"], "help": {"short": "List of IP addresses for the ThreatIntel Whitelist."}, "item": {"nullable": true, "type": "string"}}]}]}], "operations": [{"operationId": "FirewallPolicyDrafts_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/firewallPolicies/{firewallPolicyName}/firewallPolicyDrafts/default", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "firewallPolicyName", "arg": "$Path.firewallPolicyName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-11-01"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"type": "ResourceLocation", "name": "location"}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "basePolicy", "props": [{"type": "string", "name": "id"}], "cls": "SubResource_read"}, {"type": "object", "name": "dnsSettings", "props": [{"type": "boolean", "name": "enableProxy"}, {"nullable": true, "type": "boolean", "name": "requireProxyForNetworkRules"}, {"type": "array<string>", "name": "servers", "item": {"type": "string"}}]}, {"type": "object", "name": "explicitProxy", "props": [{"nullable": true, "type": "boolean", "name": "enableExplicitProxy"}, {"nullable": true, "type": "boolean", "name": "enablePacFile"}, {"type": "integer32", "name": "httpPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "integer32", "name": "httpsPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "string", "name": "pacFile"}, {"type": "integer32", "name": "pacFilePort", "format": {"maximum": 64000, "minimum": 0}}]}, {"type": "object", "name": "insights", "props": [{"type": "boolean", "name": "isEnabled"}, {"type": "object", "name": "logAnalyticsResources", "props": [{"type": "@SubResource_read", "name": "defaultWorkspaceId"}, {"type": "array<object>", "name": "workspaces", "item": {"type": "object", "props": [{"type": "string", "name": "region"}, {"type": "@SubResource_read", "name": "workspaceId"}]}}]}, {"type": "integer32", "name": "retentionDays"}]}, {"type": "object", "name": "intrusionDetection", "props": [{"type": "object", "name": "configuration", "props": [{"type": "array<object>", "name": "bypassTrafficSettings", "item": {"type": "object", "props": [{"type": "string", "name": "description"}, {"type": "array<string>", "name": "destinationAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationIpGroups", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationPorts", "item": {"type": "string"}}, {"type": "string", "name": "name"}, {"type": "string", "name": "protocol", "enum": {"items": [{"value": "ANY"}, {"value": "ICMP"}, {"value": "TCP"}, {"value": "UDP"}]}}, {"type": "array<string>", "name": "sourceAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "sourceIpGroups", "item": {"type": "string"}}]}}, {"type": "array<string>", "name": "privateRanges", "item": {"type": "string"}}, {"type": "array<object>", "name": "signatureOverrides", "item": {"type": "object", "props": [{"type": "string", "name": "id"}, {"type": "string", "name": "mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}]}}]}, {"type": "string", "name": "mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "string", "name": "profile", "enum": {"items": [{"value": "Advanced"}, {"value": "Basic"}, {"value": "Extended"}, {"value": "Standard"}]}}]}, {"type": "object", "name": "snat", "props": [{"type": "string", "name": "autoLearnPrivateRanges", "enum": {"items": [{"value": "Disabled"}, {"value": "Enabled"}]}}, {"type": "array<string>", "name": "privateRanges", "item": {"type": "string"}}]}, {"type": "object", "name": "sql", "props": [{"type": "boolean", "name": "allowSqlRedirect"}]}, {"type": "string", "name": "threatIntelMode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "object", "name": "threatIntelWhitelist", "props": [{"type": "array<string>", "name": "fqdns", "item": {"type": "string"}}, {"type": "array<string>", "name": "ipAddresses", "item": {"type": "string"}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "FirewallPolicyDraft_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "ResourceId", "name": "id", "arg": "$parameters.id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/firewallPolicies/{}/firewallPolicyDrafts/default"}}, {"type": "ResourceLocation", "name": "location", "arg": "$parameters.location"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "basePolicy", "arg": "$parameters.properties.basePolicy", "props": [{"type": "string", "name": "id", "arg": "@SubResource_update.id"}], "cls": "SubResource_update"}, {"type": "object", "name": "dnsSettings", "arg": "$parameters.properties.dnsSettings", "props": [{"type": "boolean", "name": "enableProxy", "arg": "$parameters.properties.dnsSettings.enableProxy"}, {"nullable": true, "type": "boolean", "name": "requireProxyForNetworkRules", "arg": "$parameters.properties.dnsSettings.requireProxyForNetworkRules"}, {"type": "array<string>", "name": "servers", "arg": "$parameters.properties.dnsSettings.servers", "item": {"type": "string"}}]}, {"type": "object", "name": "explicitProxy", "arg": "$parameters.properties.explicitProxy", "props": [{"nullable": true, "type": "boolean", "name": "enableExplicitProxy", "arg": "$parameters.properties.explicitProxy.enableExplicitProxy"}, {"nullable": true, "type": "boolean", "name": "enablePacFile", "arg": "$parameters.properties.explicitProxy.enablePacFile"}, {"type": "integer32", "name": "httpPort", "arg": "$parameters.properties.explicitProxy.httpPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "integer32", "name": "httpsPort", "arg": "$parameters.properties.explicitProxy.httpsPort", "format": {"maximum": 64000, "minimum": 0}}, {"type": "string", "name": "pacFile", "arg": "$parameters.properties.explicitProxy.pacFile"}, {"type": "integer32", "name": "pacFilePort", "arg": "$parameters.properties.explicitProxy.pacFilePort", "format": {"maximum": 64000, "minimum": 0}}]}, {"type": "object", "name": "insights", "arg": "$parameters.properties.insights", "props": [{"type": "boolean", "name": "isEnabled", "arg": "$parameters.properties.insights.isEnabled"}, {"type": "object", "name": "logAnalyticsResources", "arg": "$parameters.properties.insights.logAnalyticsResources", "props": [{"type": "@SubResource_update", "name": "defaultWorkspaceId", "arg": "$parameters.properties.insights.logAnalyticsResources.defaultWorkspaceId"}, {"type": "array<object>", "name": "workspaces", "arg": "$parameters.properties.insights.logAnalyticsResources.workspaces", "item": {"type": "object", "props": [{"type": "string", "name": "region", "arg": "$parameters.properties.insights.logAnalyticsResources.workspaces[].region"}, {"type": "@SubResource_update", "name": "workspaceId", "arg": "$parameters.properties.insights.logAnalyticsResources.workspaces[].workspaceId"}]}}]}, {"type": "integer32", "name": "retentionDays", "arg": "$parameters.properties.insights.retentionDays"}]}, {"type": "object", "name": "intrusionDetection", "arg": "$parameters.properties.intrusionDetection", "props": [{"type": "object", "name": "configuration", "arg": "$parameters.properties.intrusionDetection.configuration", "props": [{"type": "array<object>", "name": "bypassTrafficSettings", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings", "item": {"type": "object", "props": [{"type": "string", "name": "description", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].description"}, {"type": "array<string>", "name": "destinationAddresses", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationIpGroups", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationIpGroups", "item": {"type": "string"}}, {"type": "array<string>", "name": "destinationPorts", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].destinationPorts", "item": {"type": "string"}}, {"type": "string", "name": "name", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].name"}, {"type": "string", "name": "protocol", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].protocol", "enum": {"items": [{"value": "ANY"}, {"value": "ICMP"}, {"value": "TCP"}, {"value": "UDP"}]}}, {"type": "array<string>", "name": "sourceAddresses", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceAddresses", "item": {"type": "string"}}, {"type": "array<string>", "name": "sourceIpGroups", "arg": "$parameters.properties.intrusionDetection.configuration.bypassTrafficSettings[].sourceIpGroups", "item": {"type": "string"}}]}}, {"type": "array<string>", "name": "privateRanges", "arg": "$parameters.properties.intrusionDetection.configuration.privateRanges", "item": {"type": "string"}}, {"type": "array<object>", "name": "signatureOverrides", "arg": "$parameters.properties.intrusionDetection.configuration.signatureOverrides", "item": {"type": "object", "props": [{"type": "string", "name": "id", "arg": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].id"}, {"type": "string", "name": "mode", "arg": "$parameters.properties.intrusionDetection.configuration.signatureOverrides[].mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}]}}]}, {"type": "string", "name": "mode", "arg": "$parameters.properties.intrusionDetection.mode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "string", "name": "profile", "arg": "$parameters.properties.intrusionDetection.profile", "enum": {"items": [{"value": "Advanced"}, {"value": "Basic"}, {"value": "Extended"}, {"value": "Standard"}]}}]}, {"type": "object", "name": "snat", "arg": "$parameters.properties.snat", "props": [{"type": "string", "name": "autoLearnPrivateRanges", "arg": "$parameters.properties.snat.autoLearnPrivateRanges", "enum": {"items": [{"value": "Disabled"}, {"value": "Enabled"}]}}, {"type": "array<string>", "name": "privateRanges", "arg": "$parameters.properties.snat.privateRanges", "item": {"type": "string"}}]}, {"type": "object", "name": "sql", "arg": "$parameters.properties.sql", "props": [{"type": "boolean", "name": "allowSqlRedirect", "arg": "$parameters.properties.sql.allowSqlRedirect"}]}, {"type": "string", "name": "threatIntelMode", "arg": "$parameters.properties.threatIntelMode", "enum": {"items": [{"value": "Alert"}, {"value": "Deny"}, {"value": "Off"}]}}, {"type": "object", "name": "threatIntelWhitelist", "arg": "$parameters.properties.threatIntelWhitelist", "props": [{"type": "array<string>", "name": "fqdns", "arg": "$parameters.properties.threatIntelWhitelist.fqdns", "item": {"type": "string"}}, {"type": "array<string>", "name": "ipAddresses", "arg": "$parameters.properties.threatIntelWhitelist.ipAddresses", "item": {"type": "string"}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"operationId": "FirewallPolicyDrafts_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/firewallPolicies/{firewallPolicyName}/firewallPolicyDrafts/default", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "firewallPolicyName", "arg": "$Path.firewallPolicyName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@FirewallPolicyDraft_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}