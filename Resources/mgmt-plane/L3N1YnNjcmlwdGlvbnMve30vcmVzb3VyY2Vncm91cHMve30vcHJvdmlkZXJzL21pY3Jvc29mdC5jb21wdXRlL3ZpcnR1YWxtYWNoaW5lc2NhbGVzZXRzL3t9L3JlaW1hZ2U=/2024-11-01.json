{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/virtualmachinescalesets/{}/reimage", "version": "2024-11-01", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS92aXJ0dWFsTWFjaGluZVNjYWxlU2V0cy97dm1TY2FsZVNldE5hbWV9L3JlaW1hZ2U=/V/MjAyNC0xMS0wMQ=="}], "commandGroups": [{"name": "vmss", "commands": [{"name": "reimage", "version": "2024-11-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/virtualmachinescalesets/{}/reimage", "version": "2024-11-01", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS92aXJ0dWFsTWFjaGluZVNjYWxlU2V0cy97dm1TY2FsZVNldE5hbWV9L3JlaW1hZ2U=/V/MjAyNC0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.vmScaleSetName", "options": ["vm-scale-set-name"], "required": true, "idPart": "name", "help": {"short": "The name of the VM scale set."}}]}, {"name": "VmScaleSetReimageInput", "args": [{"type": "string", "var": "$vmScaleSetReimageInput.exactVersion", "options": ["exact-version"], "group": "VmScaleSetReimageInput", "help": {"short": "Specifies in decimal number, the version the OS disk should be reimaged to. If exact version is not provided, the OS disk is reimaged to the existing version of OS Disk."}}, {"type": "boolean", "var": "$vmScaleSetReimageInput.forceUpdateOSDiskForEphemeral", "options": ["force-update-os-disk-for-ephemeral"], "group": "VmScaleSetReimageInput", "help": {"short": "Parameter to force update ephemeral OS disk for a virtual machine scale set VM"}}, {"type": "array<string>", "var": "$vmScaleSetReimageInput.instanceIds", "options": ["instance-ids"], "group": "VmScaleSetReimageInput", "help": {"short": "The virtual machine scale set instance ids. Omitting the virtual machine scale set instance ids will result in the operation being performed on all virtual machines in the virtual machine scale set."}, "item": {"type": "string"}}, {"type": "object", "var": "$vmScaleSetReimageInput.osProfile", "options": ["os-profile"], "group": "VmScaleSetReimageInput", "help": {"short": "Specifies information required for reimaging the non-ephemeral OS disk."}, "args": [{"type": "password", "var": "$vmScaleSetReimageInput.osProfile.adminPassword", "options": ["admin-password"], "help": {"short": "Specifies the password of the administrator account. <br><br> **Minimum-length (Windows):** 8 characters <br><br> **Minimum-length (Linux):** 6 characters <br><br> **Max-length (Windows):** 123 characters <br><br> **Max-length (Linux):** 72 characters <br><br> **Complexity requirements:** 3 out of 4 conditions below need to be fulfilled <br> Has lower characters <br>Has upper characters <br> Has a digit <br> Has a special character (Regex match [\\W_]) <br><br> **Disallowed values:** \"abc@123\", \"P@$$w0rd\", \"P@ssw0rd\", \"P@ssword123\", \"Pa$$word\", \"pass@word1\", \"Password!\", \"Password1\", \"Password22\", \"iloveyou!\" <br><br> For resetting the password, see [How to reset the Remote Desktop service or its login password in a Windows VM](https://docs.microsoft.com/troubleshoot/azure/virtual-machines/reset-rdp) <br><br> For resetting root password, see [Manage users, SSH, and check or repair disks on Azure Linux VMs using the VMAccess Extension](https://docs.microsoft.com/troubleshoot/azure/virtual-machines/troubleshoot-ssh-connection)"}, "prompt": {"msg": "Password:"}}, {"type": "string", "var": "$vmScaleSetReimageInput.osProfile.customData", "options": ["custom-data"], "help": {"short": "Specifies a base-64 encoded string of custom data. The base-64 encoded string is decoded to a binary array that is saved as a file on the Virtual Machine. The maximum length of the binary array is 65535 bytes. **Note: Do not pass any secrets or passwords in customData property.** This property cannot be updated after the VM is created. The property customData is passed to the VM to be saved as a file, for more information see [Custom Data on Azure VMs](https://azure.microsoft.com/blog/custom-data-and-cloud-init-on-windows-azure/). If using cloud-init for your Linux VM, see [Using cloud-init to customize a Linux VM during creation](https://docs.microsoft.com/azure/virtual-machines/linux/using-cloud-init)."}}]}, {"type": "boolean", "var": "$vmScaleSetReimageInput.tempDisk", "options": ["temp-disk"], "group": "VmScaleSetReimageInput", "help": {"short": "Specifies whether to reimage temp disk. Default value: false. Note: This temp disk reimage parameter is only supported for VM/VMSS with Ephemeral OS disk."}}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "VirtualMachineScaleSets_Reimage", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/virtualMachineScaleSets/{vmScaleSetName}/reimage", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "vmScaleSetName", "arg": "$Path.vmScaleSetName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-11-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "vmScaleSetReimageInput", "props": [{"type": "string", "name": "exactVersion", "arg": "$vmScaleSetReimageInput.exactVersion"}, {"type": "boolean", "name": "forceUpdateOSDiskForEphemeral", "arg": "$vmScaleSetReimageInput.forceUpdateOSDiskForEphemeral"}, {"type": "array<string>", "name": "instanceIds", "arg": "$vmScaleSetReimageInput.instanceIds", "item": {"type": "string"}}, {"type": "object", "name": "osProfile", "arg": "$vmScaleSetReimageInput.osProfile", "props": [{"type": "password", "name": "adminPassword", "arg": "$vmScaleSetReimageInput.osProfile.adminPassword", "secret": true}, {"type": "string", "name": "customData", "arg": "$vmScaleSetReimageInput.osProfile.customData"}]}, {"type": "boolean", "name": "tempDisk", "arg": "$vmScaleSetReimageInput.tempDisk"}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200]}, {"statusCode": [202], "header": {"items": [{"name": "Location"}, {"name": "Retry-After"}]}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "confirmation": ""}]}]}