{"plane":"mgmt-plane","resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/networkvirtualappliances/{}/networkvirtualapplianceconnections/{}","version":"2023-06-01","swagger":"mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9uZXR3b3JrVmlydHVhbEFwcGxpYW5jZXMve25ldHdvcmtWaXJ0dWFsQXBwbGlhbmNlTmFtZX0vbmV0d29ya1ZpcnR1YWxBcHBsaWFuY2VDb25uZWN0aW9ucy97Y29ubmVjdGlvbk5hbWV9/V/MjAyMy0wNi0wMQ=="}],"commandGroups":[{"name":"network virtual-appliance connection","commands":[{"name":"show","version":"2023-06-01","resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/networkvirtualappliances/{}/networkvirtualapplianceconnections/{}","version":"2023-06-01","swagger":"mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9uZXR3b3JrVmlydHVhbEFwcGxpYW5jZXMve25ldHdvcmtWaXJ0dWFsQXBwbGlhbmNlTmFtZX0vbmV0d29ya1ZpcnR1YWxBcHBsaWFuY2VDb25uZWN0aW9ucy97Y29ubmVjdGlvbk5hbWV9/V/MjAyMy0wNi0wMQ=="}],"argGroups":[{"name":"","args":[{"type":"string","var":"$Path.connectionName","options":["n","name"],"required":true,"group":"","idPart":"child_name_1","help":{"short":"The name of the NVA connection."},"default":{"value":"defaultConnection"}},{"type":"string","var":"$Path.networkVirtualApplianceName","options":["nva","virtual-appliance-name"],"required":true,"group":"","idPart":"name","help":{"short":"The name of the Network Virtual Appliance."}},{"type":"ResourceGroupName","var":"$Path.resourceGroupName","options":["g","resource-group"],"required":true,"idPart":"resource_group"},{"type":"SubscriptionId","var":"$Path.subscriptionId","options":["subscription"],"required":true,"idPart":"subscription"}]}],"operations":[{"operationId":"NetworkVirtualApplianceConnections_Get","http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/networkVirtualAppliances/{networkVirtualApplianceName}/networkVirtualApplianceConnections/{connectionName}","request":{"method":"get","path":{"params":[{"type":"string","name":"connectionName","arg":"$Path.connectionName","required":true},{"type":"string","name":"networkVirtualApplianceName","arg":"$Path.networkVirtualApplianceName","required":true},{"type":"string","name":"resourceGroupName","arg":"$Path.resourceGroupName","required":true},{"type":"string","name":"subscriptionId","arg":"$Path.subscriptionId","required":true}]},"query":{"consts":[{"readOnly":true,"const":true,"default":{"value":"2023-06-01"},"type":"string","name":"api-version","required":true}]}},"responses":[{"statusCode":[200],"body":{"json":{"var":"$Instance","schema":{"type":"object","props":[{"type":"ResourceId","name":"id","format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/networkVirtualAppliances/{}/networkVirtualApplianceConnections/{}"}},{"type":"object","name":"properties","props":[{"type":"integer64","name":"asn","format":{"maximum":4294967295,"minimum":0}},{"type":"array<string>","name":"bgpPeerAddress","item":{"type":"string"}},{"type":"boolean","name":"enableInternetSecurity"},{"type":"string","name":"name"},{"readOnly":true,"type":"string","name":"provisioningState","enum":{"items":[{"value":"Deleting"},{"value":"Failed"},{"value":"Succeeded"},{"value":"Updating"}]}},{"type":"object","name":"routingConfiguration","props":[{"type":"object","name":"associatedRouteTable","props":[{"type":"string","name":"id"}],"cls":"SubResource_read"},{"type":"@SubResource_read","name":"inboundRouteMap"},{"type":"@SubResource_read","name":"outboundRouteMap"},{"type":"object","name":"propagatedRouteTables","props":[{"type":"array<@SubResource_read>","name":"ids","item":{"type":"@SubResource_read"}},{"type":"array<string>","name":"labels","item":{"type":"string"}}]},{"type":"object","name":"vnetRoutes","props":[{"readOnly":true,"type":"array<@SubResource_read>","name":"bgpConnections","item":{"type":"@SubResource_read"}},{"type":"array<object>","name":"staticRoutes","item":{"type":"object","props":[{"type":"array<string>","name":"addressPrefixes","item":{"type":"string"}},{"type":"string","name":"name"},{"type":"string","name":"nextHopIpAddress"}]}},{"type":"object","name":"staticRoutesConfig","props":[{"readOnly":true,"type":"boolean","name":"propagateStaticRoutes"},{"type":"string","name":"vnetLocalRouteOverrideCriteria","enum":{"items":[{"value":"Contains"},{"value":"Equal"}]}}]}]}]},{"type":"integer64","name":"tunnelIdentifier","format":{"maximum":4294967295,"minimum":0}}]}]}}}},{"isError":true,"body":{"json":{"schema":{"type":"@ODataV4Format"}}}}]}}],"outputs":[{"type":"object","ref":"$Instance","clientFlatten":true}]},{"name":"update","version":"2023-06-01","resources":[{"id":"/subscriptions/{}/resourcegroups/{}/providers/microsoft.network/networkvirtualappliances/{}/networkvirtualapplianceconnections/{}","version":"2023-06-01","swagger":"mgmt-plane/network/ResourceProviders/Microsoft.Network/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29yay9uZXR3b3JrVmlydHVhbEFwcGxpYW5jZXMve25ldHdvcmtWaXJ0dWFsQXBwbGlhbmNlTmFtZX0vbmV0d29ya1ZpcnR1YWxBcHBsaWFuY2VDb25uZWN0aW9ucy97Y29ubmVjdGlvbk5hbWV9/V/MjAyMy0wNi0wMQ=="}],"argGroups":[{"name":"","args":[{"type":"string","var":"$Path.connectionName","options":["n","name"],"required":true,"group":"","idPart":"child_name_1","help":{"short":"The name of the NVA connection."}},{"type":"string","var":"$Path.networkVirtualApplianceName","options":["nva","virtual-appliance-name"],"required":true,"group":"","idPart":"name","help":{"short":"The name of the Network Virtual Appliance."}},{"type":"ResourceGroupName","var":"$Path.resourceGroupName","options":["g","resource-group"],"required":true,"idPart":"resource_group"},{"type":"SubscriptionId","var":"$Path.subscriptionId","options":["subscription"],"required":true,"idPart":"subscription"}]},{"name":"NetworkVirtualApplianceConnectionParameters","args":[{"nullable":true,"type":"ResourceId","var":"$NetworkVirtualApplianceConnectionParameters.id","options":["id"],"hide":true,"group":"NetworkVirtualApplianceConnectionParameters","help":{"short":"Resource ID."},"format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/networkVirtualAppliances/{}/networkVirtualApplianceConnections/{}"}}]},{"name":"PropagatedRouteTables","args":[{"nullable":true,"type":"array<@SubResource_update>","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.propagatedRouteTables.ids","options":["propagated","propagated-route-table-ids"],"group":"PropagatedRouteTables","help":{"short":"List of resource id of propagated route tables."},"item":{"nullable":true,"type":"@SubResource_update"}},{"nullable":true,"type":"array<string>","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.propagatedRouteTables.labels","options":["labels","propagated-route-table-labels"],"group":"PropagatedRouteTables","help":{"short":"The list of labels."},"item":{"nullable":true,"type":"string"}}]},{"name":"Properties","args":[{"nullable":true,"type":"integer64","var":"$NetworkVirtualApplianceConnectionParameters.properties.asn","options":["asn"],"hide":true,"group":"Properties","help":{"short":"Network Virtual Appliance ASN."},"format":{"maximum":4294967295,"minimum":0}},{"nullable":true,"type":"array<string>","var":"$NetworkVirtualApplianceConnectionParameters.properties.bgpPeerAddress","options":["bgp-peer-address"],"hide":true,"group":"Properties","help":{"short":"List of bgpPeerAddresses for the NVA instances"},"item":{"nullable":true,"type":"string"}},{"nullable":true,"type":"boolean","var":"$NetworkVirtualApplianceConnectionParameters.properties.enableInternetSecurity","options":["enable-internet-security"],"hide":true,"group":"Properties","help":{"short":"Enable internet security."}},{"nullable":true,"type":"integer64","var":"$NetworkVirtualApplianceConnectionParameters.properties.tunnelIdentifier","options":["tunnel-identifier"],"hide":true,"group":"Properties","help":{"short":"Unique identifier for the connection."},"format":{"maximum":4294967295,"minimum":0}}]},{"name":"RoutingConfiguration","args":[{"nullable":true,"type":"object","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.associatedRouteTable","options":["associated-route-table"],"group":"RoutingConfiguration","help":{"short":"The resource id RouteTable associated with this RoutingConfiguration."},"args":[{"nullable":true,"type":"string","var":"@SubResource_update.id","options":["id"],"help":{"short":"Resource ID."}}],"cls":"SubResource_update"},{"nullable":true,"type":"@SubResource_update","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.inboundRouteMap","options":["inbound-route-map"],"group":"RoutingConfiguration","help":{"short":"The resource id of the RouteMap associated with this RoutingConfiguration for inbound learned routes."}},{"nullable":true,"type":"@SubResource_update","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.outboundRouteMap","options":["outbound-route-map"],"group":"RoutingConfiguration","help":{"short":"The resource id of theRouteMap associated with this RoutingConfiguration for outbound advertised routes."}},{"nullable":true,"type":"object","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes","options":["vnet-routes"],"hide":true,"group":"RoutingConfiguration","help":{"short":"List of routes that control routing from VirtualHub into a virtual network connection."},"default":{"value":null},"args":[{"nullable":true,"type":"array<object>","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes","options":["static-routes"],"help":{"short":"List of all Static Routes."},"item":{"nullable":true,"type":"object","args":[{"nullable":true,"type":"array<string>","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes[].addressPrefixes","options":["address-prefixes"],"help":{"short":"List of all address prefixes."},"item":{"nullable":true,"type":"string"}},{"nullable":true,"type":"string","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes[].name","options":["name"],"help":{"short":"The name of the StaticRoute that is unique within a VnetRoute."}},{"nullable":true,"type":"string","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes[].nextHopIpAddress","options":["next-hop-ip-address"],"help":{"short":"The ip address of the next hop."}}]}},{"nullable":true,"type":"object","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutesConfig","options":["static-routes-config"],"help":{"short":"Configuration for static routes on this HubVnetConnection."},"args":[{"nullable":true,"type":"string","var":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutesConfig.vnetLocalRouteOverrideCriteria","options":["vnet-local-route-override-criteria"],"help":{"short":"Parameter determining whether NVA in spoke vnet is bypassed for traffic with destination in spoke."},"enum":{"items":[{"name":"Contains","value":"Contains"},{"name":"Equal","value":"Equal"}]}}]}]}]}],"operations":[{"operationId":"NetworkVirtualApplianceConnections_Get","http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/networkVirtualAppliances/{networkVirtualApplianceName}/networkVirtualApplianceConnections/{connectionName}","request":{"method":"get","path":{"params":[{"type":"string","name":"connectionName","arg":"$Path.connectionName","required":true},{"type":"string","name":"networkVirtualApplianceName","arg":"$Path.networkVirtualApplianceName","required":true},{"type":"string","name":"resourceGroupName","arg":"$Path.resourceGroupName","required":true},{"type":"string","name":"subscriptionId","arg":"$Path.subscriptionId","required":true}]},"query":{"consts":[{"readOnly":true,"const":true,"default":{"value":"2023-06-01"},"type":"string","name":"api-version","required":true}]}},"responses":[{"statusCode":[200],"body":{"json":{"var":"$Instance","schema":{"type":"object","props":[{"type":"ResourceId","name":"id","format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/networkVirtualAppliances/{}/networkVirtualApplianceConnections/{}"}},{"type":"object","name":"properties","props":[{"type":"integer64","name":"asn","format":{"maximum":4294967295,"minimum":0}},{"type":"array<string>","name":"bgpPeerAddress","item":{"type":"string"}},{"type":"boolean","name":"enableInternetSecurity"},{"type":"string","name":"name"},{"readOnly":true,"type":"string","name":"provisioningState","enum":{"items":[{"value":"Deleting"},{"value":"Failed"},{"value":"Succeeded"},{"value":"Updating"}]}},{"type":"object","name":"routingConfiguration","props":[{"type":"object","name":"associatedRouteTable","props":[{"type":"string","name":"id"}],"cls":"SubResource_read"},{"type":"@SubResource_read","name":"inboundRouteMap"},{"type":"@SubResource_read","name":"outboundRouteMap"},{"type":"object","name":"propagatedRouteTables","props":[{"type":"array<@SubResource_read>","name":"ids","item":{"type":"@SubResource_read"}},{"type":"array<string>","name":"labels","item":{"type":"string"}}]},{"type":"object","name":"vnetRoutes","props":[{"readOnly":true,"type":"array<@SubResource_read>","name":"bgpConnections","item":{"type":"@SubResource_read"}},{"type":"array<object>","name":"staticRoutes","item":{"type":"object","props":[{"type":"array<string>","name":"addressPrefixes","item":{"type":"string"}},{"type":"string","name":"name"},{"type":"string","name":"nextHopIpAddress"}]}},{"type":"object","name":"staticRoutesConfig","props":[{"readOnly":true,"type":"boolean","name":"propagateStaticRoutes"},{"type":"string","name":"vnetLocalRouteOverrideCriteria","enum":{"items":[{"value":"Contains"},{"value":"Equal"}]}}]}]}]},{"type":"integer64","name":"tunnelIdentifier","format":{"maximum":4294967295,"minimum":0}}]}],"cls":"NetworkVirtualApplianceConnection_read"}}}},{"isError":true,"body":{"json":{"schema":{"type":"@ODataV4Format"}}}}]}},{"instanceUpdate":{"ref":"$Instance","json":{"schema":{"type":"object","name":"NetworkVirtualApplianceConnectionParameters","required":true,"props":[{"type":"ResourceId","name":"id","arg":"$NetworkVirtualApplianceConnectionParameters.id","format":{"template":"/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Network/networkVirtualAppliances/{}/networkVirtualApplianceConnections/{}"}},{"type":"object","name":"properties","props":[{"type":"integer64","name":"asn","arg":"$NetworkVirtualApplianceConnectionParameters.properties.asn","format":{"maximum":4294967295,"minimum":0}},{"type":"array<string>","name":"bgpPeerAddress","arg":"$NetworkVirtualApplianceConnectionParameters.properties.bgpPeerAddress","item":{"type":"string"}},{"type":"boolean","name":"enableInternetSecurity","arg":"$NetworkVirtualApplianceConnectionParameters.properties.enableInternetSecurity"},{"type":"string","name":"name","arg":"$Path.connectionName"},{"type":"object","name":"routingConfiguration","props":[{"type":"object","name":"associatedRouteTable","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.associatedRouteTable","props":[{"type":"string","name":"id","arg":"@SubResource_update.id"}],"cls":"SubResource_update"},{"type":"@SubResource_update","name":"inboundRouteMap","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.inboundRouteMap"},{"type":"@SubResource_update","name":"outboundRouteMap","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.outboundRouteMap"},{"type":"object","name":"propagatedRouteTables","props":[{"type":"array<@SubResource_update>","name":"ids","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.propagatedRouteTables.ids","item":{"type":"@SubResource_update"}},{"type":"array<string>","name":"labels","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.propagatedRouteTables.labels","item":{"type":"string"}}]},{"type":"object","name":"vnetRoutes","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes","props":[{"type":"array<object>","name":"staticRoutes","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes","item":{"type":"object","props":[{"type":"array<string>","name":"addressPrefixes","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes[].addressPrefixes","item":{"type":"string"}},{"type":"string","name":"name","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes[].name"},{"type":"string","name":"nextHopIpAddress","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutes[].nextHopIpAddress"}]}},{"type":"object","name":"staticRoutesConfig","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutesConfig","props":[{"type":"string","name":"vnetLocalRouteOverrideCriteria","arg":"$NetworkVirtualApplianceConnectionParameters.properties.routingConfiguration.vnetRoutes.staticRoutesConfig.vnetLocalRouteOverrideCriteria","enum":{"items":[{"value":"Contains"},{"value":"Equal"}]}}]}]}]},{"type":"integer64","name":"tunnelIdentifier","arg":"$NetworkVirtualApplianceConnectionParameters.properties.tunnelIdentifier","format":{"maximum":4294967295,"minimum":0}}]}],"clientFlatten":true}}}},{"longRunning":{"finalStateVia":"azure-async-operation"},"operationId":"NetworkVirtualApplianceConnections_CreateOrUpdate","http":{"path":"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/networkVirtualAppliances/{networkVirtualApplianceName}/networkVirtualApplianceConnections/{connectionName}","request":{"method":"put","path":{"params":[{"type":"string","name":"connectionName","arg":"$Path.connectionName","required":true,"format":{"pattern":"^[A-Za-z0-9_]+"}},{"type":"string","name":"networkVirtualApplianceName","arg":"$Path.networkVirtualApplianceName","required":true,"format":{"pattern":"^[A-Za-z0-9_]+"}},{"type":"string","name":"resourceGroupName","arg":"$Path.resourceGroupName","required":true},{"type":"string","name":"subscriptionId","arg":"$Path.subscriptionId","required":true}]},"query":{"consts":[{"readOnly":true,"const":true,"default":{"value":"2023-06-01"},"type":"string","name":"api-version","required":true}]},"body":{"json":{"ref":"$Instance"}}},"responses":[{"statusCode":[200,201],"body":{"json":{"var":"$Instance","schema":{"type":"@NetworkVirtualApplianceConnection_read"}}}},{"isError":true,"body":{"json":{"schema":{"type":"@ODataV4Format"}}}}]}}],"outputs":[{"type":"object","ref":"$Instance","clientFlatten":true}],"confirmation":""}]}]}