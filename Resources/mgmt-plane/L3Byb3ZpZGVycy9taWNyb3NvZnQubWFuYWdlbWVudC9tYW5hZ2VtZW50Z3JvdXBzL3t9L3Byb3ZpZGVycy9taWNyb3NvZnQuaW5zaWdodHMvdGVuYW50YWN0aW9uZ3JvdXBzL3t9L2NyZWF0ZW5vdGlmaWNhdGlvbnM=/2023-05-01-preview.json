{"plane": "mgmt-plane", "resources": [{"id": "/providers/microsoft.management/managementgroups/{}/providers/microsoft.insights/tenantactiongroups/{}/createnotifications", "version": "2023-05-01-preview", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3Byb3ZpZGVycy9NaWNyb3NvZnQuTWFuYWdlbWVudC9tYW5hZ2VtZW50R3JvdXBzL3ttYW5hZ2VtZW50R3JvdXBJZH0vcHJvdmlkZXJzL01pY3Jvc29mdC5JbnNpZ2h0cy90ZW5hbnRBY3Rpb25Hcm91cHMve3RlbmFudEFjdGlvbkdyb3VwTmFtZX0vY3JlYXRlTm90aWZpY2F0aW9ucw==/V/MjAyMy0wNS0wMS1wcmV2aWV3"}], "commandGroups": [{"name": "monitor tenant-action-group", "commands": [{"name": "create-notification", "version": "2023-05-01-preview", "resources": [{"id": "/providers/microsoft.management/managementgroups/{}/providers/microsoft.insights/tenantactiongroups/{}/createnotifications", "version": "2023-05-01-preview", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3Byb3ZpZGVycy9NaWNyb3NvZnQuTWFuYWdlbWVudC9tYW5hZ2VtZW50R3JvdXBzL3ttYW5hZ2VtZW50R3JvdXBJZH0vcHJvdmlkZXJzL01pY3Jvc29mdC5JbnNpZ2h0cy90ZW5hbnRBY3Rpb25Hcm91cHMve3RlbmFudEFjdGlvbkdyb3VwTmFtZX0vY3JlYXRlTm90aWZpY2F0aW9ucw==/V/MjAyMy0wNS0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Header.x-ms-client-tenant-id", "options": ["x-ms-client-tenant-id"], "required": true, "help": {"short": "The tenant ID of the client making the request."}}, {"type": "string", "var": "$Path.managementGroupId", "options": ["management-group-id"], "required": true, "help": {"short": "The management group id."}}, {"type": "string", "var": "$Path.tenantActionGroupName", "options": ["tenant-action-group-name"], "required": true, "help": {"short": "The name of the action group."}, "format": {"pattern": "^[A-Za-z][A-Za-z0-9]*$", "maxLength": 260, "minLength": 1}}]}, {"name": "NotificationRequest", "args": [{"type": "string", "var": "$notificationRequest.alertType", "options": ["alert-type"], "required": true, "group": "NotificationRequest", "help": {"short": "The value of the supported alert type. Supported alert type value is: servicehealth"}, "format": {"maxLength": 30}}, {"type": "array<object>", "var": "$notificationRequest.azureAppPushReceivers", "options": ["azure-app-push-receivers"], "group": "NotificationRequest", "help": {"short": "The list of AzureAppPush receivers that are part of this action group."}, "item": {"type": "object", "args": [{"type": "string", "var": "$notificationRequest.azureAppPushReceivers[].emailAddress", "options": ["email-address"], "required": true, "help": {"short": "The email address registered for the Azure mobile app."}}, {"type": "string", "var": "$notificationRequest.azureAppPushReceivers[].name", "options": ["name"], "required": true, "help": {"short": "The name of the Azure mobile app push receiver. Names must be unique across all receivers within a tenant action group."}}]}}, {"type": "array<object>", "var": "$notificationRequest.emailReceivers", "options": ["email-receivers"], "group": "NotificationRequest", "help": {"short": "The list of email receivers that are part of this action group."}, "item": {"type": "object", "args": [{"type": "string", "var": "$notificationRequest.emailReceivers[].emailAddress", "options": ["email-address"], "required": true, "help": {"short": "The email address of this receiver."}}, {"type": "string", "var": "$notificationRequest.emailReceivers[].name", "options": ["name"], "required": true, "help": {"short": "The name of the email receiver. Names must be unique across all receivers within a tenant action group."}}, {"type": "boolean", "var": "$notificationRequest.emailReceivers[].useCommonAlertSchema", "options": ["use-common-alert-schema"], "help": {"short": "Indicates whether to use common alert schema."}, "default": {"value": false}}]}}, {"type": "array<object>", "var": "$notificationRequest.smsReceivers", "options": ["sms-receivers"], "group": "NotificationRequest", "help": {"short": "The list of SMS receivers that are part of this action group."}, "item": {"type": "object", "args": [{"type": "string", "var": "$notificationRequest.smsReceivers[].countryCode", "options": ["country-code"], "required": true, "help": {"short": "The country code of the SMS receiver."}}, {"type": "string", "var": "$notificationRequest.smsReceivers[].name", "options": ["name"], "required": true, "help": {"short": "The name of the SMS receiver. Names must be unique across all receivers within a tenant action group."}}, {"type": "string", "var": "$notificationRequest.smsReceivers[].phoneNumber", "options": ["phone-number"], "required": true, "help": {"short": "The phone number of the SMS receiver."}}]}}, {"type": "array<object>", "var": "$notificationRequest.voiceReceivers", "options": ["voice-receivers"], "group": "NotificationRequest", "help": {"short": "The list of voice receivers that are part of this action group."}, "item": {"type": "object", "args": [{"type": "string", "var": "$notificationRequest.voiceReceivers[].countryCode", "options": ["country-code"], "required": true, "help": {"short": "The country code of the voice receiver."}}, {"type": "string", "var": "$notificationRequest.voiceReceivers[].name", "options": ["name"], "required": true, "help": {"short": "The name of the voice receiver. Names must be unique across all receivers within a tenant action group."}}, {"type": "string", "var": "$notificationRequest.voiceReceivers[].phoneNumber", "options": ["phone-number"], "required": true, "help": {"short": "The phone number of the voice receiver."}}]}}, {"type": "array<object>", "var": "$notificationRequest.webhookReceivers", "options": ["webhook-receivers"], "group": "NotificationRequest", "help": {"short": "The list of webhook receivers that are part of this action group."}, "item": {"type": "object", "args": [{"type": "string", "var": "$notificationRequest.webhookReceivers[].identifierUri", "options": ["identifier-uri"], "help": {"short": "Indicates the identifier uri for aad auth."}}, {"type": "string", "var": "$notificationRequest.webhookReceivers[].name", "options": ["name"], "required": true, "help": {"short": "The name of the webhook receiver. Names must be unique across all receivers within a tenant action group."}}, {"type": "string", "var": "$notificationRequest.webhookReceivers[].objectId", "options": ["object-id"], "help": {"short": "Indicates the webhook app object Id for aad auth."}}, {"type": "string", "var": "$notificationRequest.webhookReceivers[].serviceUri", "options": ["service-uri"], "required": true, "help": {"short": "The URI where webhooks should be sent."}}, {"type": "string", "var": "$notificationRequest.webhookReceivers[].tenantId", "options": ["tenant-id"], "help": {"short": "Indicates the tenant id for aad auth."}}, {"type": "boolean", "var": "$notificationRequest.webhookReceivers[].useAadAuth", "options": ["use-aad-auth"], "help": {"short": "Indicates whether or not use AAD authentication."}, "default": {"value": false}}, {"type": "boolean", "var": "$notificationRequest.webhookReceivers[].useCommonAlertSchema", "options": ["use-common-alert-schema"], "help": {"short": "Indicates whether to use common alert schema."}, "default": {"value": false}}]}}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "CreateNotificationsAtTenantActionGroupResourceLevel", "http": {"path": "/providers/Microsoft.Management/managementGroups/{managementGroupId}/providers/Microsoft.Insights/tenantActionGroups/{tenantActionGroupName}/createNotifications", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "managementGroupId", "arg": "$Path.managementGroupId", "required": true}, {"type": "string", "name": "tenantActionGroupName", "arg": "$Path.tenantActionGroupName", "required": true, "format": {"pattern": "^[A-Za-z][A-Za-z0-9]*$", "maxLength": 260, "minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-05-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "header": {"params": [{"type": "string", "name": "x-ms-client-tenant-id", "arg": "$Header.x-ms-client-tenant-id", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "notificationRequest", "required": true, "props": [{"type": "string", "name": "alertType", "arg": "$notificationRequest.alertType", "required": true, "format": {"maxLength": 30}}, {"type": "array<object>", "name": "azureAppPushReceivers", "arg": "$notificationRequest.azureAppPushReceivers", "item": {"type": "object", "props": [{"type": "string", "name": "emailAddress", "arg": "$notificationRequest.azureAppPushReceivers[].emailAddress", "required": true}, {"type": "string", "name": "name", "arg": "$notificationRequest.azureAppPushReceivers[].name", "required": true}]}}, {"type": "array<object>", "name": "emailReceivers", "arg": "$notificationRequest.emailReceivers", "item": {"type": "object", "props": [{"type": "string", "name": "emailAddress", "arg": "$notificationRequest.emailReceivers[].emailAddress", "required": true}, {"type": "string", "name": "name", "arg": "$notificationRequest.emailReceivers[].name", "required": true}, {"default": {"value": false}, "type": "boolean", "name": "useCommonAlertSchema", "arg": "$notificationRequest.emailReceivers[].useCommonAlertSchema"}]}}, {"type": "array<object>", "name": "smsReceivers", "arg": "$notificationRequest.smsReceivers", "item": {"type": "object", "props": [{"type": "string", "name": "countryCode", "arg": "$notificationRequest.smsReceivers[].countryCode", "required": true}, {"type": "string", "name": "name", "arg": "$notificationRequest.smsReceivers[].name", "required": true}, {"type": "string", "name": "phoneNumber", "arg": "$notificationRequest.smsReceivers[].phoneNumber", "required": true}]}}, {"type": "array<object>", "name": "voiceReceivers", "arg": "$notificationRequest.voiceReceivers", "item": {"type": "object", "props": [{"type": "string", "name": "countryCode", "arg": "$notificationRequest.voiceReceivers[].countryCode", "required": true}, {"type": "string", "name": "name", "arg": "$notificationRequest.voiceReceivers[].name", "required": true}, {"type": "string", "name": "phoneNumber", "arg": "$notificationRequest.voiceReceivers[].phoneNumber", "required": true}]}}, {"type": "array<object>", "name": "webhookReceivers", "arg": "$notificationRequest.webhookReceivers", "item": {"type": "object", "props": [{"type": "string", "name": "identifierUri", "arg": "$notificationRequest.webhookReceivers[].identifierUri"}, {"type": "string", "name": "name", "arg": "$notificationRequest.webhookReceivers[].name", "required": true}, {"type": "string", "name": "objectId", "arg": "$notificationRequest.webhookReceivers[].objectId"}, {"type": "string", "name": "serviceUri", "arg": "$notificationRequest.webhookReceivers[].serviceUri", "required": true}, {"type": "string", "name": "tenantId", "arg": "$notificationRequest.webhookReceivers[].tenantId"}, {"default": {"value": false}, "type": "boolean", "name": "useAadAuth", "arg": "$notificationRequest.webhookReceivers[].useAadAuth"}, {"default": {"value": false}, "type": "boolean", "name": "useCommonAlertSchema", "arg": "$notificationRequest.webhookReceivers[].useCommonAlertSchema"}]}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "array<object>", "name": "actionDetails", "item": {"type": "object", "props": [{"type": "string", "name": "mechanismType"}, {"type": "string", "name": "message"}, {"type": "string", "name": "name"}, {"type": "string", "name": "sendTime"}, {"type": "string", "name": "status"}, {"type": "string", "name": "subState"}]}}, {"type": "string", "name": "completedTime"}, {"type": "object", "name": "context", "props": [{"type": "string", "name": "contextType"}, {"type": "string", "name": "notificationSource"}]}, {"type": "string", "name": "createdTime"}, {"type": "string", "name": "state", "required": true}]}}}}, {"statusCode": [202], "header": {"items": [{"name": "location"}]}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}