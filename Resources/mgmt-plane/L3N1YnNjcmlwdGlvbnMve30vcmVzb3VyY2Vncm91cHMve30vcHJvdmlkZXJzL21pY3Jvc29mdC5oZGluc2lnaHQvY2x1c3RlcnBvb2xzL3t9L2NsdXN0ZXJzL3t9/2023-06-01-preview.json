{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "commandGroups": [{"name": "hdinsightonaks cluster", "commands": [{"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202], "header": {"items": [{"name": "Location"}]}}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "ApplicationLogs", "args": [{"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdErrorEnabled", "options": ["application-log-std-error-enabled"], "group": "ApplicationLogs", "help": {"short": "True if stderror is enabled, otherwise false."}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdOutEnabled", "options": ["application-log-std-out-enabled"], "group": "ApplicationLogs", "help": {"short": "True if stdout is enabled, otherwise false."}}]}, {"name": "ClusterProfile", "args": [{"type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.groupIds", "options": ["authorization-group-id"], "group": "ClusterProfile", "help": {"short": "AAD group Ids authorized for data plane access."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.userIds", "options": ["authorization-user-id"], "group": "ClusterProfile", "help": {"short": "AAD user Ids authorized for data plane access."}, "item": {"type": "string"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.autoscaleType", "options": ["autoscale-profile-type"], "group": "ClusterProfile", "help": {"short": "User to specify which type of Autoscale to be implemented - Scheduled Based or Load Based."}, "enum": {"items": [{"name": "LoadBased", "value": "LoadBased"}, {"name": "ScheduleBased", "value": "ScheduleBased"}]}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.enabled", "options": ["autoscale-profile-enabled"], "group": "ClusterProfile", "help": {"short": "This indicates whether auto scale is enabled on HDInsight on AKS cluster."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.gracefulDecommissionTimeout", "options": ["autoscale-profile-graceful-decommission-timeout"], "group": "ClusterProfile", "help": {"short": "This property is for graceful decommission timeout; It has a default setting of 3600 seconds before forced shutdown takes place. This is the maximal time to wait for running containers and applications to complete before transition a DECOMMISSIONING node into DECOMMISSIONED. The default value is 3600 seconds. Negative value (like -1) is handled as infinite timeout."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.cooldownPeriod", "options": ["loadbased-config-cooldown-period"], "group": "ClusterProfile", "help": {"short": "This is a cool down period, this is a time period in seconds, which determines the amount of time that must elapse between a scaling activity started by a rule and the start of the next scaling activity, regardless of the rule that triggers it. The default value is 300 seconds."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.maxNodes", "options": ["loadbased-config-max-nodes"], "group": "ClusterProfile", "help": {"short": "User needs to set the maximum number of nodes for load based scaling, the load based scaling will use this to scale up and scale down between minimum and maximum number of nodes."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.minNodes", "options": ["loadbased-config-min-nodes"], "group": "ClusterProfile", "help": {"short": "User needs to set the minimum number of nodes for load based scaling, the load based scaling will use this to scale up and scale down between minimum and maximum number of nodes."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.pollInterval", "options": ["loadbased-config-poll-interval"], "group": "ClusterProfile", "help": {"short": "User can specify the poll interval, this is the time period (in seconds) after which scaling metrics are polled for triggering a scaling operation."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules", "options": ["loadbased-config-scaling-rules"], "group": "ClusterProfile", "help": {"short": "The scaling rules."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].actionType", "options": ["action-type"], "required": true, "help": {"short": "The action type."}, "enum": {"items": [{"name": "scaledown", "value": "scaledown"}, {"name": "scaleup", "value": "scaleup"}]}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule", "options": ["comparison-rule"], "required": true, "help": {"short": "The comparison rule."}, "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.operator", "options": ["operator"], "required": true, "help": {"short": "The comparison operator."}, "enum": {"items": [{"name": "greaterThan", "value": "greaterThan"}, {"name": "greaterThanOrEqual", "value": "greaterThanOrEqual"}, {"name": "lessThan", "value": "lessThan"}, {"name": "lessThanOrEqual", "value": "lessThanOrEqual"}]}}, {"type": "float", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.threshold", "options": ["threshold"], "required": true, "help": {"short": "Threshold setting."}}]}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].evaluationCount", "options": ["evaluation-count"], "required": true, "help": {"short": "This is an evaluation count for a scaling condition, the number of times a trigger condition should be successful, before scaling activity is triggered."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].scalingMetric", "options": ["scaling-metric"], "required": true, "help": {"short": "Metrics name for individual workloads. For example: cpu"}}]}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.defaultCount", "options": ["schedule-based-config-default-count"], "group": "ClusterProfile", "help": {"short": "Setting default node count of current schedule configuration. Default node count specifies the number of nodes which are default when an specified scaling operation is executed (scale up/scale down)"}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules", "options": ["schedule-based-config-schedule"], "group": "ClusterProfile", "help": {"short": "This specifies the schedules where scheduled based Autoscale to be enabled, the user has a choice to set multiple rules within the schedule across days and times (start/end)."}, "item": {"type": "object", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].count", "options": ["count"], "required": true, "help": {"short": "User has to set the node count anticipated at end of the scaling operation of the set current schedule configuration, format is integer."}}, {"type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].days", "options": ["days"], "required": true, "help": {"short": "User has to set the days where schedule has to be set for autoscale operation."}, "item": {"type": "string", "enum": {"items": [{"name": "Friday", "value": "Friday"}, {"name": "Monday", "value": "Monday"}, {"name": "Saturday", "value": "Saturday"}, {"name": "Sunday", "value": "Sunday"}, {"name": "Thursday", "value": "Thursday"}, {"name": "Tuesday", "value": "Tuesday"}, {"name": "Wednesday", "value": "Wednesday"}]}}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].endTime", "options": ["end-time"], "required": true, "help": {"short": "User has to set the end time of current schedule configuration, format like 10:30 (HH:MM)."}, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].startTime", "options": ["start-time"], "required": true, "help": {"short": "User has to set the start time of current schedule configuration, format like 10:30 (HH:MM)."}, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.timeZone", "options": ["schedule-based-config-time-zone"], "group": "ClusterProfile", "help": {"short": "User has to specify the timezone on which the schedule has to be set for schedule based autoscale configuration."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.clusterVersion", "options": ["cluster-version"], "group": "ClusterProfile", "help": {"short": "Version with 3/4 part."}, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiClientId", "options": ["assigned-identity-client-id"], "group": "ClusterProfile", "help": {"short": "ClientId of the MSI."}, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiObjectId", "options": ["assigned-identity-object-id"], "group": "ClusterProfile", "help": {"short": "ObjectId of the MSI."}, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "var": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiResourceId", "options": ["assigned-identity-resource-id"], "group": "ClusterProfile", "help": {"short": "ResourceId of the MSI."}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.kafkaProfile", "options": ["kafka-profile"], "group": "ClusterProfile", "help": {"short": "Kafka cluster profile."}, "additionalProps": {"anyType": true}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.llapProfile", "options": ["llap-profile"], "group": "ClusterProfile", "help": {"short": "LLAP cluster profile."}, "additionalProps": {"anyType": true}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.ossVersion", "options": ["oss-version"], "group": "ClusterProfile", "help": {"short": "Version with three part."}, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles", "options": ["script-action-profiles"], "group": "ClusterProfile", "help": {"short": "The script action profile list."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].name", "options": ["name"], "required": true, "help": {"short": "Script name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].parameters", "options": ["parameters"], "help": {"short": "Additional parameters for the script action. It should be space-separated list of arguments required for script execution."}}, {"type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].services", "options": ["services"], "required": true, "help": {"short": "List of services to apply the script action."}, "item": {"type": "string"}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].shouldPersist", "options": ["should-persist"], "help": {"short": "Specify if the script should persist on the cluster."}, "default": {"value": true}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].timeoutInMinutes", "options": ["timeout-in-minutes"], "help": {"short": "Timeout duration for the script action in minutes."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].type", "options": ["type"], "required": true, "help": {"short": "Type of the script action. Supported type is bash scripts."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].url", "options": ["url"], "required": true, "help": {"short": "Url of the script file."}, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles", "options": ["service-configs-profiles"], "group": "ClusterProfile", "help": {"short": "The service configs profiles."}, "item": {"type": "object", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "options": ["configs"], "required": true, "help": {"short": "List of service configs."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "options": ["component"], "required": true, "help": {"short": "Name of the component the config files should apply to."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "options": ["files"], "required": true, "help": {"short": "List of Config Files."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "help": {"short": "Free form content of the entire configuration file."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "required": true, "help": {"short": "Configuration file name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "help": {"short": "Path of the config file if content is specified."}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["values"], "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "options": ["service-name"], "required": true, "help": {"short": "Name of the service the configurations should apply to."}}]}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.stubProfile", "options": ["stub-profile"], "group": "ClusterProfile", "help": {"short": "Stub cluster profile."}, "additionalProps": {"anyType": true}}]}, {"name": "ComputeProfile", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.computeProfile.nodes", "options": ["nodes"], "group": "ComputeProfile", "help": {"short": "The nodes definitions."}, "item": {"type": "object", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.computeProfile.nodes[].count", "options": ["count"], "required": true, "help": {"short": "The number of virtual machines."}, "format": {"minimum": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].type", "options": ["type"], "required": true, "help": {"short": "The node type."}, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "options": ["vm-size"], "required": true, "help": {"short": "The virtual machine SKU."}, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"name": "Coordinator", "args": [{"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.enable", "options": ["coordinator-high-availability-enabled"], "group": "Coordinator", "default": {"value": false}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.port", "options": ["coordinator-debug-port"], "group": "Coordinator", "default": {"value": 8008}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.suspend", "options": ["coordinator-debug-suspend"], "group": "Coordinator", "default": {"value": false}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.highAvailabilityEnabled", "options": ["coordinator-debug-enabled"], "group": "Coordinator", "help": {"short": "The flag that if enable coordinator HA, uses multiple coordinator replicas with auto failover, one per each head node. Default: true."}, "default": {"value": true}}]}, {"name": "FlinkProfile", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionPasswordSecret", "options": ["flink-hive-catalog-db-connection-password-secret"], "group": "FlinkProfile", "help": {"short": "Secret reference name from secretsProfile.secrets containing password for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionURL", "options": ["flink-hive-catalog-db-connection-url"], "group": "FlinkProfile", "help": {"short": "Connection string for hive metastore database."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionUserName", "options": ["flink-hive-catalog-db-connection-user-name"], "group": "FlinkProfile", "help": {"short": "User name for database connection."}}, {"type": "float32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.cpu", "options": ["history-server-cpu"], "group": "FlinkProfile"}, {"type": "integer64", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.memory", "options": ["history-server-memory"], "group": "FlinkProfile"}, {"type": "float32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.cpu", "options": ["job-manager-cpu"], "group": "FlinkProfile", "help": {"short": "Job manager CPU count."}}, {"type": "integer64", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.memory", "options": ["job-manager-memory"], "group": "FlinkProfile", "help": {"short": "Job manager memory size."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.numReplicas", "options": ["num-replicas"], "group": "FlinkProfile", "help": {"short": "The number of task managers."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storageUri", "options": ["flink-storage-uri"], "group": "FlinkProfile", "help": {"short": "Storage account uri which is used for savepoint and checkpoint state."}, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storagekey", "options": ["flink-storage-key"], "group": "FlinkProfile", "help": {"short": "Storage key is only required for wasb(s) storage."}}, {"type": "float32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.cpu", "options": ["task-manager-cpu"], "group": "FlinkProfile", "help": {"short": "Task manager CPU count."}}, {"type": "integer64", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.memory", "options": ["task-manager-memory"], "group": "FlinkProfile", "help": {"short": "Task manager memory size."}}]}, {"name": "HDInsightCluster", "args": [{"type": "ResourceLocation", "var": "$HDInsightCluster.location", "options": ["l", "location"], "required": true, "group": "HDInsightCluster", "help": {"short": "The geo-location where the resource lives"}}, {"type": "object", "var": "$HDInsightCluster.tags", "options": ["tags"], "group": "HDInsightCluster", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "LogAnalyticsProfile", "args": [{"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.enabled", "options": ["enable-log-analytics"], "group": "LogAnalyticsProfile", "help": {"short": "True if log analytics is enabled for the cluster, otherwise false."}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.metricsEnabled", "options": ["log-analytic-profile-metrics-enabled"], "group": "LogAnalyticsProfile", "help": {"short": "True if metrics are enabled, otherwise false."}}]}, {"name": "PrometheusProfile", "args": [{"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.prometheusProfile.enabled", "options": ["prometheu-profile-enabled"], "group": "PrometheusProfile", "help": {"short": "Enable Prometheus for cluster or not."}, "default": {"value": false}}]}, {"name": "Properties", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterType", "options": ["cluster-type"], "group": "Properties", "help": {"short": "The type of cluster."}, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}]}, {"name": "SecretsProfile", "args": [{"type": "ResourceId", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.keyVaultResourceId", "options": ["key-vault-id"], "group": "SecretsProfile", "help": {"short": "Name of the user Key Vault where all the cluster specific user secrets are stored."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets", "options": ["secret-reference"], "group": "SecretsProfile", "help": {"short": "Properties of Key Vault secret."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "options": ["secret-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Object identifier name of the secret in key vault."}, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "options": ["reference-name"], "required": true, "help": {"short": "Reference name of the secret to be used in service configs."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "options": ["type"], "required": true, "help": {"short": "Type of key vault object: secret, key or certificate."}, "enum": {"items": [{"name": "Certificate", "value": "Certificate"}, {"name": "Key", "value": "Key"}, {"name": "Secret", "value": "Secret"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version", "options": ["version"], "help": {"short": "Version of the secret in key vault."}}]}}]}, {"name": "SparkProfile", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.defaultStorageUrl", "options": ["spark-storage-url"], "group": "SparkProfile", "help": {"short": "The default storage URL."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbName", "options": ["spark-hive-catalog-db-name"], "group": "SparkProfile", "help": {"short": "The database name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbPasswordSecretName", "options": ["spark-hive-catalog-db-password-secret-name"], "group": "SparkProfile", "help": {"short": "The secret name which contains the database user password."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbServerHost", "options": ["spark-hive-catalog-db-server-name"], "group": "SparkProfile", "help": {"short": "The database server host."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbUserName", "options": ["spark-hive-catalog-db-user-name"], "group": "SparkProfile", "help": {"short": "The database user name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.keyVaultId", "options": ["spark-hive-catalog-key-vault-id"], "group": "SparkProfile", "help": {"short": "The key vault resource id."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.thriftUrl", "options": ["spark-hive-catalog-thrift-url"], "group": "SparkProfile", "help": {"short": "The thrift url."}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec", "options": ["user-plugins-spec"], "group": "SparkProfile", "help": {"short": "Spark user plugins spec"}, "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins", "options": ["plugins"], "help": {"short": "Spark user plugins."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins[].path", "options": ["path"], "required": true, "help": {"short": "Fully qualified path to the folder containing the plugins."}, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"name": "SshProfile", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.sshProfile.count", "options": ["ssh-profile-count"], "group": "SshProfile", "help": {"short": "Number of ssh pods per cluster."}, "format": {"maximum": 5, "minimum": 0}}]}, {"name": "TrinoHiveCatalog", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive", "options": ["trino-hive-catalog"], "group": "TrinoHiveCatalog", "help": {"short": "hive catalog options."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "options": ["catalog-name"], "required": true, "help": {"short": "Name of trino catalog which should use specified hive metastore."}, "format": {"minLength": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "options": ["metastore-db-connection-password-secret"], "required": true, "help": {"short": "Secret reference name from secretsProfile.secrets containing password for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "options": ["metastore-db-connection-url"], "required": true, "help": {"short": "Connection string for hive metastore database."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "options": ["metastore-db-connection-user-name"], "required": true, "help": {"short": "User name for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "options": ["metastore-warehouse-dir"], "required": true, "help": {"short": "Metastore root directory URI, format: abfs[s]://<container>@<account_name>.dfs.core.windows.net/<path>. More details: https://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri"}}]}}]}, {"name": "TrinoProfile", "args": [{"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec", "options": ["trino-profile-user-plugins-spec-plugin"], "group": "TrinoProfile", "help": {"short": "Trino user plugins spec"}, "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins", "options": ["plugins"], "help": {"short": "Trino user plugins."}, "item": {"type": "object", "args": [{"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].enabled", "options": ["enabled"], "help": {"short": "Denotes whether the plugin is active or not."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].name", "options": ["name"], "help": {"short": "This field maps to the sub-directory in trino plugins location, that will contain all the plugins under path."}, "format": {"minLength": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].path", "options": ["path"], "help": {"short": "Fully qualified path to the folder containing the plugins."}, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec", "options": ["trino-profile-user-plugins-telemetry-spec"], "group": "TrinoProfile", "help": {"short": "User telemetry"}, "args": [{"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage", "options": ["storage"], "help": {"short": "Trino user telemetry definition."}, "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogName", "options": ["hivecatalog-name"], "help": {"short": "Hive Catalog name used to mount external tables on the logs written by trino, if not specified there tables are not created."}, "format": {"minLength": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogSchema", "options": ["hivecatalog-schema"], "help": {"short": "Schema of the above catalog to use, to mount query logs as external tables, if not specified tables will be mounted under schema trinologs."}, "default": {"value": "trinologs"}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.partitionRetentionInDays", "options": ["partition-retention-in-days"], "help": {"short": "Retention period for query log table partitions, this doesn't have any affect on actual data."}, "default": {"value": 365}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.path", "options": ["path"], "help": {"short": "Azure storage location of the blobs."}, "format": {"minLength": 1}}]}]}]}, {"name": "Worker", "args": [{"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug.enable", "options": ["worker-debug-enable"], "group": "Worker", "default": {"value": false}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug.port", "options": ["worker-debug-port"], "group": "Worker", "default": {"value": 8008}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug.suspend", "options": ["worker-debug-suspend"], "group": "Worker", "default": {"value": false}}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "HDInsightCluster", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$HDInsightCluster.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "arg": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "arg": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.minNodes", "required": true}, {"type": "integer32", "name": "pollInterval", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.pollInterval"}, {"type": "array<object>", "name": "scalingRules", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].count", "required": true}, {"type": "array<string>", "name": "days", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "arg": "$HDInsightCluster.properties.clusterProfile.clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionUserName", "required": true}]}]}, {"type": "object", "name": "historyServer", "props": [{"type": "float32", "name": "cpu", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.cpu", "required": true}, {"type": "integer64", "name": "memory", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.memory", "required": true}]}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.cpu", "required": true}, {"type": "integer64", "name": "memory", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.memory", "required": true}]}, {"type": "integer32", "name": "numReplicas", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storagekey", "secret": true}]}, {"type": "object", "name": "taskManager", "required": true, "props": [{"type": "float32", "name": "cpu", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.cpu", "required": true}, {"type": "integer64", "name": "memory", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.memory", "required": true}]}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "arg": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "arg": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "arg": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "arg": "$HDInsightCluster.properties.clusterProfile.kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "arg": "$HDInsightCluster.properties.clusterProfile.llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "arg": "$HDInsightCluster.properties.clusterProfile.ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.prometheusProfile.enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].name", "required": true}, {"type": "string", "name": "parameters", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].parameters"}, {"type": "array<string>", "name": "services", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].timeoutInMinutes"}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].type", "required": true}, {"type": "string", "name": "url", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "required": true}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "required": true}, {"type": "array<object>", "name": "files", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins[].path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.clusterProfile.sshProfile.count", "required": true, "format": {"maximum": 5, "minimum": 0}}]}, {"type": "object", "name": "stubProfile", "arg": "$HDInsightCluster.properties.clusterProfile.stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.suspend"}], "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].enabled"}, {"type": "string", "name": "name", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec", "props": [{"type": "object", "name": "storage", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage", "props": [{"type": "string", "name": "hivecatalogName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.partitionRetentionInDays"}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug.enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug.port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug.suspend"}], "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "arg": "$HDInsightCluster.properties.clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "arg": "$HDInsightCluster.properties.computeProfile.nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$HDInsightCluster.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "ClusterProfile", "args": [{"nullable": true, "type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.groupIds", "options": ["authorization-group-id"], "group": "ClusterProfile", "help": {"short": "AAD group Ids authorized for data plane access."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.userIds", "options": ["authorization-user-id"], "group": "ClusterProfile", "help": {"short": "AAD user Ids authorized for data plane access."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.autoscaleType", "options": ["autoscale-profile-type"], "group": "ClusterProfile", "help": {"short": "User to specify which type of Autoscale to be implemented - Scheduled Based or Load Based."}, "enum": {"items": [{"name": "LoadBased", "value": "LoadBased"}, {"name": "ScheduleBased", "value": "ScheduleBased"}]}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.enabled", "options": ["autoscale-profile-enabled"], "group": "ClusterProfile", "help": {"short": "This indicates whether auto scale is enabled on HDInsight on AKS cluster."}}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.gracefulDecommissionTimeout", "options": ["autoscale-profile-graceful-decommission-timeout"], "group": "ClusterProfile", "help": {"short": "This property is for graceful decommission timeout; It has a default setting of 3600 seconds before forced shutdown takes place. This is the maximal time to wait for running containers and applications to complete before transition a DECOMMISSIONING node into DECOMMISSIONED. The default value is 3600 seconds. Negative value (like -1) is handled as infinite timeout."}}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.cooldownPeriod", "options": ["loadbased-config-cooldown-period"], "group": "ClusterProfile", "help": {"short": "This is a cool down period, this is a time period in seconds, which determines the amount of time that must elapse between a scaling activity started by a rule and the start of the next scaling activity, regardless of the rule that triggers it. The default value is 300 seconds."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.maxNodes", "options": ["loadbased-config-max-nodes"], "group": "ClusterProfile", "help": {"short": "User needs to set the maximum number of nodes for load based scaling, the load based scaling will use this to scale up and scale down between minimum and maximum number of nodes."}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.minNodes", "options": ["loadbased-config-min-nodes"], "group": "ClusterProfile", "help": {"short": "User needs to set the minimum number of nodes for load based scaling, the load based scaling will use this to scale up and scale down between minimum and maximum number of nodes."}}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.pollInterval", "options": ["loadbased-config-poll-interval"], "group": "ClusterProfile", "help": {"short": "User can specify the poll interval, this is the time period (in seconds) after which scaling metrics are polled for triggering a scaling operation."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules", "options": ["loadbased-config-scaling-rules"], "group": "ClusterProfile", "help": {"short": "The scaling rules."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].actionType", "options": ["action-type"], "help": {"short": "The action type."}, "enum": {"items": [{"name": "scaledown", "value": "scaledown"}, {"name": "scaleup", "value": "scaleup"}]}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule", "options": ["comparison-rule"], "help": {"short": "The comparison rule."}, "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.operator", "options": ["operator"], "help": {"short": "The comparison operator."}, "enum": {"items": [{"name": "greaterThan", "value": "greaterThan"}, {"name": "greaterThanOrEqual", "value": "greaterThanOrEqual"}, {"name": "lessThan", "value": "lessThan"}, {"name": "lessThanOrEqual", "value": "lessThanOrEqual"}]}}, {"type": "float", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.threshold", "options": ["threshold"], "help": {"short": "Threshold setting."}}]}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].evaluationCount", "options": ["evaluation-count"], "help": {"short": "This is an evaluation count for a scaling condition, the number of times a trigger condition should be successful, before scaling activity is triggered."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].scalingMetric", "options": ["scaling-metric"], "help": {"short": "Metrics name for individual workloads. For example: cpu"}}]}}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.defaultCount", "options": ["schedule-based-config-default-count"], "group": "ClusterProfile", "help": {"short": "Setting default node count of current schedule configuration. Default node count specifies the number of nodes which are default when an specified scaling operation is executed (scale up/scale down)"}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules", "options": ["schedule-based-config-schedule"], "group": "ClusterProfile", "help": {"short": "This specifies the schedules where scheduled based Autoscale to be enabled, the user has a choice to set multiple rules within the schedule across days and times (start/end)."}, "item": {"nullable": true, "type": "object", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].count", "options": ["count"], "help": {"short": "User has to set the node count anticipated at end of the scaling operation of the set current schedule configuration, format is integer."}}, {"type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].days", "options": ["days"], "help": {"short": "User has to set the days where schedule has to be set for autoscale operation."}, "item": {"nullable": true, "type": "string", "enum": {"items": [{"name": "Friday", "value": "Friday"}, {"name": "Monday", "value": "Monday"}, {"name": "Saturday", "value": "Saturday"}, {"name": "Sunday", "value": "Sunday"}, {"name": "Thursday", "value": "Thursday"}, {"name": "Tuesday", "value": "Tuesday"}, {"name": "Wednesday", "value": "Wednesday"}]}}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].endTime", "options": ["end-time"], "help": {"short": "User has to set the end time of current schedule configuration, format like 10:30 (HH:MM)."}, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].startTime", "options": ["start-time"], "help": {"short": "User has to set the start time of current schedule configuration, format like 10:30 (HH:MM)."}, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.timeZone", "options": ["schedule-based-config-time-zone"], "group": "ClusterProfile", "help": {"short": "User has to specify the timezone on which the schedule has to be set for schedule based autoscale configuration."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.clusterVersion", "options": ["cluster-version"], "group": "ClusterProfile", "help": {"short": "Version with 3/4 part."}, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiClientId", "options": ["assigned-identity-client-id"], "group": "ClusterProfile", "help": {"short": "ClientId of the MSI."}, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiObjectId", "options": ["assigned-identity-object-id"], "group": "ClusterProfile", "help": {"short": "ObjectId of the MSI."}, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "var": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiResourceId", "options": ["assigned-identity-resource-id"], "group": "ClusterProfile", "help": {"short": "ResourceId of the MSI."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.kafkaProfile", "options": ["kafka-profile"], "group": "ClusterProfile", "help": {"short": "Kafka cluster profile."}, "additionalProps": {"anyType": true}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.llapProfile", "options": ["llap-profile"], "group": "ClusterProfile", "help": {"short": "LLAP cluster profile."}, "additionalProps": {"anyType": true}}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdErrorEnabled", "options": ["application-log-std-error-enabled"], "group": "ClusterProfile", "help": {"short": "True if stderror is enabled, otherwise false."}}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdOutEnabled", "options": ["application-log-std-out-enabled"], "group": "ClusterProfile", "help": {"short": "True if stdout is enabled, otherwise false."}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.enabled", "options": ["enable-log-analytics"], "group": "ClusterProfile", "help": {"short": "True if log analytics is enabled for the cluster, otherwise false."}}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.metricsEnabled", "options": ["log-analytic-profile-metrics-enabled"], "group": "ClusterProfile", "help": {"short": "True if metrics are enabled, otherwise false."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.ossVersion", "options": ["oss-version"], "group": "ClusterProfile", "help": {"short": "Version with three part."}, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.prometheusProfile.enabled", "options": ["prometheu-profile-enabled"], "group": "ClusterProfile", "help": {"short": "Enable Prometheus for cluster or not."}}, {"nullable": true, "type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles", "options": ["script-action-profiles"], "group": "ClusterProfile", "help": {"short": "The script action profile list."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].name", "options": ["name"], "help": {"short": "Script name."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].parameters", "options": ["parameters"], "help": {"short": "Additional parameters for the script action. It should be space-separated list of arguments required for script execution."}}, {"type": "array<string>", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].services", "options": ["services"], "help": {"short": "List of services to apply the script action."}, "item": {"nullable": true, "type": "string"}}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].shouldPersist", "options": ["should-persist"], "help": {"short": "Specify if the script should persist on the cluster."}}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].timeoutInMinutes", "options": ["timeout-in-minutes"], "help": {"short": "Timeout duration for the script action in minutes."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].type", "options": ["type"], "help": {"short": "Type of the script action. Supported type is bash scripts."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].url", "options": ["url"], "help": {"short": "Url of the script file."}, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"nullable": true, "type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles", "options": ["service-configs-profiles"], "group": "ClusterProfile", "help": {"short": "The service configs profiles."}, "item": {"nullable": true, "type": "object", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "options": ["configs"], "help": {"short": "List of service configs."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "options": ["component"], "help": {"short": "Name of the component the config files should apply to."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "options": ["files"], "help": {"short": "List of Config Files."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "help": {"short": "Free form content of the entire configuration file."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "help": {"short": "Configuration file name."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "help": {"short": "Path of the config file if content is specified."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["values"], "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "options": ["service-name"], "help": {"short": "Name of the service the configurations should apply to."}}]}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.defaultStorageUrl", "options": ["spark-storage-url"], "group": "ClusterProfile", "help": {"short": "The default storage URL."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbName", "options": ["spark-hive-catalog-db-name"], "group": "ClusterProfile", "help": {"short": "The database name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbPasswordSecretName", "options": ["spark-hive-catalog-db-password-secret-name"], "group": "ClusterProfile", "help": {"short": "The secret name which contains the database user password."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbServerHost", "options": ["spark-hive-catalog-db-server-name"], "group": "ClusterProfile", "help": {"short": "The database server host."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbUserName", "options": ["spark-hive-catalog-db-user-name"], "group": "ClusterProfile", "help": {"short": "The database user name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.keyVaultId", "options": ["spark-hive-catalog-key-vault-id"], "group": "ClusterProfile", "help": {"short": "The key vault resource id."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.thriftUrl", "options": ["spark-hive-catalog-thrift-url"], "group": "ClusterProfile", "help": {"short": "The thrift url."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec", "options": ["user-plugins-spec"], "group": "ClusterProfile", "help": {"short": "Spark user plugins spec"}, "args": [{"nullable": true, "type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins", "options": ["plugins"], "help": {"short": "Spark user plugins."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins[].path", "options": ["path"], "help": {"short": "Fully qualified path to the folder containing the plugins."}, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.sshProfile.count", "options": ["ssh-profile-count"], "group": "ClusterProfile", "help": {"short": "Number of ssh pods per cluster."}, "format": {"maximum": 5, "minimum": 0}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.stubProfile", "options": ["stub-profile"], "group": "ClusterProfile", "help": {"short": "Stub cluster profile."}, "additionalProps": {"anyType": true}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile", "options": ["trino-profile"], "group": "ClusterProfile", "help": {"short": "Trino Cluster profile."}, "args": [{"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions", "options": ["catalog-options"], "help": {"short": "Trino cluster catalog options."}, "args": [{"nullable": true, "type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive", "options": ["hive"], "help": {"short": "hive catalog options."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "options": ["catalog-name"], "help": {"short": "Name of trino catalog which should use specified hive metastore."}, "format": {"minLength": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "options": ["metastore-db-connection-password-secret"], "help": {"short": "Secret reference name from secretsProfile.secrets containing password for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "options": ["metastore-db-connection-url"], "help": {"short": "Connection string for hive metastore database."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "options": ["metastore-db-connection-user-name"], "help": {"short": "User name for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "options": ["metastore-warehouse-dir"], "help": {"short": "Metastore root directory URI, format: abfs[s]://<container>@<account_name>.dfs.core.windows.net/<path>. More details: https://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri"}}]}}]}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.enable", "options": ["coordinator-high-availability-enabled"], "group": "Coordinator"}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.port", "options": ["coordinator-debug-port"], "group": "Coordinator"}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.suspend", "options": ["coordinator-debug-suspend"], "group": "Coordinator"}, {"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.highAvailabilityEnabled", "options": ["coordinator-debug-enabled"], "group": "Coordinator", "help": {"short": "The flag that if enable coordinator HA, uses multiple coordinator replicas with auto failover, one per each head node. Default: true."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec", "options": ["user-plugins-spec"], "help": {"short": "Trino user plugins spec"}, "args": [{"nullable": true, "type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins", "options": ["plugins"], "help": {"short": "Trino user plugins."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "boolean", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].enabled", "options": ["enabled"], "help": {"short": "Denotes whether the plugin is active or not."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].name", "options": ["name"], "help": {"short": "This field maps to the sub-directory in trino plugins location, that will contain all the plugins under path."}, "format": {"minLength": 1}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].path", "options": ["path"], "help": {"short": "Fully qualified path to the folder containing the plugins."}, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec", "options": ["user-telemetry-spec"], "help": {"short": "User telemetry"}, "args": [{"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage", "options": ["storage"], "help": {"short": "Trino user telemetry definition."}, "args": [{"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogName", "options": ["hivecatalog-name"], "help": {"short": "Hive Catalog name used to mount external tables on the logs written by trino, if not specified there tables are not created."}, "format": {"minLength": 1}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogSchema", "options": ["hivecatalog-schema"], "help": {"short": "Schema of the above catalog to use, to mount query logs as external tables, if not specified tables will be mounted under schema trinologs."}}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.partitionRetentionInDays", "options": ["partition-retention-in-days"], "help": {"short": "Retention period for query log table partitions, this doesn't have any affect on actual data."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.path", "options": ["path"], "help": {"short": "Azure storage location of the blobs."}, "format": {"minLength": 1}}]}]}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker", "options": ["worker"], "help": {"short": "Trino worker."}, "args": [{"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug", "options": ["debug"], "args": [{"nullable": true, "type": "boolean", "var": "@TrinoDebugConfig_update.enable", "options": ["enable"], "help": {"short": "The flag that if enable debug or not."}}, {"nullable": true, "type": "integer32", "var": "@TrinoDebugConfig_update.port", "options": ["port"], "help": {"short": "The debug port."}}, {"nullable": true, "type": "boolean", "var": "@TrinoDebugConfig_update.suspend", "options": ["suspend"], "help": {"short": "The flag that if suspend debug or not."}}], "cls": "TrinoDebugConfig_update"}]}]}]}, {"name": "ComputeProfile", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.computeProfile.nodes", "options": ["nodes"], "group": "ComputeProfile", "help": {"short": "The nodes definitions."}, "item": {"nullable": true, "type": "object", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.computeProfile.nodes[].count", "options": ["count"], "help": {"short": "The number of virtual machines."}, "format": {"minimum": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].type", "options": ["type"], "help": {"short": "The node type."}, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "options": ["vm-size"], "help": {"short": "The virtual machine SKU."}, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"name": "FlinkProfile", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionPasswordSecret", "options": ["flink-hive-catalog-db-connection-password-secret"], "group": "FlinkProfile", "help": {"short": "Secret reference name from secretsProfile.secrets containing password for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionURL", "options": ["flink-hive-catalog-db-connection-url"], "group": "FlinkProfile", "help": {"short": "Connection string for hive metastore database."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionUserName", "options": ["flink-hive-catalog-db-connection-user-name"], "group": "FlinkProfile", "help": {"short": "User name for database connection."}}, {"type": "float32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.cpu", "options": ["history-server-cpu"], "group": "FlinkProfile", "help": {"short": "History server cpu count."}}, {"type": "integer64", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.memory", "options": ["history-server-memory"], "group": "FlinkProfile", "help": {"short": "History server memory size."}}, {"type": "float32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.cpu", "options": ["job-manager-cpu"], "group": "FlinkProfile", "help": {"short": "Job manager CPU count."}}, {"type": "integer64", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.memory", "options": ["job-manager-memory"], "group": "FlinkProfile", "help": {"short": "Job manager memory size."}}, {"nullable": true, "type": "integer32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.numReplicas", "options": ["num-replicas"], "group": "FlinkProfile", "help": {"short": "The number of task managers."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storageUri", "options": ["flink-storage-uri"], "group": "FlinkProfile", "help": {"short": "Storage account uri which is used for savepoint and checkpoint state."}, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storagekey", "options": ["flink-storage-key"], "group": "FlinkProfile", "help": {"short": "Storage key is only required for wasb(s) storage."}}, {"type": "float32", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.cpu", "options": ["task-manager-cpu"], "group": "FlinkProfile"}, {"type": "integer64", "var": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.memory", "options": ["task-manager-memory"], "group": "FlinkProfile"}]}, {"name": "HDInsightCluster", "args": [{"nullable": true, "type": "object", "var": "$HDInsightCluster.tags", "options": ["tags"], "group": "HDInsightCluster", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "SecretsProfile", "args": [{"type": "ResourceId", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.keyVaultResourceId", "options": ["key-vault-id"], "group": "SecretsProfile", "help": {"short": "Name of the user Key Vault where all the cluster specific user secrets are stored."}}, {"nullable": true, "type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets", "options": ["secret-reference"], "group": "SecretsProfile", "help": {"short": "Properties of Key Vault secret."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "options": ["secret-name"], "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Object identifier name of the secret in key vault."}, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "options": ["reference-name"], "help": {"short": "Reference name of the secret to be used in service configs."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "options": ["type"], "help": {"short": "Type of key vault object: secret, key or certificate."}, "enum": {"items": [{"name": "Certificate", "value": "Certificate"}, {"name": "Key", "value": "Key"}, {"name": "Secret", "value": "Secret"}]}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version", "options": ["version"], "help": {"short": "Version of the secret in key vault."}}]}}]}], "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "HDInsightCluster", "required": true, "props": [{"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "arg": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "arg": "$HDInsightCluster.properties.clusterProfile.authorizationProfile.userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.minNodes", "required": true}, {"type": "integer32", "name": "pollInterval", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.pollInterval"}, {"type": "array<object>", "name": "scalingRules", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].comparisonRule.threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.loadBasedConfig.scalingRules[].scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].count", "required": true}, {"type": "array<string>", "name": "days", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.schedules[].startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "arg": "$HDInsightCluster.properties.clusterProfile.autoscaleProfile.scheduleBasedConfig.timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "arg": "$HDInsightCluster.properties.clusterProfile.clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.catalogOptions.hive.metastoreDbConnectionUserName", "required": true}]}]}, {"type": "object", "name": "historyServer", "props": [{"type": "float32", "name": "cpu", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.cpu", "required": true}, {"type": "integer64", "name": "memory", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.historyServer.memory", "required": true}]}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.cpu", "required": true}, {"type": "integer64", "name": "memory", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.jobManager.memory", "required": true}]}, {"type": "integer32", "name": "numReplicas", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.storage.storagekey", "secret": true}]}, {"type": "object", "name": "taskManager", "required": true, "props": [{"type": "float32", "name": "cpu", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.cpu", "required": true}, {"type": "integer64", "name": "memory", "arg": "$HDInsightCluster.properties.clusterProfile.flinkProfile.taskManager.memory", "required": true}]}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "arg": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "arg": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "arg": "$HDInsightCluster.properties.clusterProfile.identityProfile.msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "arg": "$HDInsightCluster.properties.clusterProfile.kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "arg": "$HDInsightCluster.properties.clusterProfile.llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.applicationLogs.stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.logAnalyticsProfile.metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "arg": "$HDInsightCluster.properties.clusterProfile.ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.prometheusProfile.enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].name", "required": true}, {"type": "string", "name": "parameters", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].parameters"}, {"type": "array<string>", "name": "services", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].timeoutInMinutes"}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].type", "required": true}, {"type": "string", "name": "url", "arg": "$HDInsightCluster.properties.clusterProfile.scriptActionProfiles[].url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "required": true}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "required": true}, {"type": "array<object>", "name": "files", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.metastoreSpec.thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.sparkProfile.userPluginsSpec.plugins[].path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.clusterProfile.sshProfile.count", "required": true, "format": {"maximum": 5, "minimum": 0}}]}, {"type": "object", "name": "stubProfile", "arg": "$HDInsightCluster.properties.clusterProfile.stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions", "props": [{"type": "array<object>", "name": "hive", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.debug.suspend"}], "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.coordinator.highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].enabled"}, {"type": "string", "name": "name", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userPluginsSpec.plugins[].path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec", "props": [{"type": "object", "name": "storage", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage", "props": [{"type": "string", "name": "hivecatalogName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.partitionRetentionInDays"}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.userTelemetrySpec.storage.path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker", "props": [{"type": "object", "name": "debug", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.worker.debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable", "arg": "@TrinoDebugConfig_update.enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port", "arg": "@TrinoDebugConfig_update.port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend", "arg": "@TrinoDebugConfig_update.suspend"}], "cls": "TrinoDebugConfig_update", "clientFlatten": true}]}]}]}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "arg": "$HDInsightCluster.properties.computeProfile.nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$HDInsightCluster.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}], "commandGroups": [{"name": "node-profile", "commands": [{"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.computeProfile.nodes[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "options": ["node-index"]}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.computeProfile.nodes[]", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.computeProfile.nodes[].count", "options": ["count"], "required": true, "group": "HDInsightCluster.properties.computeProfile.nodes[]", "help": {"short": "The number of virtual machines."}, "format": {"minimum": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].type", "options": ["type"], "required": true, "group": "HDInsightCluster.properties.computeProfile.nodes[]", "help": {"short": "The node type."}, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "options": ["vm-size"], "required": true, "group": "HDInsightCluster.properties.computeProfile.nodes[]", "help": {"short": "The virtual machine SKU."}, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.computeProfile.nodes", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.computeProfile.nodes[Index]"}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.computeProfile.nodes[]", "required": true, "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.computeProfile.nodes[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "options": ["node-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.computeProfile.nodes[]", "args": [{"type": "integer32", "var": "$HDInsightCluster.properties.computeProfile.nodes[].count", "options": ["count"], "group": "HDInsightCluster.properties.computeProfile.nodes[]", "help": {"short": "The number of virtual machines."}, "format": {"minimum": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].type", "options": ["type"], "group": "HDInsightCluster.properties.computeProfile.nodes[]", "help": {"short": "The node type."}, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "var": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "options": ["vm-size"], "group": "HDInsightCluster.properties.computeProfile.nodes[]", "help": {"short": "The virtual machine SKU."}, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.computeProfile.nodes", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.computeProfile.nodes[]", "required": true, "props": [{"type": "integer32", "name": "count", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "arg": "$HDInsightCluster.properties.computeProfile.nodes[].vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.computeProfile.nodes[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "options": ["node-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.computeProfile.nodes", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.computeProfile.nodes[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "options": ["node-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.computeProfile.nodes", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.computeProfile.nodes[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}]}, {"name": "secret", "commands": [{"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.secretsProfile.secrets[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "options": ["secret-index"]}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "options": ["secret-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Object identifier name of the secret in key vault."}, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "options": ["reference-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Reference name of the secret to be used in service configs."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "options": ["type"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Type of key vault object: secret, key or certificate."}, "enum": {"items": [{"name": "Certificate", "value": "Certificate"}, {"name": "Key", "value": "Key"}, {"name": "Secret", "value": "Secret"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version", "options": ["version"], "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Version of the secret in key vault."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.secretsProfile.secrets", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]"}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "required": true, "props": [{"type": "string", "name": "keyVaultObjectName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "required": true}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version"}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.secretsProfile.secrets[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "options": ["secret-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "options": ["secret-name"], "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Object identifier name of the secret in key vault."}, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "options": ["reference-name"], "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Reference name of the secret to be used in service configs."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "options": ["type"], "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Type of key vault object: secret, key or certificate."}, "enum": {"items": [{"name": "Certificate", "value": "Certificate"}, {"name": "Key", "value": "Key"}, {"name": "Secret", "value": "Secret"}]}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version", "options": ["version"], "group": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "help": {"short": "Version of the secret in key vault."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.secretsProfile.secrets", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[]", "required": true, "props": [{"type": "string", "name": "keyVaultObjectName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].referenceName", "required": true}, {"type": "string", "name": "type", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[].version"}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.secretsProfile.secrets[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "options": ["secret-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.secretsProfile.secrets", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.secretsProfile.secrets[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "options": ["secret-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.secretsProfile.secrets", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.secretsProfile.secrets[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}]}, {"name": "service-configs-profile", "commands": [{"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"]}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "options": ["config"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "help": {"short": "List of service configs."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "options": ["component"], "required": true, "help": {"short": "Name of the component the config files should apply to."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "options": ["files"], "required": true, "help": {"short": "List of Config Files."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "help": {"short": "Free form content of the entire configuration file."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "required": true, "help": {"short": "Configuration file name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "help": {"short": "Path of the config file if content is specified."}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["values"], "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "options": ["service-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "help": {"short": "Name of the service the configurations should apply to."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]"}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "required": true, "props": [{"type": "array<object>", "name": "configs", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "required": true}, {"type": "array<object>", "name": "files", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "required": true}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "args": [{"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "options": ["config"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "help": {"short": "List of service configs."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "options": ["component"], "help": {"short": "Name of the component the config files should apply to."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "options": ["files"], "help": {"short": "List of Config Files."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "help": {"short": "Free form content of the entire configuration file."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "help": {"short": "Configuration file name."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "help": {"short": "Path of the config file if content is specified."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["values"], "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "options": ["service-name"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "help": {"short": "Name of the service the configurations should apply to."}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[]", "required": true, "props": [{"type": "array<object>", "name": "configs", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "required": true}, {"type": "array<object>", "name": "files", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].serviceName", "required": true}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}], "commandGroups": [{"name": "config", "commands": [{"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"]}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "options": ["component-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "help": {"short": "Name of the component the config files should apply to."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "options": ["file"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "help": {"short": "List of Config Files."}, "item": {"type": "object", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "help": {"short": "Free form content of the entire configuration file."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "required": true, "help": {"short": "Configuration file name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "help": {"short": "Path of the config file if content is specified."}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["values"], "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"type": "string"}}}]}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]"}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "required": true, "props": [{"type": "string", "name": "component", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "required": true}, {"type": "array<object>", "name": "files", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "options": ["component-name"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "help": {"short": "Name of the component the config files should apply to."}}, {"type": "array<object>", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "options": ["file"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "help": {"short": "List of Config Files."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "help": {"short": "Free form content of the entire configuration file."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "help": {"short": "Configuration file name."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "help": {"short": "Path of the config file if content is specified."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["values"], "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[]", "required": true, "props": [{"type": "string", "name": "component", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].component", "required": true}, {"type": "array<object>", "name": "files", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}], "commandGroups": [{"name": "file", "commands": [{"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "options": ["file-index"]}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "Free form content of the entire configuration file."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "Configuration file name."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "Path of the config file if content is specified."}}, {"type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["value"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"type": "string"}}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object", "prop": {"type": "array", "name": "files", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]"}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "required": true, "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "options": ["file-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "args": [{"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content", "options": ["content"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "Free form content of the entire configuration file."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "options": ["encoding"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "This property indicates if the content is encoded and is case-insensitive. Please set the value to base64 if the content is base64 encoded. Set it to none or skip it if the content is plain text."}, "enum": {"items": [{"name": "Base64", "value": "Base64"}, {"name": "None", "value": "None"}]}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "options": ["file-name"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "Configuration file name."}}, {"nullable": true, "type": "string", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path", "options": ["path"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "Path of the config file if content is specified."}}, {"nullable": true, "type": "object", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "options": ["value"], "group": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "help": {"short": "List of key value pairs where key represents a valid service configuration name and value represents the value of the config."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object", "prop": {"type": "array", "name": "files", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "required": true, "props": [{"type": "string", "name": "content", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].content"}, {"type": "string", "name": "encoding", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].fileName", "required": true}, {"type": "string", "name": "path", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].path"}, {"type": "object", "name": "values", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[].values", "additionalProps": {"item": {"type": "string"}}}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "options": ["file-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object", "prop": {"type": "array", "name": "files", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.serviceConfigsProfiles[].configs[].files[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "options": ["service-configs-profile-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "options": ["config-index"], "required": true}, {"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "options": ["file-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.serviceConfigsProfiles", "item": {"type": "object", "prop": {"type": "array", "name": "configs", "item": {"type": "object", "prop": {"type": "array", "name": "files", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[].files[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[].configs[Index]", "required": true}]}}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.serviceConfigsProfiles[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}]}]}]}, {"name": "trino-hive-catalog", "commands": [{"name": "create", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "options": ["false-index"]}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "options": ["catalog-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Name of trino catalog which should use specified hive metastore."}, "format": {"minLength": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "options": ["metastore-db-connection-password-secret"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Secret reference name from secretsProfile.secrets containing password for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "options": ["metastore-db-connection-url"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Connection string for hive metastore database."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "options": ["metastore-db-connection-user-name"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "User name for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "options": ["metastore-warehouse-dir"], "required": true, "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Metastore root directory URI, format: abfs[s]://<container>@<account_name>.dfs.core.windows.net/<path>. More details: https://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri"}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.trinoProfile.catalogOptions.hive", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]"}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceCreate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "required": true, "props": [{"type": "string", "name": "catalogName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "required": true}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "options": ["false-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "args": [{"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "options": ["catalog-name"], "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Name of trino catalog which should use specified hive metastore."}, "format": {"minLength": 1}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "options": ["metastore-db-connection-password-secret"], "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Secret reference name from secretsProfile.secrets containing password for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "options": ["metastore-db-connection-url"], "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Connection string for hive metastore database."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "options": ["metastore-db-connection-user-name"], "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "User name for database connection."}}, {"type": "string", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "options": ["metastore-warehouse-dir"], "group": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "help": {"short": "Metastore root directory URI, format: abfs[s]://<container>@<account_name>.dfs.core.windows.net/<path>. More details: https://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri"}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.trinoProfile.catalogOptions.hive", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"type": "object", "name": "HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "required": true, "props": [{"type": "string", "name": "catalogName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[].metastoreWarehouseDir", "required": true}]}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "options": ["false-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.trinoProfile.catalogOptions.hive", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceDelete": {"ref": "$Subresource", "json": {}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Create", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "show", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}", "version": "2023-06-01-preview", "subresource": "properties.clusterProfile.trinoProfile.catalogOptions.hive[]", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "integer", "var": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "options": ["false-index"], "required": true}, {"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "HDInsightCluster", "prop": {"type": "array", "name": "properties.clusterProfile.trinoProfile.catalogOptions.hive", "item": {"type": "object"}, "identifiers": [{"type": "integer", "name": "[Index]", "arg": "$HDInsightCluster.properties.clusterProfile.trinoProfile.catalogOptions.hive[Index]", "required": true}]}}}, "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}], "confirmation": ""}]}]}]}