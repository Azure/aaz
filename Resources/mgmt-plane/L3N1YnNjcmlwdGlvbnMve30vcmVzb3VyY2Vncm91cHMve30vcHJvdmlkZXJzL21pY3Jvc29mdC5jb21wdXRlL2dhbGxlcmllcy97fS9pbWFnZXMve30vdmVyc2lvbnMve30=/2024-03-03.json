{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/images/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pbWFnZXMve2dhbGxlcnlJbWFnZU5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5SW1hZ2VWZXJzaW9uTmFtZX0=/V/MjAyNC0wMy0wMw=="}], "commandGroups": [{"name": "sig image-version", "commands": [{"name": "show", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/images/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pbWFnZXMve2dhbGxlcnlJbWFnZU5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5SW1hZ2VWZXJzaW9uTmFtZX0=/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryImageName", "options": ["i", "gallery-image-definition"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery image definition in which the Image Version resides."}}, {"type": "string", "var": "$Path.galleryImageVersionName", "options": ["e", "gallery-image-version", "gallery-image-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery image version to be deleted."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the Image Definition resides."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Query.expand", "options": ["expand"], "help": {"short": "The expand expression to apply on the operation."}, "enum": {"items": [{"name": "ReplicationStatus", "value": "ReplicationStatus"}, {"name": "UefiSettings", "value": "UefiSettings"}]}}]}], "operations": [{"operationId": "GalleryImageVersions_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/images/{galleryImageName}/versions/{galleryImageVersionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "galleryImageName", "arg": "$Path.galleryImageName", "required": true}, {"type": "string", "name": "galleryImageVersionName", "arg": "$Path.galleryImageVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"params": [{"type": "string", "name": "$expand", "arg": "$Query.expand", "enum": {"items": [{"value": "ReplicationStatus"}, {"value": "UefiSettings"}]}}], "consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/images/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "object", "name": "publishingProfile", "props": [{"type": "dateTime", "name": "endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest"}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"type": "integer32", "name": "replicaCount"}, {"type": "string", "name": "replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_read", "name": "encryption"}, {"type": "object", "name": "extendedLocation", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount"}, {"type": "string", "name": "name"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "StandardSSD_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_read"}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"readOnly": true, "type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}, {"type": "boolean", "name": "restore"}, {"type": "object", "name": "safetyProfile", "props": [{"type": "boolean", "name": "allowDeletionOfReplicatedLocations"}, {"type": "boolean", "name": "blockDeletionBeforeEndOfLife"}, {"readOnly": true, "type": "array<object>", "name": "policyViolations", "item": {"type": "object", "props": [{"type": "string", "name": "category", "enum": {"items": [{"value": "CopyrightValidation"}, {"value": "ImageFlaggedUnsafe"}, {"value": "IpTheft"}, {"value": "Other"}]}}, {"type": "string", "name": "details"}]}}, {"readOnly": true, "type": "boolean", "name": "reportedForPolicyViolation"}]}, {"type": "object", "name": "securityProfile", "props": [{"type": "object", "name": "uefiSettings", "props": [{"type": "object", "name": "additionalSignatures", "props": [{"type": "array<@UefiKey_read>", "name": "db", "item": {"type": "@UefiKey_read"}}, {"type": "array<@UefiKey_read>", "name": "dbx", "item": {"type": "@UefiKey_read"}}, {"type": "array<@UefiKey_read>", "name": "kek", "item": {"type": "@UefiKey_read"}}, {"type": "object", "name": "pk", "props": [{"type": "string", "name": "type", "enum": {"items": [{"value": "sha256"}, {"value": "x509"}]}}, {"type": "array<string>", "name": "value", "item": {"type": "string"}}], "cls": "UefiKey_read"}]}, {"type": "array<string>", "name": "signatureTemplateNames", "item": {"type": "string", "enum": {"items": [{"value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"value": "MicrosoftWindowsTemplate"}, {"value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "name": "storageProfile", "required": true, "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "integer32", "name": "lun", "required": true}, {"readOnly": true, "type": "integer32", "name": "sizeInGB"}, {"type": "@GalleryDiskImageSource_read", "name": "source"}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"readOnly": true, "type": "integer32", "name": "sizeInGB"}, {"type": "object", "name": "source", "props": [{"type": "ResourceId", "name": "id"}, {"type": "ResourceId", "name": "storageAccountId"}, {"type": "string", "name": "uri"}], "cls": "GalleryDiskImageSource_read"}]}, {"type": "object", "name": "source", "props": [{"type": "string", "name": "communityGalleryImageId"}, {"type": "ResourceId", "name": "id"}, {"type": "ResourceId", "name": "virtualMachineId"}]}]}, {"readOnly": true, "type": "object", "name": "validationsProfile", "props": [{"type": "array<object>", "name": "executedValidations", "item": {"type": "object", "props": [{"type": "dateTime", "name": "executionTime"}, {"type": "string", "name": "status", "enum": {"items": [{"value": "Failed"}, {"value": "Succeeded"}, {"value": "Unknown"}]}}, {"type": "string", "name": "type"}, {"type": "string", "name": "version"}]}}, {"type": "array<object>", "name": "platformAttributes", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "name"}, {"readOnly": true, "type": "string", "name": "value"}]}, "identifiers": ["name"]}, {"type": "string", "name": "validationEtag"}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "delete", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/images/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pbWFnZXMve2dhbGxlcnlJbWFnZU5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5SW1hZ2VWZXJzaW9uTmFtZX0=/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryImageName", "options": ["i", "gallery-image-name", "gallery-image-definition"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery image definition in which the Image Version resides."}}, {"type": "string", "var": "$Path.galleryImageVersionName", "options": ["e", "gallery-image-version", "gallery-image-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery image version to be deleted."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the Image Definition resides."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryImageVersions_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/images/{galleryImageName}/versions/{galleryImageVersionName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "galleryImageName", "arg": "$Path.galleryImageName", "required": true}, {"type": "string", "name": "galleryImageVersionName", "arg": "$Path.galleryImageVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202]}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "confirmation": ""}, {"name": "create", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/images/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pbWFnZXMve2dhbGxlcnlJbWFnZU5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5SW1hZ2VWZXJzaW9uTmFtZX0=/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryImageName", "options": ["i", "gallery-image-definition"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery image definition in which the Image Version resides."}}, {"type": "string", "var": "$Path.galleryImageVersionName", "options": ["e", "gallery-image-version", "gallery-image-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery image version to be deleted."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the Image Definition resides."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "GalleryImageVersion", "args": [{"type": "ResourceLocation", "var": "$galleryImageVersion.location", "options": ["l", "location"], "required": true, "group": "GalleryImageVersion", "help": {"short": "Resource location"}}, {"type": "object", "var": "$galleryImageVersion.tags", "options": ["tags"], "group": "GalleryImageVersion", "help": {"short": "Resource tags"}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$galleryImageVersion.properties.publishingProfile", "options": ["publishing-profile"], "group": "Properties", "help": {"short": "The publishing profile of a gallery image Version."}, "args": [{"type": "dateTime", "var": "$galleryImageVersion.properties.publishingProfile.endOfLifeDate", "options": ["end-of-life-date"], "help": {"short": "The end of life date of the gallery image version. This property can be used for decommissioning purposes. This property is updatable."}}, {"type": "boolean", "var": "$galleryImageVersion.properties.publishingProfile.excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "If set to true, Virtual Machines deployed from the latest version of the Image Definition won't use this Image Version."}}, {"type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.replicaCount", "options": ["replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property would take effect for a region when regionalReplicaCount is not specified. This property is updatable."}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.replicationMode", "options": ["replication-mode"], "help": {"short": "Optional parameter which specifies the mode to be used for replication. This property is not updatable."}, "enum": {"items": [{"name": "Full", "value": "Full"}, {"name": "Shallow", "value": "Shallow"}]}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}, {"type": "array<object>", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations", "options": ["target-extended-locations"], "help": {"short": "The target extended locations where the Image Version is going to be replicated to. This property is updatable."}, "item": {"type": "object", "args": [{"type": "@EncryptionImages_create", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].encryption", "options": ["encryption"]}, {"type": "object", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "options": ["extended-location"], "help": {"short": "The name of the extended location."}, "args": [{"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name", "options": ["name"]}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "options": ["type"], "help": {"short": "It is type of the extended location."}, "enum": {"items": [{"name": "EdgeZone", "value": "EdgeZone"}, {"name": "Unknown", "value": "Unknown"}]}}]}, {"type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount", "options": ["extended-location-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per extended location. This property is updatable."}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "StandardSSD_LRS", "value": "StandardSSD_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"type": "array<object>", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions", "options": ["target-regions"], "help": {"short": "The target regions where the Image Version is going to be replicated to. This property is updatable."}, "item": {"type": "object", "args": [{"type": "array<object>", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets", "options": ["additional-replica-sets"], "help": {"short": "List of storage sku with replica count to create direct drive replicas."}, "item": {"type": "object", "args": [{"type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of direct drive replicas of the Image Version to be created.This Property is updatable"}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to create the direct drive replicas"}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"type": "object", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].encryption", "options": ["encryption"], "help": {"short": "Optional. Allows users to provide customer managed keys for encrypting the OS and data disks in the gallery artifact."}, "args": [{"type": "array<object>", "var": "@EncryptionImages_create.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of encryption specifications for data disk images."}, "item": {"type": "object", "args": [{"type": "string", "var": "@EncryptionImages_create.dataDiskImages[].diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "integer32", "var": "@EncryptionImages_create.dataDiskImages[].lun", "options": ["lun"], "required": true, "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}]}}, {"type": "object", "var": "@EncryptionImages_create.osDiskImage", "options": ["os-disk-image"], "help": {"short": "Contains encryption settings for an OS disk image."}, "args": [{"type": "string", "var": "@EncryptionImages_create.osDiskImage.diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "object", "var": "@EncryptionImages_create.osDiskImage.securityProfile", "options": ["security-profile"], "help": {"short": "This property specifies the security profile of an OS disk image."}, "args": [{"type": "string", "var": "@EncryptionImages_create.osDiskImage.securityProfile.confidentialVMEncryptionType", "options": ["confidential-vm-encryption-type"], "help": {"short": "confidential VM encryption types"}, "enum": {"items": [{"name": "EncryptedVMGuestStateOnlyWithPmk", "value": "EncryptedVMGuestStateOnlyWithPmk"}, {"name": "EncryptedWithCmk", "value": "EncryptedWithCmk"}, {"name": "EncryptedWithPmk", "value": "EncryptedWithPmk"}, {"name": "NonPersistedTPM", "value": "NonPersistedTPM"}]}}, {"type": "string", "var": "@EncryptionImages_create.osDiskImage.securityProfile.secureVMDiskEncryptionSetId", "options": ["secure-vm-disk-encryption-set-id"], "help": {"short": "secure VM disk encryption set id"}}]}]}], "cls": "EncryptionImages_create"}, {"type": "boolean", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "Contains the flag setting to hide an image when users specify version='latest'"}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].name", "options": ["name"], "required": true, "help": {"short": "The name of the region."}}, {"type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property is updatable."}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}]}, {"type": "boolean", "var": "$galleryImageVersion.properties.restore", "options": ["restore"], "group": "Properties", "help": {"short": "Indicates if this is a soft-delete resource restoration request."}}, {"type": "object", "var": "$galleryImageVersion.properties.safetyProfile", "options": ["safety-profile"], "group": "Properties", "help": {"short": "This is the safety profile of the Gallery Image Version."}, "args": [{"type": "boolean", "var": "$galleryImageVersion.properties.safetyProfile.allowDeletionOfReplicatedLocations", "options": ["allow-deletion-of-replicated-locations"], "help": {"short": "Indicates whether or not removing this Gallery Image Version from replicated regions is allowed."}}, {"type": "boolean", "var": "$galleryImageVersion.properties.safetyProfile.blockDeletionBeforeEndOfLife", "options": ["block-deletion-before-end-of-life"], "help": {"short": "Indicates whether or not the deletion is blocked for this Gallery Image Version if its End Of Life has not expired."}}]}, {"type": "object", "var": "$galleryImageVersion.properties.securityProfile", "options": ["security-profile"], "group": "Properties", "help": {"short": "The security profile of a gallery image version"}, "args": [{"type": "object", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings", "options": ["uefi-settings"], "help": {"short": "Contains UEFI settings for the image version."}, "args": [{"type": "object", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures", "options": ["additional-signatures"], "help": {"short": "Additional UEFI key signatures that will be added to the image in addition to the signature templates"}, "args": [{"type": "array<@UefiKey_create>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.db", "options": ["db"], "help": {"short": "The database of UEFI keys for this image version."}, "item": {"type": "@UefiKey_create"}}, {"type": "array<@UefiKey_create>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.dbx", "options": ["dbx"], "help": {"short": "The database of revoked UEFI keys for this image version."}, "item": {"type": "@UefiKey_create"}}, {"type": "array<@UefiKey_create>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.kek", "options": ["kek"], "help": {"short": "The Key Encryption Keys of this image version."}, "item": {"type": "@UefiKey_create"}}, {"type": "object", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.pk", "options": ["pk"], "help": {"short": "The Platform Key of this image version."}, "args": [{"type": "string", "var": "@UefiKey_create.type", "options": ["type"], "help": {"short": "The type of key signature."}, "enum": {"items": [{"name": "sha256", "value": "sha256"}, {"name": "x509", "value": "x509"}]}}, {"type": "array<string>", "var": "@UefiKey_create.value", "options": ["value"], "help": {"short": "The value of the key signature."}, "item": {"type": "string"}}], "cls": "UefiKey_create"}]}, {"type": "array<string>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.signatureTemplateNames", "options": ["signature-template-names"], "help": {"short": "The name of the template(s) that contains default UEFI key signatures that will be added to the image."}, "item": {"type": "string", "enum": {"items": [{"name": "MicrosoftUefiCertificateAuthorityTemplate", "value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"name": "MicrosoftWindowsTemplate", "value": "MicrosoftWindowsTemplate"}, {"name": "NoSignatureTemplate", "value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "var": "$galleryImageVersion.properties.storageProfile", "options": ["storage-profile"], "group": "Properties", "help": {"short": "This is the storage profile of a Gallery Image Version."}, "args": [{"type": "array<object>", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of data disk images."}, "item": {"type": "object", "args": [{"type": "string", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].hostCaching", "options": ["host-caching"], "help": {"short": "The host caching of the disk. Valid values are 'None', 'ReadOnly', and 'ReadWrite'"}, "enum": {"items": [{"name": "None", "value": "None"}, {"name": "ReadOnly", "value": "ReadOnly"}, {"name": "ReadWrite", "value": "ReadWrite"}]}}, {"type": "integer32", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].lun", "options": ["lun"], "required": true, "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}, {"type": "@GalleryDiskImageSource_create", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].source", "options": ["source"]}]}}, {"type": "object", "var": "$galleryImageVersion.properties.storageProfile.osDiskImage", "options": ["os-disk-image"], "help": {"short": "This is the OS disk image."}, "args": [{"type": "string", "var": "$galleryImageVersion.properties.storageProfile.osDiskImage.hostCaching", "options": ["host-caching"], "help": {"short": "The host caching of the disk. Valid values are 'None', 'ReadOnly', and 'ReadWrite'"}, "enum": {"items": [{"name": "None", "value": "None"}, {"name": "ReadOnly", "value": "ReadOnly"}, {"name": "ReadWrite", "value": "ReadWrite"}]}}, {"type": "object", "var": "$galleryImageVersion.properties.storageProfile.osDiskImage.source", "options": ["source"], "help": {"short": "The source for the disk image."}, "args": [{"type": "ResourceId", "var": "@GalleryDiskImageSource_create.id", "options": ["id"], "help": {"short": "The id of the gallery artifact version source. Can specify a disk uri, snapshot uri, user image or storage account resource."}}, {"type": "ResourceId", "var": "@GalleryDiskImageSource_create.storageAccountId", "options": ["storage-account-id"], "help": {"short": "The Storage Account Id that contains the vhd blob being used as a source for this artifact version."}}, {"type": "string", "var": "@GalleryDiskImageSource_create.uri", "options": ["uri"], "help": {"short": "The uri of the gallery artifact version source. Currently used to specify vhd/blob source."}}], "cls": "GalleryDiskImageSource_create"}]}, {"type": "object", "var": "$galleryImageVersion.properties.storageProfile.source", "options": ["source"], "help": {"short": "The source of the gallery artifact version."}, "args": [{"type": "string", "var": "$galleryImageVersion.properties.storageProfile.source.communityGalleryImageId", "options": ["community-gallery-image-id"], "help": {"short": "The resource Id of the source Community Gallery Image.  Only required when using Community Gallery Image as a source."}}, {"type": "ResourceId", "var": "$galleryImageVersion.properties.storageProfile.source.id", "options": ["id"], "help": {"short": "The id of the gallery artifact version source. Can specify a disk uri, snapshot uri, user image or storage account resource."}}, {"type": "ResourceId", "var": "$galleryImageVersion.properties.storageProfile.source.virtualMachineId", "options": ["virtual-machine-id"], "help": {"short": "The resource Id of the source virtual machine.  Only required when capturing a virtual machine to source this Gallery Image Version."}}]}]}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryImageVersions_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/images/{galleryImageName}/versions/{galleryImageVersionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "galleryImageName", "arg": "$Path.galleryImageName", "required": true}, {"type": "string", "name": "galleryImageVersionName", "arg": "$Path.galleryImageVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "galleryImageVersion", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$galleryImageVersion.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "publishingProfile", "arg": "$galleryImageVersion.properties.publishingProfile", "props": [{"type": "dateTime", "name": "endOfLifeDate", "arg": "$galleryImageVersion.properties.publishingProfile.endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryImageVersion.properties.publishingProfile.excludeFromLatest"}, {"type": "integer32", "name": "replicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.replicaCount"}, {"type": "string", "name": "replicationMode", "arg": "$galleryImageVersion.properties.publishingProfile.replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_create", "name": "encryption", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].encryption"}, {"type": "object", "name": "extendedLocation", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "props": [{"type": "string", "name": "name", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name"}, {"type": "string", "name": "type", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount"}, {"type": "string", "name": "name", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].name"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "StandardSSD_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "@EncryptionImages_create.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_create.dataDiskImages[].diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "arg": "@EncryptionImages_create.dataDiskImages[].lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "@EncryptionImages_create.osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_create.osDiskImage.diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "arg": "@EncryptionImages_create.osDiskImage.securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "arg": "@EncryptionImages_create.osDiskImage.securityProfile.confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId", "arg": "@EncryptionImages_create.osDiskImage.securityProfile.secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_create"}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].excludeFromLatest"}, {"type": "string", "name": "name", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"type": "boolean", "name": "restore", "arg": "$galleryImageVersion.properties.restore"}, {"type": "object", "name": "safetyProfile", "arg": "$galleryImageVersion.properties.safetyProfile", "props": [{"type": "boolean", "name": "allowDeletionOfReplicatedLocations", "arg": "$galleryImageVersion.properties.safetyProfile.allowDeletionOfReplicatedLocations"}, {"type": "boolean", "name": "blockDeletionBeforeEndOfLife", "arg": "$galleryImageVersion.properties.safetyProfile.blockDeletionBeforeEndOfLife"}]}, {"type": "object", "name": "securityProfile", "arg": "$galleryImageVersion.properties.securityProfile", "props": [{"type": "object", "name": "uefiSettings", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings", "props": [{"type": "object", "name": "additionalSignatures", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures", "props": [{"type": "array<@UefiKey_create>", "name": "db", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.db", "item": {"type": "@UefiKey_create"}}, {"type": "array<@UefiKey_create>", "name": "dbx", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.dbx", "item": {"type": "@UefiKey_create"}}, {"type": "array<@UefiKey_create>", "name": "kek", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.kek", "item": {"type": "@UefiKey_create"}}, {"type": "object", "name": "pk", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.pk", "props": [{"type": "string", "name": "type", "arg": "@UefiKey_create.type", "enum": {"items": [{"value": "sha256"}, {"value": "x509"}]}}, {"type": "array<string>", "name": "value", "arg": "@UefiKey_create.value", "item": {"type": "string"}}], "cls": "UefiKey_create"}]}, {"type": "array<string>", "name": "signatureTemplateNames", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.signatureTemplateNames", "item": {"type": "string", "enum": {"items": [{"value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"value": "MicrosoftWindowsTemplate"}, {"value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "name": "storageProfile", "arg": "$galleryImageVersion.properties.storageProfile", "required": true, "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "hostCaching", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "integer32", "name": "lun", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].lun", "required": true}, {"type": "@GalleryDiskImageSource_create", "name": "source", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].source"}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "$galleryImageVersion.properties.storageProfile.osDiskImage", "props": [{"type": "string", "name": "hostCaching", "arg": "$galleryImageVersion.properties.storageProfile.osDiskImage.hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "object", "name": "source", "arg": "$galleryImageVersion.properties.storageProfile.osDiskImage.source", "props": [{"type": "ResourceId", "name": "id", "arg": "@GalleryDiskImageSource_create.id"}, {"type": "ResourceId", "name": "storageAccountId", "arg": "@GalleryDiskImageSource_create.storageAccountId"}, {"type": "string", "name": "uri", "arg": "@GalleryDiskImageSource_create.uri"}], "cls": "GalleryDiskImageSource_create"}]}, {"type": "object", "name": "source", "arg": "$galleryImageVersion.properties.storageProfile.source", "props": [{"type": "string", "name": "communityGalleryImageId", "arg": "$galleryImageVersion.properties.storageProfile.source.communityGalleryImageId"}, {"type": "ResourceId", "name": "id", "arg": "$galleryImageVersion.properties.storageProfile.source.id"}, {"type": "ResourceId", "name": "virtualMachineId", "arg": "$galleryImageVersion.properties.storageProfile.source.virtualMachineId"}]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$galleryImageVersion.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/images/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "object", "name": "publishingProfile", "props": [{"type": "dateTime", "name": "endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest"}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"type": "integer32", "name": "replicaCount"}, {"type": "string", "name": "replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_read", "name": "encryption"}, {"type": "object", "name": "extendedLocation", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount"}, {"type": "string", "name": "name"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "StandardSSD_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_read"}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"readOnly": true, "type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}, {"type": "boolean", "name": "restore"}, {"type": "object", "name": "safetyProfile", "props": [{"type": "boolean", "name": "allowDeletionOfReplicatedLocations"}, {"type": "boolean", "name": "blockDeletionBeforeEndOfLife"}, {"readOnly": true, "type": "array<object>", "name": "policyViolations", "item": {"type": "object", "props": [{"type": "string", "name": "category", "enum": {"items": [{"value": "CopyrightValidation"}, {"value": "ImageFlaggedUnsafe"}, {"value": "IpTheft"}, {"value": "Other"}]}}, {"type": "string", "name": "details"}]}}, {"readOnly": true, "type": "boolean", "name": "reportedForPolicyViolation"}]}, {"type": "object", "name": "securityProfile", "props": [{"type": "object", "name": "uefiSettings", "props": [{"type": "object", "name": "additionalSignatures", "props": [{"type": "array<@UefiKey_read>", "name": "db", "item": {"type": "@UefiKey_read"}}, {"type": "array<@UefiKey_read>", "name": "dbx", "item": {"type": "@UefiKey_read"}}, {"type": "array<@UefiKey_read>", "name": "kek", "item": {"type": "@UefiKey_read"}}, {"type": "object", "name": "pk", "props": [{"type": "string", "name": "type", "enum": {"items": [{"value": "sha256"}, {"value": "x509"}]}}, {"type": "array<string>", "name": "value", "item": {"type": "string"}}], "cls": "UefiKey_read"}]}, {"type": "array<string>", "name": "signatureTemplateNames", "item": {"type": "string", "enum": {"items": [{"value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"value": "MicrosoftWindowsTemplate"}, {"value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "name": "storageProfile", "required": true, "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "integer32", "name": "lun", "required": true}, {"readOnly": true, "type": "integer32", "name": "sizeInGB"}, {"type": "@GalleryDiskImageSource_read", "name": "source"}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"readOnly": true, "type": "integer32", "name": "sizeInGB"}, {"type": "object", "name": "source", "props": [{"type": "ResourceId", "name": "id"}, {"type": "ResourceId", "name": "storageAccountId"}, {"type": "string", "name": "uri"}], "cls": "GalleryDiskImageSource_read"}]}, {"type": "object", "name": "source", "props": [{"type": "string", "name": "communityGalleryImageId"}, {"type": "ResourceId", "name": "id"}, {"type": "ResourceId", "name": "virtualMachineId"}]}]}, {"readOnly": true, "type": "object", "name": "validationsProfile", "props": [{"type": "array<object>", "name": "executedValidations", "item": {"type": "object", "props": [{"type": "dateTime", "name": "executionTime"}, {"type": "string", "name": "status", "enum": {"items": [{"value": "Failed"}, {"value": "Succeeded"}, {"value": "Unknown"}]}}, {"type": "string", "name": "type"}, {"type": "string", "name": "version"}]}}, {"type": "array<object>", "name": "platformAttributes", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "name"}, {"readOnly": true, "type": "string", "name": "value"}]}, "identifiers": ["name"]}, {"type": "string", "name": "validationEtag"}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "GalleryImageVersion_read"}}}}, {"statusCode": [202], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryImageVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/images/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pbWFnZXMve2dhbGxlcnlJbWFnZU5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5SW1hZ2VWZXJzaW9uTmFtZX0=/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryImageName", "options": ["i", "gallery-image-name", "gallery-image-definition"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery image definition in which the Image Version resides."}}, {"type": "string", "var": "$Path.galleryImageVersionName", "options": ["e", "gallery-image-version", "gallery-image-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery image version to be deleted."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the Image Definition resides."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "GalleryImageVersion", "args": [{"type": "ResourceLocation", "var": "$galleryImageVersion.location", "options": ["l", "location"], "group": "GalleryImageVersion", "help": {"short": "Resource location"}}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.tags", "options": ["tags"], "group": "GalleryImageVersion", "help": {"short": "Resource tags"}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "Properties", "args": [{"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.publishingProfile", "options": ["publishing-profile"], "group": "Properties", "help": {"short": "The publishing profile of a gallery image Version."}, "args": [{"nullable": true, "type": "dateTime", "var": "$galleryImageVersion.properties.publishingProfile.endOfLifeDate", "options": ["end-of-life-date"], "help": {"short": "The end of life date of the gallery image version. This property can be used for decommissioning purposes. This property is updatable."}}, {"nullable": true, "type": "boolean", "var": "$galleryImageVersion.properties.publishingProfile.excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "If set to true, Virtual Machines deployed from the latest version of the Image Definition won't use this Image Version."}}, {"nullable": true, "type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.replicaCount", "options": ["replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property would take effect for a region when regionalReplicaCount is not specified. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.replicationMode", "options": ["replication-mode"], "help": {"short": "Optional parameter which specifies the mode to be used for replication. This property is not updatable."}, "enum": {"items": [{"name": "Full", "value": "Full"}, {"name": "Shallow", "value": "Shallow"}]}}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations", "options": ["target-extended-locations"], "help": {"short": "The target extended locations where the Image Version is going to be replicated to. This property is updatable."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "@EncryptionImages_update", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].encryption", "options": ["encryption"]}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "options": ["extended-location"], "help": {"short": "The name of the extended location."}, "args": [{"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name", "options": ["name"]}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "options": ["type"], "help": {"short": "It is type of the extended location."}, "enum": {"items": [{"name": "EdgeZone", "value": "EdgeZone"}, {"name": "Unknown", "value": "Unknown"}]}}]}, {"nullable": true, "type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount", "options": ["extended-location-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per extended location. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "StandardSSD_LRS", "value": "StandardSSD_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions", "options": ["target-regions"], "help": {"short": "The target regions where the Image Version is going to be replicated to. This property is updatable."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "array<object>", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets", "options": ["additional-replica-sets"], "help": {"short": "List of storage sku with replica count to create direct drive replicas."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of direct drive replicas of the Image Version to be created.This Property is updatable"}}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to create the direct drive replicas"}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].encryption", "options": ["encryption"], "help": {"short": "Optional. Allows users to provide customer managed keys for encrypting the OS and data disks in the gallery artifact."}, "args": [{"nullable": true, "type": "array<object>", "var": "@EncryptionImages_update.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of encryption specifications for data disk images."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "@EncryptionImages_update.dataDiskImages[].diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "integer32", "var": "@EncryptionImages_update.dataDiskImages[].lun", "options": ["lun"], "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}]}}, {"nullable": true, "type": "object", "var": "@EncryptionImages_update.osDiskImage", "options": ["os-disk-image"], "help": {"short": "Contains encryption settings for an OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "@EncryptionImages_update.osDiskImage.diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"nullable": true, "type": "object", "var": "@EncryptionImages_update.osDiskImage.securityProfile", "options": ["security-profile"], "help": {"short": "This property specifies the security profile of an OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "@EncryptionImages_update.osDiskImage.securityProfile.confidentialVMEncryptionType", "options": ["confidential-vm-encryption-type"], "help": {"short": "confidential VM encryption types"}, "enum": {"items": [{"name": "EncryptedVMGuestStateOnlyWithPmk", "value": "EncryptedVMGuestStateOnlyWithPmk"}, {"name": "EncryptedWithCmk", "value": "EncryptedWithCmk"}, {"name": "EncryptedWithPmk", "value": "EncryptedWithPmk"}, {"name": "NonPersistedTPM", "value": "NonPersistedTPM"}]}}, {"nullable": true, "type": "string", "var": "@EncryptionImages_update.osDiskImage.securityProfile.secureVMDiskEncryptionSetId", "options": ["secure-vm-disk-encryption-set-id"], "help": {"short": "secure VM disk encryption set id"}}]}]}], "cls": "EncryptionImages_update"}, {"nullable": true, "type": "boolean", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "Contains the flag setting to hide an image when users specify version='latest'"}}, {"type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"nullable": true, "type": "integer32", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.publishingProfile.targetRegions[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}]}, {"nullable": true, "type": "boolean", "var": "$galleryImageVersion.properties.restore", "options": ["restore"], "group": "Properties", "help": {"short": "Indicates if this is a soft-delete resource restoration request."}}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.safetyProfile", "options": ["safety-profile"], "group": "Properties", "help": {"short": "This is the safety profile of the Gallery Image Version."}, "args": [{"nullable": true, "type": "boolean", "var": "$galleryImageVersion.properties.safetyProfile.allowDeletionOfReplicatedLocations", "options": ["allow-deletion-of-replicated-locations"], "help": {"short": "Indicates whether or not removing this Gallery Image Version from replicated regions is allowed."}}, {"nullable": true, "type": "boolean", "var": "$galleryImageVersion.properties.safetyProfile.blockDeletionBeforeEndOfLife", "options": ["block-deletion-before-end-of-life"], "help": {"short": "Indicates whether or not the deletion is blocked for this Gallery Image Version if its End Of Life has not expired."}}]}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.securityProfile", "options": ["security-profile"], "group": "Properties", "help": {"short": "The security profile of a gallery image version"}, "args": [{"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings", "options": ["uefi-settings"], "help": {"short": "Contains UEFI settings for the image version."}, "args": [{"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures", "options": ["additional-signatures"], "help": {"short": "Additional UEFI key signatures that will be added to the image in addition to the signature templates"}, "args": [{"nullable": true, "type": "array<@UefiKey_update>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.db", "options": ["db"], "help": {"short": "The database of UEFI keys for this image version."}, "item": {"nullable": true, "type": "@UefiKey_update"}}, {"nullable": true, "type": "array<@UefiKey_update>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.dbx", "options": ["dbx"], "help": {"short": "The database of revoked UEFI keys for this image version."}, "item": {"nullable": true, "type": "@UefiKey_update"}}, {"nullable": true, "type": "array<@UefiKey_update>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.kek", "options": ["kek"], "help": {"short": "The Key Encryption Keys of this image version."}, "item": {"nullable": true, "type": "@UefiKey_update"}}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.pk", "options": ["pk"], "help": {"short": "The Platform Key of this image version."}, "args": [{"nullable": true, "type": "string", "var": "@UefiKey_update.type", "options": ["type"], "help": {"short": "The type of key signature."}, "enum": {"items": [{"name": "sha256", "value": "sha256"}, {"name": "x509", "value": "x509"}]}}, {"nullable": true, "type": "array<string>", "var": "@UefiKey_update.value", "options": ["value"], "help": {"short": "The value of the key signature."}, "item": {"nullable": true, "type": "string"}}], "cls": "UefiKey_update"}]}, {"nullable": true, "type": "array<string>", "var": "$galleryImageVersion.properties.securityProfile.uefiSettings.signatureTemplateNames", "options": ["signature-template-names"], "help": {"short": "The name of the template(s) that contains default UEFI key signatures that will be added to the image."}, "item": {"nullable": true, "type": "string", "enum": {"items": [{"name": "MicrosoftUefiCertificateAuthorityTemplate", "value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"name": "MicrosoftWindowsTemplate", "value": "MicrosoftWindowsTemplate"}, {"name": "NoSignatureTemplate", "value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "var": "$galleryImageVersion.properties.storageProfile", "options": ["storage-profile"], "group": "Properties", "help": {"short": "This is the storage profile of a Gallery Image Version."}, "args": [{"nullable": true, "type": "array<object>", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of data disk images."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].hostCaching", "options": ["host-caching"], "help": {"short": "The host caching of the disk. Valid values are 'None', 'ReadOnly', and 'ReadWrite'"}, "enum": {"items": [{"name": "None", "value": "None"}, {"name": "ReadOnly", "value": "ReadOnly"}, {"name": "ReadWrite", "value": "ReadWrite"}]}}, {"type": "integer32", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].lun", "options": ["lun"], "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}, {"nullable": true, "type": "@GalleryDiskImageSource_update", "var": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].source", "options": ["source"]}]}}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.storageProfile.osDiskImage", "options": ["os-disk-image"], "help": {"short": "This is the OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.storageProfile.osDiskImage.hostCaching", "options": ["host-caching"], "help": {"short": "The host caching of the disk. Valid values are 'None', 'ReadOnly', and 'ReadWrite'"}, "enum": {"items": [{"name": "None", "value": "None"}, {"name": "ReadOnly", "value": "ReadOnly"}, {"name": "ReadWrite", "value": "ReadWrite"}]}}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.storageProfile.osDiskImage.source", "options": ["source"], "help": {"short": "The source for the disk image."}, "args": [{"nullable": true, "type": "ResourceId", "var": "@GalleryDiskImageSource_update.id", "options": ["id"], "help": {"short": "The id of the gallery artifact version source. Can specify a disk uri, snapshot uri, user image or storage account resource."}}, {"nullable": true, "type": "ResourceId", "var": "@GalleryDiskImageSource_update.storageAccountId", "options": ["storage-account-id"], "help": {"short": "The Storage Account Id that contains the vhd blob being used as a source for this artifact version."}}, {"nullable": true, "type": "string", "var": "@GalleryDiskImageSource_update.uri", "options": ["uri"], "help": {"short": "The uri of the gallery artifact version source. Currently used to specify vhd/blob source."}}], "cls": "GalleryDiskImageSource_update"}]}, {"nullable": true, "type": "object", "var": "$galleryImageVersion.properties.storageProfile.source", "options": ["source"], "help": {"short": "The source of the gallery artifact version."}, "args": [{"nullable": true, "type": "string", "var": "$galleryImageVersion.properties.storageProfile.source.communityGalleryImageId", "options": ["community-gallery-image-id"], "help": {"short": "The resource Id of the source Community Gallery Image.  Only required when using Community Gallery Image as a source."}}, {"nullable": true, "type": "ResourceId", "var": "$galleryImageVersion.properties.storageProfile.source.id", "options": ["id"], "help": {"short": "The id of the gallery artifact version source. Can specify a disk uri, snapshot uri, user image or storage account resource."}}, {"nullable": true, "type": "ResourceId", "var": "$galleryImageVersion.properties.storageProfile.source.virtualMachineId", "options": ["virtual-machine-id"], "help": {"short": "The resource Id of the source virtual machine.  Only required when capturing a virtual machine to source this Gallery Image Version."}}]}]}]}], "operations": [{"operationId": "GalleryImageVersions_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/images/{galleryImageName}/versions/{galleryImageVersionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "galleryImageName", "arg": "$Path.galleryImageName", "required": true}, {"type": "string", "name": "galleryImageVersionName", "arg": "$Path.galleryImageVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/images/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "object", "name": "publishingProfile", "props": [{"type": "dateTime", "name": "endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest"}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"type": "integer32", "name": "replicaCount"}, {"type": "string", "name": "replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_read", "name": "encryption"}, {"type": "object", "name": "extendedLocation", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount"}, {"type": "string", "name": "name"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "StandardSSD_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_read"}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"readOnly": true, "type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}, {"type": "boolean", "name": "restore"}, {"type": "object", "name": "safetyProfile", "props": [{"type": "boolean", "name": "allowDeletionOfReplicatedLocations"}, {"type": "boolean", "name": "blockDeletionBeforeEndOfLife"}, {"readOnly": true, "type": "array<object>", "name": "policyViolations", "item": {"type": "object", "props": [{"type": "string", "name": "category", "enum": {"items": [{"value": "CopyrightValidation"}, {"value": "ImageFlaggedUnsafe"}, {"value": "IpTheft"}, {"value": "Other"}]}}, {"type": "string", "name": "details"}]}}, {"readOnly": true, "type": "boolean", "name": "reportedForPolicyViolation"}]}, {"type": "object", "name": "securityProfile", "props": [{"type": "object", "name": "uefiSettings", "props": [{"type": "object", "name": "additionalSignatures", "props": [{"type": "array<@UefiKey_read>", "name": "db", "item": {"type": "@UefiKey_read"}}, {"type": "array<@UefiKey_read>", "name": "dbx", "item": {"type": "@UefiKey_read"}}, {"type": "array<@UefiKey_read>", "name": "kek", "item": {"type": "@UefiKey_read"}}, {"type": "object", "name": "pk", "props": [{"type": "string", "name": "type", "enum": {"items": [{"value": "sha256"}, {"value": "x509"}]}}, {"type": "array<string>", "name": "value", "item": {"type": "string"}}], "cls": "UefiKey_read"}]}, {"type": "array<string>", "name": "signatureTemplateNames", "item": {"type": "string", "enum": {"items": [{"value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"value": "MicrosoftWindowsTemplate"}, {"value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "name": "storageProfile", "required": true, "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "integer32", "name": "lun", "required": true}, {"readOnly": true, "type": "integer32", "name": "sizeInGB"}, {"type": "@GalleryDiskImageSource_read", "name": "source"}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"readOnly": true, "type": "integer32", "name": "sizeInGB"}, {"type": "object", "name": "source", "props": [{"type": "ResourceId", "name": "id"}, {"type": "ResourceId", "name": "storageAccountId"}, {"type": "string", "name": "uri"}], "cls": "GalleryDiskImageSource_read"}]}, {"type": "object", "name": "source", "props": [{"type": "string", "name": "communityGalleryImageId"}, {"type": "ResourceId", "name": "id"}, {"type": "ResourceId", "name": "virtualMachineId"}]}]}, {"readOnly": true, "type": "object", "name": "validationsProfile", "props": [{"type": "array<object>", "name": "executedValidations", "item": {"type": "object", "props": [{"type": "dateTime", "name": "executionTime"}, {"type": "string", "name": "status", "enum": {"items": [{"value": "Failed"}, {"value": "Succeeded"}, {"value": "Unknown"}]}}, {"type": "string", "name": "type"}, {"type": "string", "name": "version"}]}}, {"type": "array<object>", "name": "platformAttributes", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "name"}, {"readOnly": true, "type": "string", "name": "value"}]}, "identifiers": ["name"]}, {"type": "string", "name": "validationEtag"}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "GalleryImageVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "galleryImageVersion", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$galleryImageVersion.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "publishingProfile", "arg": "$galleryImageVersion.properties.publishingProfile", "props": [{"type": "dateTime", "name": "endOfLifeDate", "arg": "$galleryImageVersion.properties.publishingProfile.endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryImageVersion.properties.publishingProfile.excludeFromLatest"}, {"type": "integer32", "name": "replicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.replicaCount"}, {"type": "string", "name": "replicationMode", "arg": "$galleryImageVersion.properties.publishingProfile.replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_update", "name": "encryption", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].encryption"}, {"type": "object", "name": "extendedLocation", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "props": [{"type": "string", "name": "name", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name"}, {"type": "string", "name": "type", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount"}, {"type": "string", "name": "name", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].name"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "StandardSSD_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].additionalReplicaSets[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "@EncryptionImages_update.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_update.dataDiskImages[].diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "arg": "@EncryptionImages_update.dataDiskImages[].lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "@EncryptionImages_update.osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_update.osDiskImage.diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "arg": "@EncryptionImages_update.osDiskImage.securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "arg": "@EncryptionImages_update.osDiskImage.securityProfile.confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId", "arg": "@EncryptionImages_update.osDiskImage.securityProfile.secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_update"}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].excludeFromLatest"}, {"type": "string", "name": "name", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryImageVersion.properties.publishingProfile.targetRegions[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"type": "boolean", "name": "restore", "arg": "$galleryImageVersion.properties.restore"}, {"type": "object", "name": "safetyProfile", "arg": "$galleryImageVersion.properties.safetyProfile", "props": [{"type": "boolean", "name": "allowDeletionOfReplicatedLocations", "arg": "$galleryImageVersion.properties.safetyProfile.allowDeletionOfReplicatedLocations"}, {"type": "boolean", "name": "blockDeletionBeforeEndOfLife", "arg": "$galleryImageVersion.properties.safetyProfile.blockDeletionBeforeEndOfLife"}]}, {"type": "object", "name": "securityProfile", "arg": "$galleryImageVersion.properties.securityProfile", "props": [{"type": "object", "name": "uefiSettings", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings", "props": [{"type": "object", "name": "additionalSignatures", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures", "props": [{"type": "array<@UefiKey_update>", "name": "db", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.db", "item": {"type": "@UefiKey_update"}}, {"type": "array<@UefiKey_update>", "name": "dbx", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.dbx", "item": {"type": "@UefiKey_update"}}, {"type": "array<@UefiKey_update>", "name": "kek", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.kek", "item": {"type": "@UefiKey_update"}}, {"type": "object", "name": "pk", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.additionalSignatures.pk", "props": [{"type": "string", "name": "type", "arg": "@UefiKey_update.type", "enum": {"items": [{"value": "sha256"}, {"value": "x509"}]}}, {"type": "array<string>", "name": "value", "arg": "@UefiKey_update.value", "item": {"type": "string"}}], "cls": "UefiKey_update"}]}, {"type": "array<string>", "name": "signatureTemplateNames", "arg": "$galleryImageVersion.properties.securityProfile.uefiSettings.signatureTemplateNames", "item": {"type": "string", "enum": {"items": [{"value": "MicrosoftUefiCertificateAuthorityTemplate"}, {"value": "MicrosoftWindowsTemplate"}, {"value": "NoSignatureTemplate"}]}}}]}]}, {"type": "object", "name": "storageProfile", "arg": "$galleryImageVersion.properties.storageProfile", "required": true, "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "hostCaching", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "integer32", "name": "lun", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].lun", "required": true}, {"type": "@GalleryDiskImageSource_update", "name": "source", "arg": "$galleryImageVersion.properties.storageProfile.dataDiskImages[].source"}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "$galleryImageVersion.properties.storageProfile.osDiskImage", "props": [{"type": "string", "name": "hostCaching", "arg": "$galleryImageVersion.properties.storageProfile.osDiskImage.hostCaching", "enum": {"items": [{"value": "None"}, {"value": "ReadOnly"}, {"value": "ReadWrite"}]}}, {"type": "object", "name": "source", "arg": "$galleryImageVersion.properties.storageProfile.osDiskImage.source", "props": [{"type": "ResourceId", "name": "id", "arg": "@GalleryDiskImageSource_update.id"}, {"type": "ResourceId", "name": "storageAccountId", "arg": "@GalleryDiskImageSource_update.storageAccountId"}, {"type": "string", "name": "uri", "arg": "@GalleryDiskImageSource_update.uri"}], "cls": "GalleryDiskImageSource_update"}]}, {"type": "object", "name": "source", "arg": "$galleryImageVersion.properties.storageProfile.source", "props": [{"type": "string", "name": "communityGalleryImageId", "arg": "$galleryImageVersion.properties.storageProfile.source.communityGalleryImageId"}, {"type": "ResourceId", "name": "id", "arg": "$galleryImageVersion.properties.storageProfile.source.id"}, {"type": "ResourceId", "name": "virtualMachineId", "arg": "$galleryImageVersion.properties.storageProfile.source.virtualMachineId"}]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$galleryImageVersion.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryImageVersions_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/images/{galleryImageName}/versions/{galleryImageVersionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "galleryImageName", "arg": "$Path.galleryImageName", "required": true}, {"type": "string", "name": "galleryImageVersionName", "arg": "$Path.galleryImageVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryImageVersion_read"}}}}, {"statusCode": [202], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryImageVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}