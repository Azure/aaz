{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/applications/{}/versions/{}", "version": "2022-01-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9hcHBsaWNhdGlvbnMve2dhbGxlcnlBcHBsaWNhdGlvbk5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5QXBwbGljYXRpb25WZXJzaW9uTmFtZX0=/V/MjAyMi0wMS0wMw=="}], "commandGroups": [{"name": "sig gallery-application version", "commands": [{"name": "show", "version": "2022-01-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/applications/{}/versions/{}", "version": "2022-01-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9hcHBsaWNhdGlvbnMve2dhbGxlcnlBcHBsaWNhdGlvbk5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5QXBwbGljYXRpb25WZXJzaW9uTmFtZX0=/V/MjAyMi0wMS0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryApplicationName", "options": ["application-name", "gallery-application-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery Application."}}, {"type": "string", "var": "$Path.galleryApplicationVersionName", "options": ["n", "name", "version-name", "gallery-application-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery Application Version."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Gallery name."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Query.expand", "options": ["expand"], "group": "", "help": {"short": "The expand expression to apply on the operation. \"ReplicationStatus\" Default value is None."}, "enum": {"items": [{"name": "ReplicationStatus", "value": "ReplicationStatus"}]}}]}], "operations": [{"operationId": "GalleryApplicationVersions_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/applications/{galleryApplicationName}/versions/{galleryApplicationVersionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "galleryApplicationName", "arg": "$Path.galleryApplicationName", "required": true}, {"type": "string", "name": "galleryApplicationVersionName", "arg": "$Path.galleryApplicationVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"params": [{"type": "string", "name": "$expand", "arg": "$Query.expand", "enum": {"items": [{"value": "ReplicationStatus"}]}}], "consts": [{"readOnly": true, "const": true, "default": {"value": "2022-01-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/applications/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "object", "name": "publishingProfile", "required": true, "props": [{"type": "object", "name": "advancedSettings", "additionalProps": {"item": {"type": "string"}}}, {"type": "boolean", "name": "enableHealthCheck"}, {"type": "dateTime", "name": "endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "object", "name": "manageActions", "props": [{"type": "string", "name": "install", "required": true}, {"type": "string", "name": "remove", "required": true}, {"type": "string", "name": "update"}]}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"type": "integer32", "name": "replicaCount"}, {"type": "string", "name": "replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "object", "name": "settings", "props": [{"type": "string", "name": "configFileName"}, {"type": "string", "name": "packageFileName"}]}, {"type": "object", "name": "source", "required": true, "props": [{"type": "string", "name": "defaultConfigurationLink"}, {"type": "string", "name": "mediaLink", "required": true}]}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_read", "name": "encryption"}, {"type": "object", "name": "extendedLocation", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount"}, {"type": "string", "name": "name"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "item": {"type": "object", "props": [{"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_read"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "delete", "version": "2022-01-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/applications/{}/versions/{}", "version": "2022-01-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9hcHBsaWNhdGlvbnMve2dhbGxlcnlBcHBsaWNhdGlvbk5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5QXBwbGljYXRpb25WZXJzaW9uTmFtZX0=/V/MjAyMi0wMS0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryApplicationName", "options": ["application-name", "gallery-application-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery Application."}}, {"type": "string", "var": "$Path.galleryApplicationVersionName", "options": ["n", "name", "version-name", "gallery-application-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery Application Version."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Gallery name."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryApplicationVersions_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/applications/{galleryApplicationName}/versions/{galleryApplicationVersionName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "galleryApplicationName", "arg": "$Path.galleryApplicationName", "required": true}, {"type": "string", "name": "galleryApplicationVersionName", "arg": "$Path.galleryApplicationVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2022-01-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202]}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "create", "version": "2022-01-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/applications/{}/versions/{}", "version": "2022-01-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9hcHBsaWNhdGlvbnMve2dhbGxlcnlBcHBsaWNhdGlvbk5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5QXBwbGljYXRpb25WZXJzaW9uTmFtZX0=/V/MjAyMi0wMS0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryApplicationName", "options": ["application-name", "gallery-application-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery Application."}}, {"type": "string", "var": "$Path.galleryApplicationVersionName", "options": ["n", "name", "version-name", "gallery-application-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery Application Version."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Gallery name."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "GalleryApplicationVersion", "args": [{"type": "ResourceLocation", "var": "$galleryApplicationVersion.location", "options": ["l", "location"], "required": true, "group": "GalleryApplicationVersion", "help": {"short": "Resource location"}}, {"type": "object", "var": "$galleryApplicationVersion.tags", "options": ["tags"], "group": "GalleryApplicationVersion", "help": {"short": "Space-separated tags: key[=value] [key[=value] ...]."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile", "options": ["publishing-profile"], "group": "Properties", "help": {"short": "The publishing profile of a gallery image version."}, "args": [{"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.advancedSettings", "options": ["advanced-settings"], "help": {"short": "Optional. Additional settings to pass to the vm-application-manager extension. For advanced use only."}, "additionalProps": {"item": {"type": "string"}}}, {"type": "boolean", "var": "$galleryApplicationVersion.properties.publishingProfile.enableHealthCheck", "options": ["enable-health-check"], "help": {"short": "Optional. Whether or not this application reports health."}}, {"type": "dateTime", "var": "$galleryApplicationVersion.properties.publishingProfile.endOfLifeDate", "options": ["end-of-life-date"], "help": {"short": "The end of life date of the gallery image version. This property can be used for decommissioning purposes. This property is updatable."}}, {"type": "boolean", "var": "$galleryApplicationVersion.properties.publishingProfile.excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "If set to true, Virtual Machines deployed from the latest version of the Image Definition won't use this Image Version."}}, {"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions", "options": ["manage-actions"], "args": [{"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions.install", "options": ["install"], "required": true, "help": {"short": "Required. The path and arguments to install the gallery application. This is limited to 4096 characters."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions.remove", "options": ["remove"], "required": true, "help": {"short": "Required. The path and arguments to remove the gallery application. This is limited to 4096 characters."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions.update", "options": ["update"], "help": {"short": "Optional. The path and arguments to update the gallery application. If not present, then update operation will invoke remove command on the previous version and install command on the current version of the gallery application. This is limited to 4096 characters."}}]}, {"type": "integer32", "var": "$galleryApplicationVersion.properties.publishingProfile.replicaCount", "options": ["replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property would take effect for a region when regionalReplicaCount is not specified. This property is updatable."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.replicationMode", "options": ["replication-mode"], "help": {"short": "Optional parameter which specifies the mode to be used for replication. This property is not updatable."}, "enum": {"items": [{"name": "Full", "value": "Full"}, {"name": "Shallow", "value": "Shallow"}]}}, {"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.settings", "options": ["settings"], "help": {"short": "Additional settings for the VM app that contains the target package and config file name when it is deployed to target VM or VM scale set."}, "args": [{"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.settings.configFileName", "options": ["config-file-name"], "help": {"short": "Optional. The name to assign the downloaded config file on the VM. This is limited to 4096 characters. If not specified, the config file will be named the Gallery Application name appended with \"_config\"."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.settings.packageFileName", "options": ["package-file-name"], "help": {"short": "Optional. The name to assign the downloaded package file on the VM. This is limited to 4096 characters. If not specified, the package file will be named the same as the Gallery Application name."}}]}, {"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.source", "options": ["source"], "required": true, "help": {"short": "The source image from which the Image Version is going to be created."}, "args": [{"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.source.defaultConfigurationLink", "options": ["default-configuration-link"], "help": {"short": "Optional. The defaultConfigurationLink of the artifact, must be a readable storage page blob."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.source.mediaLink", "options": ["media-link"], "required": true, "help": {"short": "Required. The mediaLink of the artifact, must be a readable storage page blob."}}]}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}, {"type": "array<object>", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations", "options": ["target-extended-locations"], "help": {"short": "The target extended locations where the Image Version is going to be replicated to. This property is updatable."}, "item": {"type": "object", "args": [{"type": "@EncryptionImages_create", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].encryption", "options": ["encryption"]}, {"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "options": ["extended-location"], "help": {"short": "The name of the extended location."}, "args": [{"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name", "options": ["name"]}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "options": ["type"], "help": {"short": "It is type of the extended location."}, "enum": {"items": [{"name": "EdgeZone", "value": "EdgeZone"}, {"name": "Unknown", "value": "Unknown"}]}}]}, {"type": "integer32", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount", "options": ["extended-location-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per extended location. This property is updatable."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"type": "array<object>", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions", "options": ["target-regions"], "help": {"short": "The target regions where the Image Version is going to be replicated to. This property is updatable."}, "item": {"type": "object", "args": [{"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].encryption", "options": ["encryption"], "help": {"short": "Optional. Allows users to provide customer managed keys for encrypting the OS and data disks in the gallery artifact."}, "args": [{"type": "array<object>", "var": "@EncryptionImages_create.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of encryption specifications for data disk images."}, "item": {"type": "object", "args": [{"type": "string", "var": "@EncryptionImages_create.dataDiskImages[].diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "integer32", "var": "@EncryptionImages_create.dataDiskImages[].lun", "options": ["lun"], "required": true, "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}]}}, {"type": "object", "var": "@EncryptionImages_create.osDiskImage", "options": ["os-disk-image"], "help": {"short": "Contains encryption settings for an OS disk image."}, "args": [{"type": "string", "var": "@EncryptionImages_create.osDiskImage.diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "object", "var": "@EncryptionImages_create.osDiskImage.securityProfile", "options": ["security-profile"], "help": {"short": "This property specifies the security profile of an OS disk image."}, "args": [{"type": "string", "var": "@EncryptionImages_create.osDiskImage.securityProfile.confidentialVMEncryptionType", "options": ["confidential-vm-encryption-type"], "help": {"short": "confidential VM encryption types"}, "enum": {"items": [{"name": "EncryptedVMGuestStateOnlyWithPmk", "value": "EncryptedVMGuestStateOnlyWithPmk"}, {"name": "EncryptedWithCmk", "value": "EncryptedWithCmk"}, {"name": "EncryptedWithPmk", "value": "EncryptedWithPmk"}]}}, {"type": "string", "var": "@EncryptionImages_create.osDiskImage.securityProfile.secureVMDiskEncryptionSetId", "options": ["secure-vm-disk-encryption-set-id"], "help": {"short": "secure VM disk encryption set id"}}]}]}], "cls": "EncryptionImages_create"}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].name", "options": ["name"], "required": true, "help": {"short": "The name of the region."}}, {"type": "integer32", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property is updatable."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}]}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryApplicationVersions_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/applications/{galleryApplicationName}/versions/{galleryApplicationVersionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "galleryApplicationName", "arg": "$Path.galleryApplicationName", "required": true}, {"type": "string", "name": "galleryApplicationVersionName", "arg": "$Path.galleryApplicationVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2022-01-03"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "galleryApplicationVersion", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$galleryApplicationVersion.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "publishingProfile", "arg": "$galleryApplicationVersion.properties.publishingProfile", "required": true, "props": [{"type": "object", "name": "advancedSettings", "arg": "$galleryApplicationVersion.properties.publishingProfile.advancedSettings", "additionalProps": {"item": {"type": "string"}}}, {"type": "boolean", "name": "enableHealthCheck", "arg": "$galleryApplicationVersion.properties.publishingProfile.enableHealthCheck"}, {"type": "dateTime", "name": "endOfLifeDate", "arg": "$galleryApplicationVersion.properties.publishingProfile.endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryApplicationVersion.properties.publishingProfile.excludeFromLatest"}, {"type": "object", "name": "manageActions", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions", "props": [{"type": "string", "name": "install", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions.install", "required": true}, {"type": "string", "name": "remove", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions.remove", "required": true}, {"type": "string", "name": "update", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions.update"}]}, {"type": "integer32", "name": "replicaCount", "arg": "$galleryApplicationVersion.properties.publishingProfile.replicaCount"}, {"type": "string", "name": "replicationMode", "arg": "$galleryApplicationVersion.properties.publishingProfile.replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "object", "name": "settings", "arg": "$galleryApplicationVersion.properties.publishingProfile.settings", "props": [{"type": "string", "name": "configFileName", "arg": "$galleryApplicationVersion.properties.publishingProfile.settings.configFileName"}, {"type": "string", "name": "packageFileName", "arg": "$galleryApplicationVersion.properties.publishingProfile.settings.packageFileName"}]}, {"type": "object", "name": "source", "arg": "$galleryApplicationVersion.properties.publishingProfile.source", "required": true, "props": [{"type": "string", "name": "defaultConfigurationLink", "arg": "$galleryApplicationVersion.properties.publishingProfile.source.defaultConfigurationLink"}, {"type": "string", "name": "mediaLink", "arg": "$galleryApplicationVersion.properties.publishingProfile.source.mediaLink", "required": true}]}, {"type": "string", "name": "storageAccountType", "arg": "$galleryApplicationVersion.properties.publishingProfile.storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_create", "name": "encryption", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].encryption"}, {"type": "object", "name": "extendedLocation", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "props": [{"type": "string", "name": "name", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name"}, {"type": "string", "name": "type", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount"}, {"type": "string", "name": "name", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].name"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions", "item": {"type": "object", "props": [{"type": "object", "name": "encryption", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "@EncryptionImages_create.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_create.dataDiskImages[].diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "arg": "@EncryptionImages_create.dataDiskImages[].lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "@EncryptionImages_create.osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_create.osDiskImage.diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "arg": "@EncryptionImages_create.osDiskImage.securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "arg": "@EncryptionImages_create.osDiskImage.securityProfile.confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId", "arg": "@EncryptionImages_create.osDiskImage.securityProfile.secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_create"}, {"type": "string", "name": "name", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$galleryApplicationVersion.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/applications/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "object", "name": "publishingProfile", "required": true, "props": [{"type": "object", "name": "advancedSettings", "additionalProps": {"item": {"type": "string"}}}, {"type": "boolean", "name": "enableHealthCheck"}, {"type": "dateTime", "name": "endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "object", "name": "manageActions", "props": [{"type": "string", "name": "install", "required": true}, {"type": "string", "name": "remove", "required": true}, {"type": "string", "name": "update"}]}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"type": "integer32", "name": "replicaCount"}, {"type": "string", "name": "replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "object", "name": "settings", "props": [{"type": "string", "name": "configFileName"}, {"type": "string", "name": "packageFileName"}]}, {"type": "object", "name": "source", "required": true, "props": [{"type": "string", "name": "defaultConfigurationLink"}, {"type": "string", "name": "mediaLink", "required": true}]}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_read", "name": "encryption"}, {"type": "object", "name": "extendedLocation", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount"}, {"type": "string", "name": "name"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "item": {"type": "object", "props": [{"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_read"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "GalleryApplicationVersion_read"}}}}, {"statusCode": [202], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryApplicationVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2022-01-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/applications/{}/versions/{}", "version": "2022-01-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9hcHBsaWNhdGlvbnMve2dhbGxlcnlBcHBsaWNhdGlvbk5hbWV9L3ZlcnNpb25zL3tnYWxsZXJ5QXBwbGljYXRpb25WZXJzaW9uTmFtZX0=/V/MjAyMi0wMS0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryApplicationName", "options": ["application-name", "gallery-application-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery Application."}}, {"type": "string", "var": "$Path.galleryApplicationVersionName", "options": ["n", "name", "version-name", "gallery-application-version-name"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery Application Version."}}, {"type": "string", "var": "$Path.galleryName", "options": ["r", "gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Gallery name."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "GalleryApplicationVersion", "args": [{"type": "ResourceLocation", "var": "$galleryApplicationVersion.location", "options": ["l", "location"], "group": "GalleryApplicationVersion", "help": {"short": "Resource location"}}, {"nullable": true, "type": "object", "var": "$galleryApplicationVersion.tags", "options": ["tags"], "group": "GalleryApplicationVersion", "help": {"short": "Space-separated tags: key[=value] [key[=value] ...]."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile", "options": ["publishing-profile"], "group": "Properties", "help": {"short": "The publishing profile of a gallery image version."}, "args": [{"nullable": true, "type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.advancedSettings", "options": ["advanced-settings"], "help": {"short": "Optional. Additional settings to pass to the vm-application-manager extension. For advanced use only."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}, {"nullable": true, "type": "boolean", "var": "$galleryApplicationVersion.properties.publishingProfile.enableHealthCheck", "options": ["enable-health-check"], "help": {"short": "Optional. Whether or not this application reports health."}}, {"nullable": true, "type": "dateTime", "var": "$galleryApplicationVersion.properties.publishingProfile.endOfLifeDate", "options": ["end-of-life-date"], "help": {"short": "The end of life date of the gallery image version. This property can be used for decommissioning purposes. This property is updatable."}}, {"nullable": true, "type": "boolean", "var": "$galleryApplicationVersion.properties.publishingProfile.excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "If set to true, Virtual Machines deployed from the latest version of the Image Definition won't use this Image Version."}}, {"nullable": true, "type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions", "options": ["manage-actions"], "args": [{"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions.install", "options": ["install"], "help": {"short": "Required. The path and arguments to install the gallery application. This is limited to 4096 characters."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions.remove", "options": ["remove"], "help": {"short": "Required. The path and arguments to remove the gallery application. This is limited to 4096 characters."}}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.manageActions.update", "options": ["update"], "help": {"short": "Optional. The path and arguments to update the gallery application. If not present, then update operation will invoke remove command on the previous version and install command on the current version of the gallery application. This is limited to 4096 characters."}}]}, {"nullable": true, "type": "integer32", "var": "$galleryApplicationVersion.properties.publishingProfile.replicaCount", "options": ["replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property would take effect for a region when regionalReplicaCount is not specified. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.replicationMode", "options": ["replication-mode"], "help": {"short": "Optional parameter which specifies the mode to be used for replication. This property is not updatable."}, "enum": {"items": [{"name": "Full", "value": "Full"}, {"name": "Shallow", "value": "Shallow"}]}}, {"nullable": true, "type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.settings", "options": ["settings"], "help": {"short": "Additional settings for the VM app that contains the target package and config file name when it is deployed to target VM or VM scale set."}, "args": [{"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.settings.configFileName", "options": ["config-file-name"], "help": {"short": "Optional. The name to assign the downloaded config file on the VM. This is limited to 4096 characters. If not specified, the config file will be named the Gallery Application name appended with \"_config\"."}}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.settings.packageFileName", "options": ["package-file-name"], "help": {"short": "Optional. The name to assign the downloaded package file on the VM. This is limited to 4096 characters. If not specified, the package file will be named the same as the Gallery Application name."}}]}, {"type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.source", "options": ["source"], "help": {"short": "The source image from which the Image Version is going to be created."}, "args": [{"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.source.defaultConfigurationLink", "options": ["default-configuration-link"], "help": {"short": "Optional. The defaultConfigurationLink of the artifact, must be a readable storage page blob."}}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.source.mediaLink", "options": ["media-link"], "help": {"short": "Required. The mediaLink of the artifact, must be a readable storage page blob."}}]}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations", "options": ["target-extended-locations"], "help": {"short": "The target extended locations where the Image Version is going to be replicated to. This property is updatable."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "@EncryptionImages_update", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].encryption", "options": ["encryption"]}, {"nullable": true, "type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "options": ["extended-location"], "help": {"short": "The name of the extended location."}, "args": [{"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name", "options": ["name"]}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "options": ["type"], "help": {"short": "It is type of the extended location."}, "enum": {"items": [{"name": "EdgeZone", "value": "EdgeZone"}, {"name": "Unknown", "value": "Unknown"}]}}]}, {"nullable": true, "type": "integer32", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount", "options": ["extended-location-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per extended location. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions", "options": ["target-regions"], "help": {"short": "The target regions where the Image Version is going to be replicated to. This property is updatable."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "object", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].encryption", "options": ["encryption"], "help": {"short": "Optional. Allows users to provide customer managed keys for encrypting the OS and data disks in the gallery artifact."}, "args": [{"nullable": true, "type": "array<object>", "var": "@EncryptionImages_update.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of encryption specifications for data disk images."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "@EncryptionImages_update.dataDiskImages[].diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "integer32", "var": "@EncryptionImages_update.dataDiskImages[].lun", "options": ["lun"], "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}]}}, {"nullable": true, "type": "object", "var": "@EncryptionImages_update.osDiskImage", "options": ["os-disk-image"], "help": {"short": "Contains encryption settings for an OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "@EncryptionImages_update.osDiskImage.diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"nullable": true, "type": "object", "var": "@EncryptionImages_update.osDiskImage.securityProfile", "options": ["security-profile"], "help": {"short": "This property specifies the security profile of an OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "@EncryptionImages_update.osDiskImage.securityProfile.confidentialVMEncryptionType", "options": ["confidential-vm-encryption-type"], "help": {"short": "confidential VM encryption types"}, "enum": {"items": [{"name": "EncryptedVMGuestStateOnlyWithPmk", "value": "EncryptedVMGuestStateOnlyWithPmk"}, {"name": "EncryptedWithCmk", "value": "EncryptedWithCmk"}, {"name": "EncryptedWithPmk", "value": "EncryptedWithPmk"}]}}, {"nullable": true, "type": "string", "var": "@EncryptionImages_update.osDiskImage.securityProfile.secureVMDiskEncryptionSetId", "options": ["secure-vm-disk-encryption-set-id"], "help": {"short": "secure VM disk encryption set id"}}]}]}], "cls": "EncryptionImages_update"}, {"type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"nullable": true, "type": "integer32", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}]}]}], "operations": [{"operationId": "GalleryApplicationVersions_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/applications/{galleryApplicationName}/versions/{galleryApplicationVersionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "galleryApplicationName", "arg": "$Path.galleryApplicationName", "required": true}, {"type": "string", "name": "galleryApplicationVersionName", "arg": "$Path.galleryApplicationVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2022-01-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/applications/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"type": "object", "name": "publishingProfile", "required": true, "props": [{"type": "object", "name": "advancedSettings", "additionalProps": {"item": {"type": "string"}}}, {"type": "boolean", "name": "enableHealthCheck"}, {"type": "dateTime", "name": "endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "object", "name": "manageActions", "props": [{"type": "string", "name": "install", "required": true}, {"type": "string", "name": "remove", "required": true}, {"type": "string", "name": "update"}]}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"type": "integer32", "name": "replicaCount"}, {"type": "string", "name": "replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "object", "name": "settings", "props": [{"type": "string", "name": "configFileName"}, {"type": "string", "name": "packageFileName"}]}, {"type": "object", "name": "source", "required": true, "props": [{"type": "string", "name": "defaultConfigurationLink"}, {"type": "string", "name": "mediaLink", "required": true}]}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_read", "name": "encryption"}, {"type": "object", "name": "extendedLocation", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount"}, {"type": "string", "name": "name"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "item": {"type": "object", "props": [{"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_read"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}, {"type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "GalleryApplicationVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "galleryApplicationVersion", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$galleryApplicationVersion.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "publishingProfile", "arg": "$galleryApplicationVersion.properties.publishingProfile", "required": true, "props": [{"type": "object", "name": "advancedSettings", "arg": "$galleryApplicationVersion.properties.publishingProfile.advancedSettings", "additionalProps": {"item": {"type": "string"}}}, {"type": "boolean", "name": "enableHealthCheck", "arg": "$galleryApplicationVersion.properties.publishingProfile.enableHealthCheck"}, {"type": "dateTime", "name": "endOfLifeDate", "arg": "$galleryApplicationVersion.properties.publishingProfile.endOfLifeDate"}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryApplicationVersion.properties.publishingProfile.excludeFromLatest"}, {"type": "object", "name": "manageActions", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions", "props": [{"type": "string", "name": "install", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions.install", "required": true}, {"type": "string", "name": "remove", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions.remove", "required": true}, {"type": "string", "name": "update", "arg": "$galleryApplicationVersion.properties.publishingProfile.manageActions.update"}]}, {"type": "integer32", "name": "replicaCount", "arg": "$galleryApplicationVersion.properties.publishingProfile.replicaCount"}, {"type": "string", "name": "replicationMode", "arg": "$galleryApplicationVersion.properties.publishingProfile.replicationMode", "enum": {"items": [{"value": "Full"}, {"value": "Shallow"}]}}, {"type": "object", "name": "settings", "arg": "$galleryApplicationVersion.properties.publishingProfile.settings", "props": [{"type": "string", "name": "configFileName", "arg": "$galleryApplicationVersion.properties.publishingProfile.settings.configFileName"}, {"type": "string", "name": "packageFileName", "arg": "$galleryApplicationVersion.properties.publishingProfile.settings.packageFileName"}]}, {"type": "object", "name": "source", "arg": "$galleryApplicationVersion.properties.publishingProfile.source", "required": true, "props": [{"type": "string", "name": "defaultConfigurationLink", "arg": "$galleryApplicationVersion.properties.publishingProfile.source.defaultConfigurationLink"}, {"type": "string", "name": "mediaLink", "arg": "$galleryApplicationVersion.properties.publishingProfile.source.mediaLink", "required": true}]}, {"type": "string", "name": "storageAccountType", "arg": "$galleryApplicationVersion.properties.publishingProfile.storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}, {"type": "array<object>", "name": "targetExtendedLocations", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations", "item": {"type": "object", "props": [{"type": "@EncryptionImages_update", "name": "encryption", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].encryption"}, {"type": "object", "name": "extendedLocation", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation", "props": [{"type": "string", "name": "name", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.name"}, {"type": "string", "name": "type", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocation.type", "enum": {"items": [{"value": "EdgeZone"}, {"value": "Unknown"}]}}]}, {"type": "integer32", "name": "extendedLocationReplicaCount", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].extendedLocationReplicaCount"}, {"type": "string", "name": "name", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].name"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetExtendedLocations[].storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "targetRegions", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions", "item": {"type": "object", "props": [{"type": "object", "name": "encryption", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "@EncryptionImages_update.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_update.dataDiskImages[].diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "arg": "@EncryptionImages_update.dataDiskImages[].lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "@EncryptionImages_update.osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "@EncryptionImages_update.osDiskImage.diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "arg": "@EncryptionImages_update.osDiskImage.securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "arg": "@EncryptionImages_update.osDiskImage.securityProfile.confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId", "arg": "@EncryptionImages_update.osDiskImage.securityProfile.secureVMDiskEncryptionSetId"}]}]}], "cls": "EncryptionImages_update"}, {"type": "string", "name": "name", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryApplicationVersion.properties.publishingProfile.targetRegions[].storageAccountType", "enum": {"items": [{"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$galleryApplicationVersion.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryApplicationVersions_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/applications/{galleryApplicationName}/versions/{galleryApplicationVersionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "galleryApplicationName", "arg": "$Path.galleryApplicationName", "required": true}, {"type": "string", "name": "galleryApplicationVersionName", "arg": "$Path.galleryApplicationVersionName", "required": true}, {"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2022-01-03"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryApplicationVersion_read"}}}}, {"statusCode": [202], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryApplicationVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}