{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/invmaccesscontrolprofiles/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pblZNQWNjZXNzQ29udHJvbFByb2ZpbGVzL3tpblZNQWNjZXNzQ29udHJvbFByb2ZpbGVOYW1lfS92ZXJzaW9ucy97aW5WTUFjY2Vzc0NvbnRyb2xQcm9maWxlVmVyc2lvbk5hbWV9/V/MjAyNC0wMy0wMw=="}], "commandGroups": [{"name": "sig in-vm-access-control-profile-version", "commands": [{"name": "show", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/invmaccesscontrolprofiles/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pblZNQWNjZXNzQ29udHJvbFByb2ZpbGVzL3tpblZNQWNjZXNzQ29udHJvbFByb2ZpbGVOYW1lfS92ZXJzaW9ucy97aW5WTUFjY2Vzc0NvbnRyb2xQcm9maWxlVmVyc2lvbk5hbWV9/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryName", "options": ["gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the in VM access control profile resides."}}, {"type": "string", "var": "$Path.inVMAccessControlProfileName", "options": ["profile-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery in VM access control profile in which the in VM access control profile version is to be created."}}, {"type": "string", "var": "$Path.inVMAccessControlProfileVersionName", "options": ["version-name", "profile-version"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery in VM access control profile version to be created. Needs to follow semantic version name pattern: The allowed characters are digit and period. Digits must be within the range of a 32-bit integer. Format: MajorVersion.MinorVersion.Patch"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "GalleryInVMAccessControlProfileVersions_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/inVMAccessControlProfiles/{inVMAccessControlProfileName}/versions/{inVMAccessControlProfileVersionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "inVMAccessControlProfileName", "arg": "$Path.inVMAccessControlProfileName", "required": true}, {"type": "string", "name": "inVMAccessControlProfileVersionName", "arg": "$Path.inVMAccessControlProfileVersionName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/inVMAccessControlProfiles/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "defaultAccess", "required": true, "enum": {"items": [{"value": "Allow"}, {"value": "Deny"}]}}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "mode", "required": true, "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "Enforce"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"readOnly": true, "type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}, {"type": "object", "name": "rules", "props": [{"type": "array<object>", "name": "identities", "item": {"type": "object", "props": [{"type": "string", "name": "exePath"}, {"type": "string", "name": "groupName"}, {"type": "string", "name": "name", "required": true}, {"type": "string", "name": "processName"}, {"type": "string", "name": "userName"}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "privileges", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "path", "required": true}, {"type": "object", "name": "queryParameters", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "roleAssignments", "item": {"type": "object", "props": [{"type": "array<string>", "name": "identities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "role", "required": true}]}, "identifiers": ["role"]}, {"type": "array<object>", "name": "roles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "array<string>", "name": "privileges", "required": true, "item": {"type": "string"}}]}, "identifiers": ["name"]}]}, {"type": "array<object>", "name": "targetLocations", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}]}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/invmaccesscontrolprofiles/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pblZNQWNjZXNzQ29udHJvbFByb2ZpbGVzL3tpblZNQWNjZXNzQ29udHJvbFByb2ZpbGVOYW1lfS92ZXJzaW9ucy97aW5WTUFjY2Vzc0NvbnRyb2xQcm9maWxlVmVyc2lvbk5hbWV9/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryName", "options": ["gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the in VM access control profile resides."}}, {"type": "string", "var": "$Path.inVMAccessControlProfileName", "options": ["profile-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery in VM access control profile in which the in VM access control profile version is to be created."}}, {"type": "string", "var": "$Path.inVMAccessControlProfileVersionName", "options": ["version-name", "profile-version"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery in VM access control profile version to be created. Needs to follow semantic version name pattern: The allowed characters are digit and period. Digits must be within the range of a 32-bit integer. Format: MajorVersion.MinorVersion.Patch"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryInVMAccessControlProfileVersions_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/inVMAccessControlProfiles/{inVMAccessControlProfileName}/versions/{inVMAccessControlProfileVersionName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "inVMAccessControlProfileName", "arg": "$Path.inVMAccessControlProfileName", "required": true}, {"type": "string", "name": "inVMAccessControlProfileVersionName", "arg": "$Path.inVMAccessControlProfileVersionName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [202], "header": {"items": [{"name": "Azure-AsyncOperation"}, {"name": "Location"}]}}, {"statusCode": [204]}, {"statusCode": [200, 201]}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "create", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/invmaccesscontrolprofiles/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pblZNQWNjZXNzQ29udHJvbFByb2ZpbGVzL3tpblZNQWNjZXNzQ29udHJvbFByb2ZpbGVOYW1lfS92ZXJzaW9ucy97aW5WTUFjY2Vzc0NvbnRyb2xQcm9maWxlVmVyc2lvbk5hbWV9/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryName", "options": ["gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the in VM access control profile resides."}, "format": {"pattern": "^[a-zA-Z0-9]+([_]?[a-zA-Z0-9]+)*$"}}, {"type": "string", "var": "$Path.inVMAccessControlProfileName", "options": ["profile-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery in VM access control profile in which the in VM access control profile version is to be created."}, "format": {"pattern": "^[a-zA-Z0-9]+([-._]?[a-zA-Z0-9]+)*$", "maxLength": 80}}, {"type": "string", "var": "$Path.inVMAccessControlProfileVersionName", "options": ["version-name", "profile-version"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery in VM access control profile version to be created. Needs to follow semantic version name pattern: The allowed characters are digit and period. Digits must be within the range of a 32-bit integer. Format: MajorVersion.MinorVersion.Patch"}, "format": {"pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "GalleryInVMAccessControlProfileVersion", "args": [{"type": "ResourceLocation", "var": "$galleryInVMAccessControlProfileVersion.location", "options": ["l", "location"], "required": true, "group": "GalleryInVMAccessControlProfileVersion", "help": {"short": "Resource location"}}, {"type": "object", "var": "$galleryInVMAccessControlProfileVersion.tags", "options": ["tags"], "hide": true, "group": "GalleryInVMAccessControlProfileVersion", "help": {"short": "Resource tags"}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.defaultAccess", "options": ["default-access"], "group": "Properties", "help": {"short": "This property allows you to specify if the requests will be allowed to access the host endpoints. Possible values are: 'Allow', 'Deny'."}, "enum": {"items": [{"name": "Allow", "value": "Allow"}, {"name": "Deny", "value": "Deny"}]}}, {"type": "boolean", "var": "$galleryInVMAccessControlProfileVersion.properties.excludeFromLatest", "options": ["exclude-from-latest"], "group": "Properties", "help": {"short": "If set to true, Virtual Machines deployed from the latest version of the Resource Profile won't use this Profile version."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.mode", "options": ["mode"], "group": "Properties", "help": {"short": "This property allows you to specify whether the access control rules are in Audit mode, in Enforce mode or Disabled. Possible values are: 'Audit', 'Enforce' or 'Disabled'."}, "enum": {"items": [{"name": "Audit", "value": "Audit"}, {"name": "Disabled", "value": "Disabled"}, {"name": "Enforce", "value": "Enforce"}]}}, {"type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.rules", "options": ["rules"], "group": "Properties", "help": {"short": "This is the Access Control Rules specification for an in VM access control profile version."}, "args": [{"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities", "options": ["identities"], "help": {"short": "A list of identities."}, "item": {"type": "object", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].exePath", "options": ["exe-path"], "help": {"short": "The path to the executable."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].groupName", "options": ["group-name"], "help": {"short": "The groupName corresponding to this identity."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].name", "options": ["name"], "required": true, "help": {"short": "The name of the identity."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].processName", "options": ["process-name"], "help": {"short": "The process name of the executable."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].userName", "options": ["user-name"], "help": {"short": "The username corresponding to this identity."}}]}}, {"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges", "options": ["privileges"], "help": {"short": "A list of privileges."}, "item": {"type": "object", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].name", "options": ["name"], "required": true, "help": {"short": "The name of the privilege."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].path", "options": ["path"], "required": true, "help": {"short": "The HTTP path corresponding to the privilege."}}, {"type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].queryParameters", "options": ["query-parameters"], "help": {"short": "The query parameters to match in the path."}, "additionalProps": {"item": {"type": "string"}}}]}}, {"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments", "options": ["role-assignments"], "help": {"short": "A list of role assignments."}, "item": {"type": "object", "args": [{"type": "array<string>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].identities", "options": ["identities"], "required": true, "help": {"short": "A list of identities that can access the privileges defined by the role."}, "item": {"type": "string"}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].role", "options": ["role"], "required": true, "help": {"short": "The name of the role."}}]}}, {"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roles", "options": ["roles"], "help": {"short": "A list of roles."}, "item": {"type": "object", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].name", "options": ["name"], "required": true, "help": {"short": "The name of the role."}}, {"type": "array<string>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].privileges", "options": ["privileges"], "required": true, "help": {"short": "A list of privileges needed by this role."}, "item": {"type": "string"}}]}}]}, {"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations", "options": ["target-locations"], "group": "Properties", "help": {"short": "The target regions where the Resource Profile version is going to be replicated to. This property is updatable."}, "item": {"type": "object", "args": [{"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets", "options": ["additional-replica-sets"], "help": {"short": "List of storage sku with replica count to create direct drive replicas."}, "item": {"type": "object", "args": [{"type": "integer32", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of direct drive replicas of the Image Version to be created.This Property is updatable"}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to create the direct drive replicas"}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption", "options": ["encryption"], "help": {"short": "Optional. Allows users to provide customer managed keys for encrypting the OS and data disks in the gallery artifact."}, "args": [{"type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of encryption specifications for data disk images."}, "item": {"type": "object", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "integer32", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].lun", "options": ["lun"], "required": true, "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}]}}, {"type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage", "options": ["os-disk-image"], "help": {"short": "Contains encryption settings for an OS disk image."}, "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile", "options": ["security-profile"], "help": {"short": "This property specifies the security profile of an OS disk image."}, "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.confidentialVMEncryptionType", "options": ["confidential-vm-encryption-type"], "help": {"short": "confidential VM encryption types"}, "enum": {"items": [{"name": "EncryptedVMGuestStateOnlyWithPmk", "value": "EncryptedVMGuestStateOnlyWithPmk"}, {"name": "EncryptedWithCmk", "value": "EncryptedWithCmk"}, {"name": "EncryptedWithPmk", "value": "EncryptedWithPmk"}, {"name": "NonPersistedTPM", "value": "NonPersistedTPM"}]}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.secureVMDiskEncryptionSetId", "options": ["secure-vm-disk-encryption-set-id"], "help": {"short": "secure VM disk encryption set id"}}]}]}]}, {"type": "boolean", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "Contains the flag setting to hide an image when users specify version='latest'"}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].name", "options": ["name"], "required": true, "help": {"short": "The name of the region."}}, {"type": "integer32", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property is updatable."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryInVMAccessControlProfileVersions_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/inVMAccessControlProfiles/{inVMAccessControlProfileName}/versions/{inVMAccessControlProfileVersionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true, "format": {"pattern": "^[a-zA-Z0-9]+([_]?[a-zA-Z0-9]+)*$"}}, {"type": "string", "name": "inVMAccessControlProfileName", "arg": "$Path.inVMAccessControlProfileName", "required": true, "format": {"pattern": "^[a-zA-Z0-9]+([-._]?[a-zA-Z0-9]+)*$", "maxLength": 80}}, {"type": "string", "name": "inVMAccessControlProfileVersionName", "arg": "$Path.inVMAccessControlProfileVersionName", "required": true, "format": {"pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "galleryInVMAccessControlProfileVersion", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$galleryInVMAccessControlProfileVersion.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "defaultAccess", "arg": "$galleryInVMAccessControlProfileVersion.properties.defaultAccess", "required": true, "enum": {"items": [{"value": "Allow"}, {"value": "Deny"}]}}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryInVMAccessControlProfileVersion.properties.excludeFromLatest"}, {"type": "string", "name": "mode", "arg": "$galleryInVMAccessControlProfileVersion.properties.mode", "required": true, "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "Enforce"}]}}, {"type": "object", "name": "rules", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules", "props": [{"type": "array<object>", "name": "identities", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities", "item": {"type": "object", "props": [{"type": "string", "name": "exePath", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].exePath"}, {"type": "string", "name": "groupName", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].groupName"}, {"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].name", "required": true}, {"type": "string", "name": "processName", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].processName"}, {"type": "string", "name": "userName", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].userName"}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "privileges", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].name", "required": true}, {"type": "string", "name": "path", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].path", "required": true}, {"type": "object", "name": "queryParameters", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].queryParameters", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "roleAssignments", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments", "item": {"type": "object", "props": [{"type": "array<string>", "name": "identities", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].identities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "role", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].role", "required": true}]}, "identifiers": ["role"]}, {"type": "array<object>", "name": "roles", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].name", "required": true}, {"type": "array<string>", "name": "privileges", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].privileges", "required": true, "item": {"type": "string"}}]}, "identifiers": ["name"]}]}, {"type": "array<object>", "name": "targetLocations", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.secureVMDiskEncryptionSetId"}]}]}]}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].excludeFromLatest"}, {"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$galleryInVMAccessControlProfileVersion.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/inVMAccessControlProfiles/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "defaultAccess", "required": true, "enum": {"items": [{"value": "Allow"}, {"value": "Deny"}]}}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "mode", "required": true, "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "Enforce"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"readOnly": true, "type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}, {"type": "object", "name": "rules", "props": [{"type": "array<object>", "name": "identities", "item": {"type": "object", "props": [{"type": "string", "name": "exePath"}, {"type": "string", "name": "groupName"}, {"type": "string", "name": "name", "required": true}, {"type": "string", "name": "processName"}, {"type": "string", "name": "userName"}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "privileges", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "path", "required": true}, {"type": "object", "name": "queryParameters", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "roleAssignments", "item": {"type": "object", "props": [{"type": "array<string>", "name": "identities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "role", "required": true}]}, "identifiers": ["role"]}, {"type": "array<object>", "name": "roles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "array<string>", "name": "privileges", "required": true, "item": {"type": "string"}}]}, "identifiers": ["name"]}]}, {"type": "array<object>", "name": "targetLocations", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}]}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2024-03-03", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.compute/galleries/{}/invmaccesscontrolprofiles/{}/versions/{}", "version": "2024-03-03", "swagger": "mgmt-plane/compute/ResourceProviders/Microsoft.Compute/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS9nYWxsZXJpZXMve2dhbGxlcnlOYW1lfS9pblZNQWNjZXNzQ29udHJvbFByb2ZpbGVzL3tpblZNQWNjZXNzQ29udHJvbFByb2ZpbGVOYW1lfS92ZXJzaW9ucy97aW5WTUFjY2Vzc0NvbnRyb2xQcm9maWxlVmVyc2lvbk5hbWV9/V/MjAyNC0wMy0wMw=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.galleryName", "options": ["gallery-name"], "required": true, "group": "", "idPart": "name", "help": {"short": "The name of the Shared Image Gallery in which the in VM access control profile resides."}}, {"type": "string", "var": "$Path.inVMAccessControlProfileName", "options": ["profile-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the gallery in VM access control profile in which the in VM access control profile version is to be created."}}, {"type": "string", "var": "$Path.inVMAccessControlProfileVersionName", "options": ["version-name", "profile-version"], "required": true, "group": "", "idPart": "child_name_2", "help": {"short": "The name of the gallery in VM access control profile version to be created. Needs to follow semantic version name pattern: The allowed characters are digit and period. Digits must be within the range of a 32-bit integer. Format: MajorVersion.MinorVersion.Patch"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "GalleryInVMAccessControlProfileVersion", "args": [{"type": "ResourceLocation", "var": "$galleryInVMAccessControlProfileVersion.location", "options": ["l", "location"], "hide": true, "group": "GalleryInVMAccessControlProfileVersion", "help": {"short": "Resource location"}}, {"nullable": true, "type": "object", "var": "$galleryInVMAccessControlProfileVersion.tags", "options": ["tags"], "hide": true, "group": "GalleryInVMAccessControlProfileVersion", "help": {"short": "Resource tags"}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "Properties", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.defaultAccess", "options": ["default-access"], "group": "Properties", "help": {"short": "This property allows you to specify if the requests will be allowed to access the host endpoints. Possible values are: 'Allow', 'Deny'."}, "enum": {"items": [{"name": "Allow", "value": "Allow"}, {"name": "Deny", "value": "Deny"}]}}, {"nullable": true, "type": "boolean", "var": "$galleryInVMAccessControlProfileVersion.properties.excludeFromLatest", "options": ["exclude-from-latest"], "group": "Properties", "help": {"short": "If set to true, Virtual Machines deployed from the latest version of the Resource Profile won't use this Profile version."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.mode", "options": ["mode"], "group": "Properties", "help": {"short": "This property allows you to specify whether the access control rules are in Audit mode, in Enforce mode or Disabled. Possible values are: 'Audit', 'Enforce' or 'Disabled'."}, "enum": {"items": [{"name": "Audit", "value": "Audit"}, {"name": "Disabled", "value": "Disabled"}, {"name": "Enforce", "value": "Enforce"}]}}, {"nullable": true, "type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.rules", "options": ["rules"], "group": "Properties", "help": {"short": "This is the Access Control Rules specification for an in VM access control profile version."}, "args": [{"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities", "options": ["identities"], "help": {"short": "A list of identities."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].exePath", "options": ["exe-path"], "help": {"short": "The path to the executable."}}, {"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].groupName", "options": ["group-name"], "help": {"short": "The groupName corresponding to this identity."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].name", "options": ["name"], "help": {"short": "The name of the identity."}}, {"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].processName", "options": ["process-name"], "help": {"short": "The process name of the executable."}}, {"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].userName", "options": ["user-name"], "help": {"short": "The username corresponding to this identity."}}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges", "options": ["privileges"], "help": {"short": "A list of privileges."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].name", "options": ["name"], "help": {"short": "The name of the privilege."}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].path", "options": ["path"], "help": {"short": "The HTTP path corresponding to the privilege."}}, {"nullable": true, "type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].queryParameters", "options": ["query-parameters"], "help": {"short": "The query parameters to match in the path."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments", "options": ["role-assignments"], "help": {"short": "A list of role assignments."}, "item": {"nullable": true, "type": "object", "args": [{"type": "array<string>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].identities", "options": ["identities"], "help": {"short": "A list of identities that can access the privileges defined by the role."}, "item": {"nullable": true, "type": "string"}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].role", "options": ["role"], "help": {"short": "The name of the role."}}]}}, {"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roles", "options": ["roles"], "help": {"short": "A list of roles."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].name", "options": ["name"], "help": {"short": "The name of the role."}}, {"type": "array<string>", "var": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].privileges", "options": ["privileges"], "help": {"short": "A list of privileges needed by this role."}, "item": {"nullable": true, "type": "string"}}]}}]}, {"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations", "options": ["target-locations"], "group": "Properties", "help": {"short": "The target regions where the Resource Profile version is going to be replicated to. This property is updatable."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets", "options": ["additional-replica-sets"], "help": {"short": "List of storage sku with replica count to create direct drive replicas."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "integer32", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of direct drive replicas of the Image Version to be created.This Property is updatable"}}, {"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to create the direct drive replicas"}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}, {"nullable": true, "type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption", "options": ["encryption"], "help": {"short": "Optional. Allows users to provide customer managed keys for encrypting the OS and data disks in the gallery artifact."}, "args": [{"nullable": true, "type": "array<object>", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages", "options": ["data-disk-images"], "help": {"short": "A list of encryption specifications for data disk images."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"type": "integer32", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].lun", "options": ["lun"], "help": {"short": "This property specifies the logical unit number of the data disk. This value is used to identify data disks within the Virtual Machine and therefore must be unique for each data disk attached to the Virtual Machine."}}]}}, {"nullable": true, "type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage", "options": ["os-disk-image"], "help": {"short": "Contains encryption settings for an OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.diskEncryptionSetId", "options": ["disk-encryption-set-id"], "help": {"short": "A relative URI containing the resource ID of the disk encryption set."}}, {"nullable": true, "type": "object", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile", "options": ["security-profile"], "help": {"short": "This property specifies the security profile of an OS disk image."}, "args": [{"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.confidentialVMEncryptionType", "options": ["confidential-vm-encryption-type"], "help": {"short": "confidential VM encryption types"}, "enum": {"items": [{"name": "EncryptedVMGuestStateOnlyWithPmk", "value": "EncryptedVMGuestStateOnlyWithPmk"}, {"name": "EncryptedWithCmk", "value": "EncryptedWithCmk"}, {"name": "EncryptedWithPmk", "value": "EncryptedWithPmk"}, {"name": "NonPersistedTPM", "value": "NonPersistedTPM"}]}}, {"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.secureVMDiskEncryptionSetId", "options": ["secure-vm-disk-encryption-set-id"], "help": {"short": "secure VM disk encryption set id"}}]}]}]}, {"nullable": true, "type": "boolean", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].excludeFromLatest", "options": ["exclude-from-latest"], "help": {"short": "Contains the flag setting to hide an image when users specify version='latest'"}}, {"type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].name", "options": ["name"], "help": {"short": "The name of the region."}}, {"nullable": true, "type": "integer32", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].regionalReplicaCount", "options": ["regional-replica-count"], "help": {"short": "The number of replicas of the Image Version to be created per region. This property is updatable."}}, {"nullable": true, "type": "string", "var": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].storageAccountType", "options": ["storage-account-type"], "help": {"short": "Specifies the storage account type to be used to store the image. This property is not updatable."}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}}]}], "operations": [{"operationId": "GalleryInVMAccessControlProfileVersions_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/inVMAccessControlProfiles/{inVMAccessControlProfileName}/versions/{inVMAccessControlProfileVersionName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true}, {"type": "string", "name": "inVMAccessControlProfileName", "arg": "$Path.inVMAccessControlProfileName", "required": true}, {"type": "string", "name": "inVMAccessControlProfileVersionName", "arg": "$Path.inVMAccessControlProfileVersionName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Compute/galleries/{}/inVMAccessControlProfiles/{}/versions/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "defaultAccess", "required": true, "enum": {"items": [{"value": "Allow"}, {"value": "Deny"}]}}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "mode", "required": true, "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "Enforce"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Creating"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Migrating"}, {"value": "Succeeded"}, {"value": "Updating"}]}}, {"readOnly": true, "type": "dateTime", "name": "publishedDate"}, {"readOnly": true, "type": "object", "name": "replicationStatus", "props": [{"readOnly": true, "type": "string", "name": "aggregatedState", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "InProgress"}, {"value": "Unknown"}]}}, {"readOnly": true, "type": "array<object>", "name": "summary", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "details"}, {"readOnly": true, "type": "integer32", "name": "progress"}, {"readOnly": true, "type": "string", "name": "region"}, {"readOnly": true, "type": "string", "name": "state", "enum": {"items": [{"value": "Completed"}, {"value": "Failed"}, {"value": "Replicating"}, {"value": "Unknown"}]}}]}, "identifiers": ["region"]}]}, {"type": "object", "name": "rules", "props": [{"type": "array<object>", "name": "identities", "item": {"type": "object", "props": [{"type": "string", "name": "exePath"}, {"type": "string", "name": "groupName"}, {"type": "string", "name": "name", "required": true}, {"type": "string", "name": "processName"}, {"type": "string", "name": "userName"}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "privileges", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "path", "required": true}, {"type": "object", "name": "queryParameters", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "roleAssignments", "item": {"type": "object", "props": [{"type": "array<string>", "name": "identities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "role", "required": true}]}, "identifiers": ["role"]}, {"type": "array<object>", "name": "roles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "array<string>", "name": "privileges", "required": true, "item": {"type": "string"}}]}, "identifiers": ["name"]}]}, {"type": "array<object>", "name": "targetLocations", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId"}]}]}]}, {"type": "boolean", "name": "excludeFromLatest"}, {"type": "string", "name": "name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "GalleryInVMAccessControlProfileVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "galleryInVMAccessControlProfileVersion", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$galleryInVMAccessControlProfileVersion.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "string", "name": "defaultAccess", "arg": "$galleryInVMAccessControlProfileVersion.properties.defaultAccess", "required": true, "enum": {"items": [{"value": "Allow"}, {"value": "Deny"}]}}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryInVMAccessControlProfileVersion.properties.excludeFromLatest"}, {"type": "string", "name": "mode", "arg": "$galleryInVMAccessControlProfileVersion.properties.mode", "required": true, "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "Enforce"}]}}, {"type": "object", "name": "rules", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules", "props": [{"type": "array<object>", "name": "identities", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities", "item": {"type": "object", "props": [{"type": "string", "name": "exePath", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].exePath"}, {"type": "string", "name": "groupName", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].groupName"}, {"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].name", "required": true}, {"type": "string", "name": "processName", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].processName"}, {"type": "string", "name": "userName", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.identities[].userName"}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "privileges", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].name", "required": true}, {"type": "string", "name": "path", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].path", "required": true}, {"type": "object", "name": "queryParameters", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.privileges[].queryParameters", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["name"]}, {"type": "array<object>", "name": "roleAssignments", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments", "item": {"type": "object", "props": [{"type": "array<string>", "name": "identities", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].identities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "role", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roleAssignments[].role", "required": true}]}, "identifiers": ["role"]}, {"type": "array<object>", "name": "roles", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].name", "required": true}, {"type": "array<string>", "name": "privileges", "arg": "$galleryInVMAccessControlProfileVersion.properties.rules.roles[].privileges", "required": true, "item": {"type": "string"}}]}, "identifiers": ["name"]}]}, {"type": "array<object>", "name": "targetLocations", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations", "item": {"type": "object", "props": [{"type": "array<object>", "name": "additionalReplicaSets", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets", "item": {"type": "object", "props": [{"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].additionalReplicaSets[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}}, {"type": "object", "name": "encryption", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption", "props": [{"type": "array<object>", "name": "dataDiskImages", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages", "item": {"type": "object", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].diskEncryptionSetId"}, {"type": "integer32", "name": "lun", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.dataDiskImages[].lun", "required": true}]}, "identifiers": ["lun"]}, {"type": "object", "name": "osDiskImage", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage", "props": [{"type": "string", "name": "diskEncryptionSetId", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.diskEncryptionSetId"}, {"type": "object", "name": "securityProfile", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile", "props": [{"type": "string", "name": "confidentialVMEncryptionType", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.confidentialVMEncryptionType", "enum": {"items": [{"value": "EncryptedVMGuestStateOnlyWithPmk"}, {"value": "EncryptedWithCmk"}, {"value": "EncryptedWithPmk"}, {"value": "NonPersistedTPM"}]}}, {"type": "string", "name": "secureVMDiskEncryptionSetId", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].encryption.osDiskImage.securityProfile.secureVMDiskEncryptionSetId"}]}]}]}, {"type": "boolean", "name": "excludeFromLatest", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].excludeFromLatest"}, {"type": "string", "name": "name", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].name", "required": true}, {"type": "integer32", "name": "regionalReplicaCount", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].regionalReplicaCount"}, {"type": "string", "name": "storageAccountType", "arg": "$galleryInVMAccessControlProfileVersion.properties.targetLocations[].storageAccountType", "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "Premium_LRS"}, {"value": "Standard_LRS"}, {"value": "Standard_ZRS"}]}}]}, "identifiers": ["name"]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$galleryInVMAccessControlProfileVersion.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "GalleryInVMAccessControlProfileVersions_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/galleries/{galleryName}/inVMAccessControlProfiles/{inVMAccessControlProfileName}/versions/{inVMAccessControlProfileVersionName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "galleryName", "arg": "$Path.galleryName", "required": true, "format": {"pattern": "^[a-zA-Z0-9]+([_]?[a-zA-Z0-9]+)*$"}}, {"type": "string", "name": "inVMAccessControlProfileName", "arg": "$Path.inVMAccessControlProfileName", "required": true, "format": {"pattern": "^[a-zA-Z0-9]+([-._]?[a-zA-Z0-9]+)*$", "maxLength": 80}}, {"type": "string", "name": "inVMAccessControlProfileVersionName", "arg": "$Path.inVMAccessControlProfileVersionName", "required": true, "format": {"pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-03-03"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "@GalleryInVMAccessControlProfileVersion_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}]}]}