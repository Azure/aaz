{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storage/storageaccounts/{}/startaccountmigration", "version": "2024-01-01", "swagger": "mgmt-plane/storage/ResourceProviders/Microsoft.Storage/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZS9zdG9yYWdlQWNjb3VudHMve2FjY291bnROYW1lfS9zdGFydEFjY291bnRNaWdyYXRpb24=/V/MjAyNC0wMS0wMQ=="}], "commandGroups": [{"name": "storage account migration", "commands": [{"name": "start", "version": "2024-01-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storage/storageaccounts/{}/startaccountmigration", "version": "2024-01-01", "swagger": "mgmt-plane/storage/ResourceProviders/Microsoft.Storage/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZS9zdG9yYWdlQWNjb3VudHMve2FjY291bnROYW1lfS9zdGFydEFjY291bnRNaWdyYXRpb24=/V/MjAyNC0wMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.accountName", "options": ["account-name"], "required": true, "idPart": "name", "help": {"short": "The name of the storage account within the specified resource group. Storage account names must be between 3 and 24 characters in length and use numbers and lower-case letters only."}, "format": {"pattern": "^[a-z0-9]+$", "maxLength": 24, "minLength": 3}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Parameters", "args": [{"type": "string", "var": "$parameters.name", "options": ["name"], "group": "Parameters", "help": {"short": "current value is 'default' for customer initiated migration"}}, {"type": "string", "var": "$parameters.type", "options": ["type"], "group": "Parameters", "help": {"short": "SrpAccountMigrationType in ARM contract which is 'accountMigrations'"}}]}, {"name": "Properties", "args": [{"type": "string", "var": "$parameters.properties.targetSkuName", "options": ["sku", "target-sku-name"], "required": true, "group": "Properties", "help": {"short": "Target sku name for the account"}, "enum": {"items": [{"name": "PremiumV2_LRS", "value": "PremiumV2_LRS"}, {"name": "PremiumV2_ZRS", "value": "PremiumV2_ZRS"}, {"name": "Premium_LRS", "value": "Premium_LRS"}, {"name": "Premium_ZRS", "value": "Premium_ZRS"}, {"name": "StandardV2_GRS", "value": "StandardV2_GRS"}, {"name": "StandardV2_GZRS", "value": "StandardV2_GZRS"}, {"name": "StandardV2_LRS", "value": "StandardV2_LRS"}, {"name": "StandardV2_ZRS", "value": "StandardV2_ZRS"}, {"name": "Standard_GRS", "value": "Standard_GRS"}, {"name": "Standard_GZRS", "value": "Standard_GZRS"}, {"name": "Standard_LRS", "value": "Standard_LRS"}, {"name": "Standard_RAGRS", "value": "Standard_RAGRS"}, {"name": "Standard_RAGZRS", "value": "Standard_RAGZRS"}, {"name": "Standard_ZRS", "value": "Standard_ZRS"}]}}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "StorageAccounts_CustomerInitiatedMigration", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Storage/storageAccounts/{accountName}/startAccountMigration", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "accountName", "arg": "$Path.accountName", "required": true, "format": {"pattern": "^[a-z0-9]+$", "maxLength": 24, "minLength": 3}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"pattern": "^[-\\w\\._\\(\\)]+$", "maxLength": 90, "minLength": 1}}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-01-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "string", "name": "name", "arg": "$parameters.name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "targetSkuName", "arg": "$parameters.properties.targetSkuName", "required": true, "enum": {"items": [{"value": "PremiumV2_LRS"}, {"value": "PremiumV2_ZRS"}, {"value": "Premium_LRS"}, {"value": "Premium_ZRS"}, {"value": "StandardV2_GRS"}, {"value": "StandardV2_GZRS"}, {"value": "StandardV2_LRS"}, {"value": "StandardV2_ZRS"}, {"value": "Standard_GRS"}, {"value": "Standard_GZRS"}, {"value": "Standard_LRS"}, {"value": "Standard_RAGRS"}, {"value": "Standard_RAGZRS"}, {"value": "Standard_ZRS"}]}}], "clientFlatten": true}, {"type": "string", "name": "type", "arg": "$parameters.type"}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200]}, {"statusCode": [202], "header": {"items": [{"name": "Location"}]}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "After your request to convert the account’s redundancy configuration is validated, the conversion will typically complete in a few days, but can take several weeks depending on current resource demands in the region, account size, and other factors. The conversion can’t be stopped after being initiated, and for accounts with geo redundancy a failover can’t be initiated while conversion is in progress. The data within the storage account will continue to be accessible with no loss of durability or availability. Confirm redundancy configuration change"}]}]}