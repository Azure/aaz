{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/providers/microsoft.storageactions/locations/{}/previewactions", "version": "2023-01-01", "swagger": "mgmt-plane/storageactions/ResourceProviders/Microsoft.StorageActions/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9wcm92aWRlcnMvTWljcm9zb2Z0LlN0b3JhZ2VBY3Rpb25zL2xvY2F0aW9ucy97bG9jYXRpb259L3ByZXZpZXdBY3Rpb25z/V/MjAyMy0wMS0wMQ=="}], "commandGroups": [{"name": "storage-actions task", "commands": [{"name": "preview-action", "version": "2023-01-01", "resources": [{"id": "/subscriptions/{}/providers/microsoft.storageactions/locations/{}/previewactions", "version": "2023-01-01", "swagger": "mgmt-plane/storageactions/ResourceProviders/Microsoft.StorageActions/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9wcm92aWRlcnMvTWljcm9zb2Z0LlN0b3JhZ2VBY3Rpb25zL2xvY2F0aW9ucy97bG9jYXRpb259L3ByZXZpZXdBY3Rpb25z/V/MjAyMy0wMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceLocation", "var": "$Path.location", "options": ["l", "location"], "required": true, "idPart": "name"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Properties", "args": [{"type": "object", "var": "$body.properties.action", "options": ["action"], "required": true, "group": "Properties", "help": {"short": "Preview action to test"}, "args": [{"type": "boolean", "var": "$body.properties.action.elseBlockExists", "options": ["else-block-exists"], "required": true, "help": {"short": "Specify whether the else block is present in the condition."}}, {"type": "object", "var": "$body.properties.action.if", "options": ["if"], "required": true, "help": {"short": "The condition to be tested for a match with container and blob properties."}, "args": [{"type": "string", "var": "$body.properties.action.if.condition", "options": ["condition"], "help": {"short": "Storage task condition to bes tested for a match."}}]}]}, {"type": "array<object>", "var": "$body.properties.blobs", "options": ["blobs"], "required": true, "group": "Properties", "help": {"short": "Properties of some sample blobs in the container to test for matches with the preview action."}, "item": {"type": "object", "args": [{"type": "array<@StoragetaskpreviewkeyvaluepropertiesCreate_create>", "var": "$body.properties.blobs[].metadata", "options": ["metadata"], "help": {"short": "metadata key value pairs to be tested for a match against the provided condition."}, "item": {"type": "@StoragetaskpreviewkeyvaluepropertiesCreate_create"}}, {"type": "string", "var": "$body.properties.blobs[].name", "options": ["name"], "help": {"short": "Name of test blob"}}, {"type": "array<@StoragetaskpreviewkeyvaluepropertiesCreate_create>", "var": "$body.properties.blobs[].properties", "options": ["properties"], "help": {"short": "properties key value pairs to be tested for a match against the provided condition."}, "item": {"type": "@StoragetaskpreviewkeyvaluepropertiesCreate_create"}}, {"type": "array<@StoragetaskpreviewkeyvaluepropertiesCreate_create>", "var": "$body.properties.blobs[].tags", "options": ["tags"], "help": {"short": "tags key value pairs to be tested for a match against the provided condition."}, "item": {"type": "@StoragetaskpreviewkeyvaluepropertiesCreate_create"}}]}}, {"type": "object", "var": "$body.properties.container", "options": ["container"], "required": true, "group": "Properties", "help": {"short": "Properties of a sample container to test for a match with the preview action."}, "args": [{"type": "array<object>", "var": "$body.properties.container.metadata", "options": ["metadata"], "help": {"short": "metadata key value pairs to be tested for a match against the provided condition."}, "item": {"type": "object", "args": [{"type": "string", "var": "@StoragetaskpreviewkeyvaluepropertiesCreate_create.key", "options": ["key"], "help": {"short": "Represents the key property of the pair."}}, {"type": "string", "var": "@StoragetaskpreviewkeyvaluepropertiesCreate_create.value", "options": ["value"], "help": {"short": "Represents the value property of the pair."}}], "cls": "StoragetaskpreviewkeyvaluepropertiesCreate_create"}}, {"type": "string", "var": "$body.properties.container.name", "options": ["name"], "help": {"short": "Name of test container"}}]}]}], "operations": [{"operationId": "StorageTasksOperationGroup_PreviewActions", "http": {"path": "/subscriptions/{subscriptionId}/providers/Microsoft.StorageActions/locations/{location}/previewActions", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "location", "arg": "$Path.location", "required": true}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-01-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "body", "required": true, "props": [{"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "action", "arg": "$body.properties.action", "required": true, "props": [{"type": "boolean", "name": "elseBlockExists", "arg": "$body.properties.action.elseBlockExists", "required": true}, {"type": "object", "name": "if", "arg": "$body.properties.action.if", "required": true, "props": [{"type": "string", "name": "condition", "arg": "$body.properties.action.if.condition"}]}]}, {"type": "array<object>", "name": "blobs", "arg": "$body.properties.blobs", "required": true, "item": {"type": "object", "props": [{"type": "array<@StoragetaskpreviewkeyvaluepropertiesCreate_create>", "name": "metadata", "arg": "$body.properties.blobs[].metadata", "item": {"type": "@StoragetaskpreviewkeyvaluepropertiesCreate_create"}}, {"type": "string", "name": "name", "arg": "$body.properties.blobs[].name"}, {"type": "array<@StoragetaskpreviewkeyvaluepropertiesCreate_create>", "name": "properties", "arg": "$body.properties.blobs[].properties", "item": {"type": "@StoragetaskpreviewkeyvaluepropertiesCreate_create"}}, {"type": "array<@StoragetaskpreviewkeyvaluepropertiesCreate_create>", "name": "tags", "arg": "$body.properties.blobs[].tags", "item": {"type": "@StoragetaskpreviewkeyvaluepropertiesCreate_create"}}]}}, {"type": "object", "name": "container", "arg": "$body.properties.container", "required": true, "props": [{"type": "array<object>", "name": "metadata", "arg": "$body.properties.container.metadata", "item": {"type": "object", "props": [{"type": "string", "name": "key", "arg": "@StoragetaskpreviewkeyvaluepropertiesCreate_create.key"}, {"type": "string", "name": "value", "arg": "@StoragetaskpreviewkeyvaluepropertiesCreate_create.value"}], "cls": "StoragetaskpreviewkeyvaluepropertiesCreate_create"}}, {"type": "string", "name": "name", "arg": "$body.properties.container.name"}]}], "clientFlatten": true}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "action", "required": true, "props": [{"type": "boolean", "name": "elseBlockExists", "required": true}, {"type": "object", "name": "if", "required": true, "props": [{"type": "string", "name": "condition"}]}]}, {"type": "array<object>", "name": "blobs", "required": true, "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "matchedBlock", "enum": {"items": [{"value": "Else"}, {"value": "If"}, {"value": "None"}]}}, {"type": "array<@Storagetaskpreviewkeyvalueproperties_read>", "name": "metadata", "item": {"type": "@Storagetaskpreviewkeyvalueproperties_read"}}, {"type": "string", "name": "name"}, {"type": "array<@Storagetaskpreviewkeyvalueproperties_read>", "name": "properties", "item": {"type": "@Storagetaskpreviewkeyvalueproperties_read"}}, {"type": "array<@Storagetaskpreviewkeyvalueproperties_read>", "name": "tags", "item": {"type": "@Storagetaskpreviewkeyvalueproperties_read"}}]}}, {"type": "object", "name": "container", "required": true, "props": [{"type": "array<object>", "name": "metadata", "item": {"type": "object", "props": [{"type": "string", "name": "key"}, {"type": "string", "name": "value"}], "cls": "Storagetaskpreviewkeyvalueproperties_read"}}, {"type": "string", "name": "name"}]}], "clientFlatten": true}]}}}}, {"isError": true, "body": {"json": {"schema": {"readOnly": true, "type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}]}]}