{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.insights/metricalerts/{}", "version": "2018-03-01", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSW5zaWdodHMvbWV0cmljQWxlcnRzL3tydWxlTmFtZX0=/V/MjAxOC0wMy0wMQ=="}], "commandGroups": [{"name": "monitor metrics alert", "commands": [{"name": "show", "version": "2018-03-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.insights/metricalerts/{}", "version": "2018-03-01", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSW5zaWdodHMvbWV0cmljQWxlcnRzL3tydWxlTmFtZX0=/V/MjAxOC0wMy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.ruleName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Name of the alert rule."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "MetricAlerts_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "ruleName", "arg": "$Path.ruleName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-03-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Insights/metricAlerts/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "array<object>", "name": "actions", "item": {"type": "object", "props": [{"type": "string", "name": "actionGroupId"}, {"type": "object", "name": "webHookProperties", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["actionGroupId"]}, {"type": "boolean", "name": "autoMitigate"}, {"type": "object", "name": "criteria", "required": true, "props": [{"type": "string", "name": "odata.type", "required": true, "enum": {"items": [{"value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"}, {"value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria"}, {"value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria"}]}}], "discriminators": [{"property": "odata.type", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "item": {"type": "object", "props": [{"type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<@MetricDimension_read>", "name": "dimensions", "item": {"type": "@MetricDimension_read"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "required": true}, {"type": "string", "name": "metricNamespace"}, {"type": "string", "name": "name", "required": true}, {"type": "boolean", "name": "skipMetricValidation"}, {"type": "string", "name": "timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}], "discriminators": [{"property": "criterionType", "value": "DynamicThresholdCriterion", "props": [{"type": "string", "name": "alertSensitivity", "required": true, "enum": {"items": [{"value": "High"}, {"value": "Low"}, {"value": "Medium"}]}}, {"type": "object", "name": "failingPeriods", "required": true, "props": [{"type": "float", "name": "minFailingPeriodsToAlert", "required": true}, {"type": "float", "name": "numberOfEvaluationPeriods", "required": true}]}, {"type": "dateTime", "name": "ignoreDataBefore"}, {"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "GreaterOrLessThan"}, {"value": "GreaterThan"}, {"value": "LessThan"}]}}]}, {"property": "criterionType", "value": "StaticThresholdCriterion", "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "float64", "name": "threshold", "required": true}]}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "item": {"type": "object", "props": [{"const": true, "default": {"value": "StaticThresholdCriterion"}, "type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<object>", "name": "dimensions", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "operator", "required": true}, {"type": "array<string>", "name": "values", "required": true, "item": {"type": "string"}}], "cls": "MetricDimension_read"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "required": true}, {"type": "string", "name": "metricNamespace"}, {"type": "string", "name": "name", "required": true}, {"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "boolean", "name": "skipMetricValidation"}, {"type": "float64", "name": "threshold", "required": true}, {"type": "string", "name": "timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria", "props": [{"type": "string", "name": "componentId", "required": true}, {"type": "float", "name": "failedLocationCount", "required": true}, {"type": "string", "name": "webTestId", "required": true}]}]}, {"type": "string", "name": "description"}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "duration", "name": "evaluationFrequency", "required": true}, {"readOnly": true, "type": "boolean", "name": "isMigrated"}, {"readOnly": true, "type": "dateTime", "name": "lastUpdatedTime"}, {"type": "array<string>", "name": "scopes", "required": true, "item": {"type": "string"}}, {"type": "integer32", "name": "severity", "required": true}, {"type": "string", "name": "targetResourceRegion"}, {"type": "string", "name": "targetResourceType"}, {"type": "duration", "name": "windowSize", "required": true}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}, {"name": "delete", "version": "2018-03-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.insights/metricalerts/{}", "version": "2018-03-01", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSW5zaWdodHMvbWV0cmljQWxlcnRzL3tydWxlTmFtZX0=/V/MjAxOC0wMy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.ruleName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Name of the alert rule."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "MetricAlerts_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "ruleName", "arg": "$Path.ruleName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-03-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "confirmation": ""}, {"name": "create", "version": "2018-03-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.insights/metricalerts/{}", "version": "2018-03-01", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSW5zaWdodHMvbWV0cmljQWxlcnRzL3tydWxlTmFtZX0=/V/MjAxOC0wMy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.ruleName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Name of the alert rule."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Parameters", "args": [{"type": "ResourceLocation", "var": "$parameters.location", "options": ["l", "location"], "required": true, "group": "Parameters", "help": {"short": "Resource location"}}, {"type": "object", "var": "$parameters.tags", "options": ["tags"], "group": "Parameters", "help": {"short": "Resource tags"}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "array<object>", "var": "$parameters.properties.actions", "options": ["actions"], "group": "Properties", "help": {"short": "the array of actions that are performed when the alert rule becomes active, and when an alert condition is resolved."}, "item": {"type": "object", "args": [{"type": "string", "var": "$parameters.properties.actions[].actionGroupId", "options": ["action-group-id"], "help": {"short": "the id of the action group to use."}}, {"type": "object", "var": "$parameters.properties.actions[].webHookProperties", "options": ["web-hook-properties"], "help": {"short": "This field allows specifying custom properties, which would be appended to the alert payload sent as input to the webhook."}, "additionalProps": {"item": {"type": "string"}}}]}}, {"type": "boolean", "var": "$parameters.properties.autoMitigate", "options": ["auto-mitigate"], "group": "Properties", "help": {"short": "the flag that indicates whether the alert should be auto resolved or not. The default is true."}}, {"type": "object", "var": "$parameters.properties.criteria", "options": ["criteria"], "required": true, "group": "Properties", "help": {"short": "defines the specific alert criteria information."}, "args": [{"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria", "options": ["microsoft-azure-monitor-multiple-resource-multiple-metric-criteria"], "args": [{"type": "array<object>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf", "options": ["all-of"], "help": {"short": "the list of multiple metric criteria for this 'all of' operation. "}, "item": {"type": "object", "args": [{"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion", "options": ["dynamic-threshold-criterion"], "args": [{"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.alertSensitivity", "options": ["alert-sensitivity"], "required": true, "help": {"short": "The extent of deviation required to trigger an alert. This will affect how tight the threshold is to the metric series pattern."}, "enum": {"items": [{"name": "High", "value": "High"}, {"name": "Low", "value": "Low"}, {"name": "Medium", "value": "Medium"}]}}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods", "options": ["failing-periods"], "required": true, "help": {"short": "The minimum number of violations required within the selected lookback time window required to raise an alert."}, "args": [{"type": "float", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.minFailingPeriodsToAlert", "options": ["min-failing-periods-to-alert"], "required": true, "help": {"short": "The number of violations to trigger an alert. Should be smaller or equal to numberOfEvaluationPeriods."}}, {"type": "float", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.numberOfEvaluationPeriods", "options": ["number-of-evaluation-periods"], "required": true, "help": {"short": "The number of aggregated lookback points. The lookback time window is calculated based on the aggregation granularity (windowSize) and the selected number of aggregated points."}}]}, {"type": "dateTime", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.ignoreDataBefore", "options": ["ignore-data-before"], "help": {"short": "Use this option to set the date from which to start learning the metric historical data and calculate the dynamic thresholds (in ISO8601 format)"}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.operator", "options": ["operator"], "required": true, "help": {"short": "The operator used to compare the metric value against the threshold."}, "enum": {"items": [{"name": "GreaterOrLessThan", "value": "GreaterOrLessThan"}, {"name": "GreaterThan", "value": "GreaterThan"}, {"name": "LessThan", "value": "LessThan"}]}}]}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion", "options": ["static-threshold-criterion"], "args": [{"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.operator", "options": ["operator"], "required": true, "help": {"short": "the criteria operator."}, "enum": {"items": [{"name": "Equals", "value": "Equals"}, {"name": "GreaterThan", "value": "GreaterThan"}, {"name": "GreaterThanOrEqual", "value": "GreaterThanOrEqual"}, {"name": "LessThan", "value": "LessThan"}, {"name": "LessThanOrEqual", "value": "LessThanOrEqual"}]}}, {"type": "float64", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.threshold", "options": ["threshold"], "required": true, "help": {"short": "the criteria threshold value that activates the alert."}}]}, {"type": "array<@MetricDimension_create>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].dimensions", "options": ["dimensions"], "help": {"short": "List of dimension conditions."}, "item": {"type": "@MetricDimension_create"}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricName", "options": ["metric-name"], "required": true, "help": {"short": "Name of the metric."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricNamespace", "options": ["metric-namespace"], "help": {"short": "Namespace of the metric."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].name", "options": ["name"], "required": true, "help": {"short": "Name of the criteria."}}, {"type": "boolean", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].skipMetricValidation", "options": ["skip-metric-validation"], "help": {"short": "Allows creating an alert rule on a custom metric that isn't yet emitted, by causing the metric validation to be skipped."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].timeAggregation", "options": ["time-aggregation"], "required": true, "help": {"short": "the criteria time aggregation types."}, "enum": {"items": [{"name": "Average", "value": "Average"}, {"name": "Count", "value": "Count"}, {"name": "Maximum", "value": "Maximum"}, {"name": "Minimum", "value": "Minimum"}, {"name": "Total", "value": "Total"}]}}]}}]}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria", "options": ["microsoft-azure-monitor-single-resource-multiple-metric-criteria"], "args": [{"type": "array<object>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf", "options": ["all-of"], "help": {"short": "The list of metric criteria for this 'all of' operation. "}, "item": {"type": "object", "args": [{"type": "array<object>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].dimensions", "options": ["dimensions"], "help": {"short": "List of dimension conditions."}, "item": {"type": "object", "args": [{"type": "string", "var": "@MetricDimension_create.name", "options": ["name"], "required": true, "help": {"short": "Name of the dimension."}}, {"type": "string", "var": "@MetricDimension_create.operator", "options": ["operator"], "required": true, "help": {"short": "the dimension operator. Only 'Include' and 'Exclude' are supported"}}, {"type": "array<string>", "var": "@MetricDimension_create.values", "options": ["values"], "required": true, "help": {"short": "list of dimension values."}, "item": {"type": "string"}}], "cls": "MetricDimension_create"}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricName", "options": ["metric-name"], "required": true, "help": {"short": "Name of the metric."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricNamespace", "options": ["metric-namespace"], "help": {"short": "Namespace of the metric."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].name", "options": ["name"], "required": true, "help": {"short": "Name of the criteria."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].operator", "options": ["operator"], "required": true, "help": {"short": "the criteria operator."}, "enum": {"items": [{"name": "Equals", "value": "Equals"}, {"name": "GreaterThan", "value": "GreaterThan"}, {"name": "GreaterThanOrEqual", "value": "GreaterThanOrEqual"}, {"name": "LessThan", "value": "LessThan"}, {"name": "LessThanOrEqual", "value": "LessThanOrEqual"}]}}, {"type": "boolean", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].skipMetricValidation", "options": ["skip-metric-validation"], "help": {"short": "Allows creating an alert rule on a custom metric that isn't yet emitted, by causing the metric validation to be skipped."}}, {"type": "float64", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].threshold", "options": ["threshold"], "required": true, "help": {"short": "the criteria threshold value that activates the alert."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].timeAggregation", "options": ["time-aggregation"], "required": true, "help": {"short": "the criteria time aggregation types."}, "enum": {"items": [{"name": "Average", "value": "Average"}, {"name": "Count", "value": "Count"}, {"name": "Maximum", "value": "Maximum"}, {"name": "Minimum", "value": "Minimum"}, {"name": "Total", "value": "Total"}]}}]}}]}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria", "options": ["microsoft-azure-monitor-webtest-location-availability-criteria"], "args": [{"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.componentId", "options": ["component-id"], "required": true, "help": {"short": "The Application Insights resource Id."}}, {"type": "float", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.failedLocationCount", "options": ["failed-location-count"], "required": true, "help": {"short": "The number of failed locations."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.webTestId", "options": ["web-test-id"], "required": true, "help": {"short": "The Application Insights web test Id."}}]}]}, {"type": "string", "var": "$parameters.properties.description", "options": ["description"], "group": "Properties", "help": {"short": "the description of the metric alert that will be included in the alert email."}}, {"type": "boolean", "var": "$parameters.properties.enabled", "options": ["enabled"], "required": true, "group": "Properties", "help": {"short": "the flag that indicates whether the metric alert is enabled."}}, {"type": "duration", "var": "$parameters.properties.evaluationFrequency", "options": ["evaluation-frequency"], "required": true, "group": "Properties", "help": {"short": "how often the metric alert is evaluated represented in ISO 8601 duration format."}}, {"type": "array<string>", "var": "$parameters.properties.scopes", "options": ["scopes"], "required": true, "group": "Properties", "help": {"short": "the list of resource id's that this metric alert is scoped to."}, "item": {"type": "string"}}, {"type": "integer32", "var": "$parameters.properties.severity", "options": ["severity"], "required": true, "group": "Properties", "help": {"short": "Alert severity {0, 1, 2, 3, 4}"}}, {"type": "string", "var": "$parameters.properties.targetResourceRegion", "options": ["target-resource-region"], "group": "Properties", "help": {"short": "the region of the target resource(s) on which the alert is created/updated. Mandatory if the scope contains a subscription, resource group, or more than one resource."}}, {"type": "string", "var": "$parameters.properties.targetResourceType", "options": ["target-resource-type"], "group": "Properties", "help": {"short": "the resource type of the target resource(s) on which the alert is created/updated. Mandatory if the scope contains a subscription, resource group, or more than one resource."}}, {"type": "duration", "var": "$parameters.properties.windowSize", "options": ["window-size"], "required": true, "group": "Properties", "help": {"short": "the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold."}}]}], "operations": [{"operationId": "MetricAlerts_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "ruleName", "arg": "$Path.ruleName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-03-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$parameters.location", "required": true}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "array<object>", "name": "actions", "arg": "$parameters.properties.actions", "item": {"type": "object", "props": [{"type": "string", "name": "actionGroupId", "arg": "$parameters.properties.actions[].actionGroupId"}, {"type": "object", "name": "webHookProperties", "arg": "$parameters.properties.actions[].webHookProperties", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["actionGroupId"]}, {"type": "boolean", "name": "autoMitigate", "arg": "$parameters.properties.autoMitigate"}, {"type": "object", "name": "criteria", "arg": "$parameters.properties.criteria", "required": true, "props": [{"type": "string", "name": "odata.type", "required": true, "enum": {"items": [{"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"}, {"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria"}, {"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria"}]}}], "discriminators": [{"property": "odata.type", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf", "item": {"type": "object", "props": [{"type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion", "value": "DynamicThresholdCriterion"}, {"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion", "value": "StaticThresholdCriterion"}]}}, {"type": "array<@MetricDimension_create>", "name": "dimensions", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].dimensions", "item": {"type": "@MetricDimension_create"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricName", "required": true}, {"type": "string", "name": "metricNamespace", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricNamespace"}, {"type": "string", "name": "name", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].name", "required": true}, {"type": "boolean", "name": "skipMetricValidation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].skipMetricValidation"}, {"type": "string", "name": "timeAggregation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}], "discriminators": [{"property": "criterionType", "value": "DynamicThresholdCriterion", "props": [{"type": "string", "name": "alertSensitivity", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.alertSensitivity", "required": true, "enum": {"items": [{"value": "High"}, {"value": "Low"}, {"value": "Medium"}]}}, {"type": "object", "name": "failingPeriods", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods", "required": true, "props": [{"type": "float", "name": "minFailingPeriodsToAlert", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.minFailingPeriodsToAlert", "required": true}, {"type": "float", "name": "numberOfEvaluationPeriods", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.numberOfEvaluationPeriods", "required": true}]}, {"type": "dateTime", "name": "ignoreDataBefore", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.ignoreDataBefore"}, {"type": "string", "name": "operator", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.operator", "required": true, "enum": {"items": [{"value": "GreaterOrLessThan"}, {"value": "GreaterThan"}, {"value": "LessThan"}]}}]}, {"property": "criterionType", "value": "StaticThresholdCriterion", "props": [{"type": "string", "name": "operator", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "float64", "name": "threshold", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.threshold", "required": true}]}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf", "item": {"type": "object", "props": [{"const": true, "default": {"value": "StaticThresholdCriterion"}, "type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<object>", "name": "dimensions", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].dimensions", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "@MetricDimension_create.name", "required": true}, {"type": "string", "name": "operator", "arg": "@MetricDimension_create.operator", "required": true}, {"type": "array<string>", "name": "values", "arg": "@MetricDimension_create.values", "required": true, "item": {"type": "string"}}], "cls": "MetricDimension_create"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricName", "required": true}, {"type": "string", "name": "metricNamespace", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricNamespace"}, {"type": "string", "name": "name", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].name", "required": true}, {"type": "string", "name": "operator", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "boolean", "name": "skipMetricValidation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].skipMetricValidation"}, {"type": "float64", "name": "threshold", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].threshold", "required": true}, {"type": "string", "name": "timeAggregation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria", "props": [{"type": "string", "name": "componentId", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.componentId", "required": true}, {"type": "float", "name": "failedLocationCount", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.failedLocationCount", "required": true}, {"type": "string", "name": "webTestId", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.webTestId", "required": true}]}]}, {"type": "string", "name": "description", "arg": "$parameters.properties.description"}, {"type": "boolean", "name": "enabled", "arg": "$parameters.properties.enabled", "required": true}, {"type": "duration", "name": "evaluationFrequency", "arg": "$parameters.properties.evaluationFrequency", "required": true}, {"type": "array<string>", "name": "scopes", "arg": "$parameters.properties.scopes", "required": true, "item": {"type": "string"}}, {"type": "integer32", "name": "severity", "arg": "$parameters.properties.severity", "required": true}, {"type": "string", "name": "targetResourceRegion", "arg": "$parameters.properties.targetResourceRegion"}, {"type": "string", "name": "targetResourceType", "arg": "$parameters.properties.targetResourceType"}, {"type": "duration", "name": "windowSize", "arg": "$parameters.properties.windowSize", "required": true}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Insights/metricAlerts/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "array<object>", "name": "actions", "item": {"type": "object", "props": [{"type": "string", "name": "actionGroupId"}, {"type": "object", "name": "webHookProperties", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["actionGroupId"]}, {"type": "boolean", "name": "autoMitigate"}, {"type": "object", "name": "criteria", "required": true, "props": [{"type": "string", "name": "odata.type", "required": true, "enum": {"items": [{"value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"}, {"value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria"}, {"value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria"}]}}], "discriminators": [{"property": "odata.type", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "item": {"type": "object", "props": [{"type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<@MetricDimension_read>", "name": "dimensions", "item": {"type": "@MetricDimension_read"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "required": true}, {"type": "string", "name": "metricNamespace"}, {"type": "string", "name": "name", "required": true}, {"type": "boolean", "name": "skipMetricValidation"}, {"type": "string", "name": "timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}], "discriminators": [{"property": "criterionType", "value": "DynamicThresholdCriterion", "props": [{"type": "string", "name": "alertSensitivity", "required": true, "enum": {"items": [{"value": "High"}, {"value": "Low"}, {"value": "Medium"}]}}, {"type": "object", "name": "failingPeriods", "required": true, "props": [{"type": "float", "name": "minFailingPeriodsToAlert", "required": true}, {"type": "float", "name": "numberOfEvaluationPeriods", "required": true}]}, {"type": "dateTime", "name": "ignoreDataBefore"}, {"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "GreaterOrLessThan"}, {"value": "GreaterThan"}, {"value": "LessThan"}]}}]}, {"property": "criterionType", "value": "StaticThresholdCriterion", "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "float64", "name": "threshold", "required": true}]}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "item": {"type": "object", "props": [{"const": true, "default": {"value": "StaticThresholdCriterion"}, "type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<object>", "name": "dimensions", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "operator", "required": true}, {"type": "array<string>", "name": "values", "required": true, "item": {"type": "string"}}], "cls": "MetricDimension_read"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "required": true}, {"type": "string", "name": "metricNamespace"}, {"type": "string", "name": "name", "required": true}, {"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "boolean", "name": "skipMetricValidation"}, {"type": "float64", "name": "threshold", "required": true}, {"type": "string", "name": "timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria", "props": [{"type": "string", "name": "componentId", "required": true}, {"type": "float", "name": "failedLocationCount", "required": true}, {"type": "string", "name": "webTestId", "required": true}]}]}, {"type": "string", "name": "description"}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "duration", "name": "evaluationFrequency", "required": true}, {"readOnly": true, "type": "boolean", "name": "isMigrated"}, {"readOnly": true, "type": "dateTime", "name": "lastUpdatedTime"}, {"type": "array<string>", "name": "scopes", "required": true, "item": {"type": "string"}}, {"type": "integer32", "name": "severity", "required": true}, {"type": "string", "name": "targetResourceRegion"}, {"type": "string", "name": "targetResourceType"}, {"type": "duration", "name": "windowSize", "required": true}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}, {"name": "update", "version": "2018-03-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.insights/metricalerts/{}", "version": "2018-03-01", "swagger": "mgmt-plane/monitor/ResourceProviders/Microsoft.Insights/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSW5zaWdodHMvbWV0cmljQWxlcnRzL3tydWxlTmFtZX0=/V/MjAxOC0wMy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.ruleName", "options": ["n", "name"], "required": true, "group": "", "idPart": "name", "help": {"short": "Name of the alert rule."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.autoMitigate", "options": ["auto-mitigate"], "group": "", "help": {"short": "Automatically resolve the alert."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.description", "options": ["description"], "group": "", "help": {"short": "Free-text description of the rule."}}, {"type": "boolean", "var": "$parameters.properties.enabled", "options": ["enabled"], "group": "", "help": {"short": "Whether the metric alert rule is enabled."}}, {"type": "duration", "var": "$parameters.properties.evaluationFrequency", "options": ["evaluation-frequency"], "group": "", "help": {"short": "Frequency with which to evaluate the rule in `##h##m##s` format."}}, {"type": "array<string>", "var": "$parameters.properties.scopes", "options": ["scopes"], "group": "", "help": {"short": "Space-separated list of scopes the rule applies to. The resources specified in this parameter must be of the same type and exist in the same location."}, "item": {"nullable": true, "type": "string"}}, {"type": "integer32", "var": "$parameters.properties.severity", "options": ["severity"], "group": "", "help": {"short": "Severity of the alert from 0 (critical) to 4 (verbose)."}}, {"type": "duration", "var": "$parameters.properties.windowSize", "options": ["window-size"], "group": "", "help": {"short": "Time over which to aggregate metrics in `##h##m##s` format."}}, {"nullable": true, "type": "object", "var": "$parameters.tags", "options": ["tags"], "group": "", "help": {"short": "Space-separated tags: key[=value] [key[=value] ...]."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}, {"name": "Properties", "args": [{"nullable": true, "type": "array<object>", "var": "$parameters.properties.actions", "options": ["actions"], "hide": true, "group": "Properties", "help": {"short": "the array of actions that are performed when the alert rule becomes active, and when an alert condition is resolved."}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "string", "var": "$parameters.properties.actions[].actionGroupId", "options": ["action-group-id"], "help": {"short": "the id of the action group to use."}}, {"nullable": true, "type": "object", "var": "$parameters.properties.actions[].webHookProperties", "options": ["web-hook-properties"], "help": {"short": "This field allows specifying custom properties, which would be appended to the alert payload sent as input to the webhook."}, "additionalProps": {"item": {"nullable": true, "type": "string"}}}]}}, {"type": "object", "var": "$parameters.properties.criteria", "options": ["criteria"], "hide": true, "group": "Properties", "help": {"short": "defines the specific alert criteria information."}, "args": [{"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria", "options": ["microsoft-azure-monitor-multiple-resource-multiple-metric-criteria"], "args": [{"nullable": true, "type": "array<object>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf", "options": ["all-of"], "help": {"short": "the list of multiple metric criteria for this 'all of' operation. "}, "item": {"nullable": true, "type": "object", "args": [{"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion", "options": ["dynamic-threshold-criterion"], "args": [{"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.alertSensitivity", "options": ["alert-sensitivity"], "help": {"short": "The extent of deviation required to trigger an alert. This will affect how tight the threshold is to the metric series pattern."}, "enum": {"items": [{"name": "High", "value": "High"}, {"name": "Low", "value": "Low"}, {"name": "Medium", "value": "Medium"}]}}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods", "options": ["failing-periods"], "help": {"short": "The minimum number of violations required within the selected lookback time window required to raise an alert."}, "args": [{"type": "float", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.minFailingPeriodsToAlert", "options": ["min-failing-periods-to-alert"], "help": {"short": "The number of violations to trigger an alert. Should be smaller or equal to numberOfEvaluationPeriods."}}, {"type": "float", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.numberOfEvaluationPeriods", "options": ["number-of-evaluation-periods"], "help": {"short": "The number of aggregated lookback points. The lookback time window is calculated based on the aggregation granularity (windowSize) and the selected number of aggregated points."}}]}, {"nullable": true, "type": "dateTime", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.ignoreDataBefore", "options": ["ignore-data-before"], "help": {"short": "Use this option to set the date from which to start learning the metric historical data and calculate the dynamic thresholds (in ISO8601 format)"}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.operator", "options": ["operator"], "help": {"short": "The operator used to compare the metric value against the threshold."}, "enum": {"items": [{"name": "GreaterOrLessThan", "value": "GreaterOrLessThan"}, {"name": "GreaterThan", "value": "GreaterThan"}, {"name": "LessThan", "value": "LessThan"}]}}]}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion", "options": ["static-threshold-criterion"], "args": [{"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.operator", "options": ["operator"], "help": {"short": "the criteria operator."}, "enum": {"items": [{"name": "Equals", "value": "Equals"}, {"name": "GreaterThan", "value": "GreaterThan"}, {"name": "GreaterThanOrEqual", "value": "GreaterThanOrEqual"}, {"name": "LessThan", "value": "LessThan"}, {"name": "LessThanOrEqual", "value": "LessThanOrEqual"}]}}, {"type": "float64", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.threshold", "options": ["threshold"], "help": {"short": "the criteria threshold value that activates the alert."}}]}, {"nullable": true, "type": "array<@MetricDimension_update>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].dimensions", "options": ["dimensions"], "help": {"short": "List of dimension conditions."}, "item": {"nullable": true, "type": "@MetricDimension_update"}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricName", "options": ["metric-name"], "help": {"short": "Name of the metric."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricNamespace", "options": ["metric-namespace"], "help": {"short": "Namespace of the metric."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].name", "options": ["name"], "help": {"short": "Name of the criteria."}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].skipMetricValidation", "options": ["skip-metric-validation"], "help": {"short": "Allows creating an alert rule on a custom metric that isn't yet emitted, by causing the metric validation to be skipped."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].timeAggregation", "options": ["time-aggregation"], "help": {"short": "the criteria time aggregation types."}, "enum": {"items": [{"name": "Average", "value": "Average"}, {"name": "Count", "value": "Count"}, {"name": "Maximum", "value": "Maximum"}, {"name": "Minimum", "value": "Minimum"}, {"name": "Total", "value": "Total"}]}}]}}]}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria", "options": ["microsoft-azure-monitor-single-resource-multiple-metric-criteria"], "args": [{"nullable": true, "type": "array<object>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf", "options": ["all-of"], "help": {"short": "The list of metric criteria for this 'all of' operation. "}, "item": {"nullable": true, "type": "object", "args": [{"nullable": true, "type": "array<object>", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].dimensions", "options": ["dimensions"], "help": {"short": "List of dimension conditions."}, "item": {"nullable": true, "type": "object", "args": [{"type": "string", "var": "@MetricDimension_update.name", "options": ["name"], "help": {"short": "Name of the dimension."}}, {"type": "string", "var": "@MetricDimension_update.operator", "options": ["operator"], "help": {"short": "the dimension operator. Only 'Include' and 'Exclude' are supported"}}, {"type": "array<string>", "var": "@MetricDimension_update.values", "options": ["values"], "help": {"short": "list of dimension values."}, "item": {"nullable": true, "type": "string"}}], "cls": "MetricDimension_update"}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricName", "options": ["metric-name"], "help": {"short": "Name of the metric."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricNamespace", "options": ["metric-namespace"], "help": {"short": "Namespace of the metric."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].name", "options": ["name"], "help": {"short": "Name of the criteria."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].operator", "options": ["operator"], "help": {"short": "the criteria operator."}, "enum": {"items": [{"name": "Equals", "value": "Equals"}, {"name": "GreaterThan", "value": "GreaterThan"}, {"name": "GreaterThanOrEqual", "value": "GreaterThanOrEqual"}, {"name": "LessThan", "value": "LessThan"}, {"name": "LessThanOrEqual", "value": "LessThanOrEqual"}]}}, {"nullable": true, "type": "boolean", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].skipMetricValidation", "options": ["skip-metric-validation"], "help": {"short": "Allows creating an alert rule on a custom metric that isn't yet emitted, by causing the metric validation to be skipped."}}, {"type": "float64", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].threshold", "options": ["threshold"], "help": {"short": "the criteria threshold value that activates the alert."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].timeAggregation", "options": ["time-aggregation"], "help": {"short": "the criteria time aggregation types."}, "enum": {"items": [{"name": "Average", "value": "Average"}, {"name": "Count", "value": "Count"}, {"name": "Maximum", "value": "Maximum"}, {"name": "Minimum", "value": "Minimum"}, {"name": "Total", "value": "Total"}]}}]}}]}, {"type": "object", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria", "options": ["microsoft-azure-monitor-webtest-location-availability-criteria"], "args": [{"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.componentId", "options": ["component-id"], "help": {"short": "The Application Insights resource Id."}}, {"type": "float", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.failedLocationCount", "options": ["failed-location-count"], "help": {"short": "The number of failed locations."}}, {"type": "string", "var": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.webTestId", "options": ["web-test-id"], "help": {"short": "The Application Insights web test Id."}}]}]}, {"nullable": true, "type": "string", "var": "$parameters.properties.targetResourceRegion", "options": ["target-resource-region"], "hide": true, "group": "Properties", "help": {"short": "the region of the target resource(s) on which the alert is created/updated. Mandatory if the scope contains a subscription, resource group, or more than one resource."}}, {"nullable": true, "type": "string", "var": "$parameters.properties.targetResourceType", "options": ["target-resource-type"], "hide": true, "group": "Properties", "help": {"short": "the resource type of the target resource(s) on which the alert is created/updated. Mandatory if the scope contains a subscription, resource group, or more than one resource."}}]}], "operations": [{"operationId": "MetricAlerts_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "ruleName", "arg": "$Path.ruleName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-03-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.Insights/metricAlerts/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "array<object>", "name": "actions", "item": {"type": "object", "props": [{"type": "string", "name": "actionGroupId"}, {"type": "object", "name": "webHookProperties", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["actionGroupId"]}, {"type": "boolean", "name": "autoMitigate"}, {"type": "object", "name": "criteria", "required": true, "props": [{"type": "string", "name": "odata.type", "required": true, "enum": {"items": [{"value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"}, {"value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria"}, {"value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria"}]}}], "discriminators": [{"property": "odata.type", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "item": {"type": "object", "props": [{"type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<@MetricDimension_read>", "name": "dimensions", "item": {"type": "@MetricDimension_read"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "required": true}, {"type": "string", "name": "metricNamespace"}, {"type": "string", "name": "name", "required": true}, {"type": "boolean", "name": "skipMetricValidation"}, {"type": "string", "name": "timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}], "discriminators": [{"property": "criterionType", "value": "DynamicThresholdCriterion", "props": [{"type": "string", "name": "alertSensitivity", "required": true, "enum": {"items": [{"value": "High"}, {"value": "Low"}, {"value": "Medium"}]}}, {"type": "object", "name": "failingPeriods", "required": true, "props": [{"type": "float", "name": "minFailingPeriodsToAlert", "required": true}, {"type": "float", "name": "numberOfEvaluationPeriods", "required": true}]}, {"type": "dateTime", "name": "ignoreDataBefore"}, {"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "GreaterOrLessThan"}, {"value": "GreaterThan"}, {"value": "LessThan"}]}}]}, {"property": "criterionType", "value": "StaticThresholdCriterion", "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "float64", "name": "threshold", "required": true}]}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "item": {"type": "object", "props": [{"const": true, "default": {"value": "StaticThresholdCriterion"}, "type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<object>", "name": "dimensions", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "operator", "required": true}, {"type": "array<string>", "name": "values", "required": true, "item": {"type": "string"}}], "cls": "MetricDimension_read"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "required": true}, {"type": "string", "name": "metricNamespace"}, {"type": "string", "name": "name", "required": true}, {"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "boolean", "name": "skipMetricValidation"}, {"type": "float64", "name": "threshold", "required": true}, {"type": "string", "name": "timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria", "props": [{"type": "string", "name": "componentId", "required": true}, {"type": "float", "name": "failedLocationCount", "required": true}, {"type": "string", "name": "webTestId", "required": true}]}]}, {"type": "string", "name": "description"}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "duration", "name": "evaluationFrequency", "required": true}, {"readOnly": true, "type": "boolean", "name": "isMigrated"}, {"readOnly": true, "type": "dateTime", "name": "lastUpdatedTime"}, {"type": "array<string>", "name": "scopes", "required": true, "item": {"type": "string"}}, {"type": "integer32", "name": "severity", "required": true}, {"type": "string", "name": "targetResourceRegion"}, {"type": "string", "name": "targetResourceType"}, {"type": "duration", "name": "windowSize", "required": true}], "clientFlatten": true}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "MetricAlertResource_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "object", "name": "properties", "required": true, "props": [{"type": "array<object>", "name": "actions", "arg": "$parameters.properties.actions", "item": {"type": "object", "props": [{"type": "string", "name": "actionGroupId", "arg": "$parameters.properties.actions[].actionGroupId"}, {"type": "object", "name": "webHookProperties", "arg": "$parameters.properties.actions[].webHookProperties", "additionalProps": {"item": {"type": "string"}}}]}, "identifiers": ["actionGroupId"]}, {"type": "boolean", "name": "autoMitigate", "arg": "$parameters.properties.autoMitigate"}, {"type": "object", "name": "criteria", "arg": "$parameters.properties.criteria", "required": true, "props": [{"type": "string", "name": "odata.type", "required": true, "enum": {"items": [{"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"}, {"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria"}, {"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria"}]}}], "discriminators": [{"property": "odata.type", "value": "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf", "item": {"type": "object", "props": [{"type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion", "value": "DynamicThresholdCriterion"}, {"arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion", "value": "StaticThresholdCriterion"}]}}, {"type": "array<@MetricDimension_update>", "name": "dimensions", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].dimensions", "item": {"type": "@MetricDimension_update"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricName", "required": true}, {"type": "string", "name": "metricNamespace", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].metricNamespace"}, {"type": "string", "name": "name", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].name", "required": true}, {"type": "boolean", "name": "skipMetricValidation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].skipMetricValidation"}, {"type": "string", "name": "timeAggregation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}], "discriminators": [{"property": "criterionType", "value": "DynamicThresholdCriterion", "props": [{"type": "string", "name": "alertSensitivity", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.alertSensitivity", "required": true, "enum": {"items": [{"value": "High"}, {"value": "Low"}, {"value": "Medium"}]}}, {"type": "object", "name": "failingPeriods", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods", "required": true, "props": [{"type": "float", "name": "minFailingPeriodsToAlert", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.minFailingPeriodsToAlert", "required": true}, {"type": "float", "name": "numberOfEvaluationPeriods", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.failingPeriods.numberOfEvaluationPeriods", "required": true}]}, {"type": "dateTime", "name": "ignoreDataBefore", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.ignoreDataBefore"}, {"type": "string", "name": "operator", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].DynamicThresholdCriterion.operator", "required": true, "enum": {"items": [{"value": "GreaterOrLessThan"}, {"value": "GreaterThan"}, {"value": "LessThan"}]}}]}, {"property": "criterionType", "value": "StaticThresholdCriterion", "props": [{"type": "string", "name": "operator", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "float64", "name": "threshold", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_MultipleResourceMultipleMetricCriteria.allOf[].StaticThresholdCriterion.threshold", "required": true}]}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "props": [{"type": "array<object>", "name": "allOf", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf", "item": {"type": "object", "props": [{"const": true, "default": {"value": "StaticThresholdCriterion"}, "type": "string", "name": "criterionType", "required": true, "enum": {"items": [{"value": "DynamicThresholdCriterion"}, {"value": "StaticThresholdCriterion"}]}}, {"type": "array<object>", "name": "dimensions", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].dimensions", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "@MetricDimension_update.name", "required": true}, {"type": "string", "name": "operator", "arg": "@MetricDimension_update.operator", "required": true}, {"type": "array<string>", "name": "values", "arg": "@MetricDimension_update.values", "required": true, "item": {"type": "string"}}], "cls": "MetricDimension_update"}, "identifiers": ["name"]}, {"type": "string", "name": "metricName", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricName", "required": true}, {"type": "string", "name": "metricNamespace", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].metricNamespace"}, {"type": "string", "name": "name", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].name", "required": true}, {"type": "string", "name": "operator", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].operator", "required": true, "enum": {"items": [{"value": "Equals"}, {"value": "GreaterThan"}, {"value": "GreaterThanOrEqual"}, {"value": "LessThan"}, {"value": "LessThanOrEqual"}]}}, {"type": "boolean", "name": "skipMetricValidation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].skipMetricValidation"}, {"type": "float64", "name": "threshold", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].threshold", "required": true}, {"type": "string", "name": "timeAggregation", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_SingleResourceMultipleMetricCriteria.allOf[].timeAggregation", "required": true, "enum": {"items": [{"value": "Average"}, {"value": "Count"}, {"value": "Maximum"}, {"value": "Minimum"}, {"value": "Total"}]}}]}, "identifiers": ["name"]}]}, {"property": "odata.type", "value": "Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria", "props": [{"type": "string", "name": "componentId", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.componentId", "required": true}, {"type": "float", "name": "failedLocationCount", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.failedLocationCount", "required": true}, {"type": "string", "name": "webTestId", "arg": "$parameters.properties.criteria.Microsoft_Azure_Monitor_WebtestLocationAvailabilityCriteria.webTestId", "required": true}]}]}, {"type": "string", "name": "description", "arg": "$parameters.properties.description"}, {"type": "boolean", "name": "enabled", "arg": "$parameters.properties.enabled", "required": true}, {"type": "duration", "name": "evaluationFrequency", "arg": "$parameters.properties.evaluationFrequency", "required": true}, {"type": "array<string>", "name": "scopes", "arg": "$parameters.properties.scopes", "required": true, "item": {"type": "string"}}, {"type": "integer32", "name": "severity", "arg": "$parameters.properties.severity", "required": true}, {"type": "string", "name": "targetResourceRegion", "arg": "$parameters.properties.targetResourceRegion"}, {"type": "string", "name": "targetResourceType", "arg": "$parameters.properties.targetResourceType"}, {"type": "duration", "name": "windowSize", "arg": "$parameters.properties.windowSize", "required": true}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$parameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, {"operationId": "MetricAlerts_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "ruleName", "arg": "$Path.ruleName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2018-03-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "@MetricAlertResource_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}]}]}