{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}/resize", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9L3Jlc2l6ZQ==/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "commandGroups": [{"name": "hdinsightonaks cluster", "commands": [{"name": "resize", "version": "2023-06-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.hdinsight/clusterpools/{}/clusters/{}/resize", "version": "2023-06-01-preview", "swagger": "mgmt-plane/hdinsight/ResourceProviders/Microsoft.HDInsight/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuSERJbnNpZ2h0L2NsdXN0ZXJwb29scy97Y2x1c3RlclBvb2xOYW1lfS9jbHVzdGVycy97Y2x1c3Rlck5hbWV9L3Jlc2l6ZQ==/V/MjAyMy0wNi0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["cluster-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the HDInsight cluster."}}, {"type": "string", "var": "$Path.clusterPoolName", "options": ["cluster-pool-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster pool."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "ClusterResizeRequest", "args": [{"type": "ResourceLocation", "var": "$ClusterResizeRequest.location", "options": ["l", "location"], "required": true, "group": "ClusterResizeRequest", "help": {"short": "The geo-location where the resource lives"}}, {"type": "object", "var": "$ClusterResizeRequest.tags", "options": ["tags"], "group": "ClusterResizeRequest", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "integer32", "var": "$ClusterResizeRequest.properties.targetWorkerNodeCount", "options": ["target-worker-node-count"], "group": "Properties", "help": {"short": "Target node count of worker node."}}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "Clusters_Resize", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.HDInsight/clusterpools/{clusterPoolName}/clusters/{clusterName}/resize", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true}, {"type": "string", "name": "clusterPoolName", "arg": "$Path.clusterPoolName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-06-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "ClusterResizeRequest", "required": true, "props": [{"type": "ResourceLocation", "name": "location", "arg": "$ClusterResizeRequest.location", "required": true}, {"type": "object", "name": "properties", "props": [{"type": "integer32", "name": "targetWorkerNodeCount", "arg": "$ClusterResizeRequest.properties.targetWorkerNodeCount", "required": true}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$ClusterResizeRequest.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.HDInsight/clusterpools/{}/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "clusterProfile", "required": true, "props": [{"type": "object", "name": "authorizationProfile", "required": true, "props": [{"type": "array<string>", "name": "groupIds", "item": {"type": "string"}}, {"type": "array<string>", "name": "userIds", "item": {"type": "string"}}]}, {"type": "object", "name": "autoscaleProfile", "props": [{"type": "string", "name": "autoscaleType", "enum": {"items": [{"value": "LoadBased"}, {"value": "ScheduleBased"}]}}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "integer32", "name": "gracefulDecommissionTimeout"}, {"type": "object", "name": "loadBasedConfig", "props": [{"type": "integer32", "name": "cooldownPeriod"}, {"type": "integer32", "name": "maxNodes", "required": true}, {"type": "integer32", "name": "minNodes", "required": true}, {"type": "integer32", "name": "pollInterval"}, {"type": "array<object>", "name": "scalingRules", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "actionType", "required": true, "enum": {"items": [{"value": "scaledown"}, {"value": "scaleup"}]}}, {"type": "object", "name": "comparisonRule", "required": true, "props": [{"type": "string", "name": "operator", "required": true, "enum": {"items": [{"value": "greaterThan"}, {"value": "greaterThanOrEqual"}, {"value": "lessThan"}, {"value": "lessThanOrEqual"}]}}, {"type": "float", "name": "threshold", "required": true}]}, {"type": "integer32", "name": "evaluationCount", "required": true}, {"type": "string", "name": "scalingMetric", "required": true}]}}]}, {"type": "object", "name": "scheduleBasedConfig", "props": [{"type": "integer32", "name": "defaultCount", "required": true}, {"type": "array<object>", "name": "schedules", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true}, {"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "string", "name": "endTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}, {"type": "string", "name": "startTime", "required": true, "format": {"pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"}}]}}, {"type": "string", "name": "timeZone", "required": true}]}]}, {"type": "string", "name": "clusterVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})(?:\\.(0|[1-9][0-9]{0,18}))?$"}}, {"readOnly": true, "type": "array<object>", "name": "components", "item": {"type": "object", "props": [{"type": "string", "name": "name"}, {"type": "string", "name": "version"}]}}, {"readOnly": true, "type": "object", "name": "connectivityProfile", "props": [{"type": "array<object>", "name": "ssh", "item": {"type": "object", "props": [{"type": "string", "name": "endpoint", "required": true}]}}, {"type": "object", "name": "web", "required": true, "props": [{"type": "string", "name": "fqdn", "required": true}]}]}, {"type": "object", "name": "flinkProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "object", "name": "hive", "props": [{"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}]}]}, {"type": "@ComputeResourceDefinition_read", "name": "historyServer"}, {"type": "object", "name": "jobManager", "required": true, "props": [{"type": "float32", "name": "cpu", "required": true}, {"type": "integer64", "name": "memory", "required": true}], "cls": "ComputeResourceDefinition_read"}, {"type": "integer32", "name": "numReplicas"}, {"type": "object", "name": "storage", "required": true, "props": [{"type": "string", "name": "storageUri", "required": true, "format": {"pattern": "^(\\w{4,5})://(.*)@(.*).\\b(blob|dfs)\\b\\.core\\.windows\\.net$"}}, {"type": "string", "name": "storagekey", "secret": true}]}, {"type": "@ComputeResourceDefinition_read", "name": "taskManager", "required": true}]}, {"type": "object", "name": "identityProfile", "required": true, "props": [{"type": "string", "name": "msiClientId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "string", "name": "msiObjectId", "required": true, "format": {"pattern": "^[{(]?[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}[)}]?$"}}, {"type": "ResourceId", "name": "msiResourceId", "required": true}]}, {"type": "object", "name": "kafkaProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "llapProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "logAnalyticsProfile", "props": [{"type": "object", "name": "applicationLogs", "props": [{"type": "boolean", "name": "stdErrorEnabled"}, {"type": "boolean", "name": "stdOutEnabled"}]}, {"type": "boolean", "name": "enabled", "required": true}, {"type": "boolean", "name": "metricsEnabled"}]}, {"type": "string", "name": "ossVersion", "required": true, "format": {"pattern": "^(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})\\.(0|[1-9][0-9]{0,18})$"}}, {"type": "object", "name": "prometheusProfile", "props": [{"default": {"value": false}, "type": "boolean", "name": "enabled", "required": true}]}, {"type": "array<object>", "name": "scriptActionProfiles", "item": {"type": "object", "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "parameters"}, {"type": "array<string>", "name": "services", "required": true, "item": {"type": "string"}}, {"default": {"value": true}, "type": "boolean", "name": "shouldPersist"}, {"type": "integer32", "name": "timeoutInMinutes"}, {"type": "string", "name": "type", "required": true}, {"type": "string", "name": "url", "required": true, "format": {"pattern": "^(https)|(http)|(abfss)|(abfs)|(wasbs)|(wasb)://.*$"}}]}}, {"type": "object", "name": "secretsProfile", "props": [{"type": "ResourceId", "name": "keyVaultResourceId", "required": true}, {"type": "array<object>", "name": "secrets", "item": {"type": "object", "props": [{"type": "string", "name": "keyVaultObjectName", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9-]{1,126}$"}}, {"type": "string", "name": "referenceName", "required": true}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "Certificate"}, {"value": "Key"}, {"value": "Secret"}]}}, {"type": "string", "name": "version"}]}}]}, {"type": "array<object>", "name": "serviceConfigsProfiles", "item": {"type": "object", "props": [{"type": "array<object>", "name": "configs", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "component", "required": true}, {"type": "array<object>", "name": "files", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "content"}, {"type": "string", "name": "encoding", "enum": {"items": [{"value": "Base64"}, {"value": "None"}]}}, {"type": "string", "name": "fileName", "required": true}, {"type": "string", "name": "path"}, {"type": "object", "name": "values", "additionalProps": {"item": {"type": "string"}}}]}}]}}, {"type": "string", "name": "serviceName", "required": true}]}}, {"type": "object", "name": "sparkProfile", "props": [{"type": "string", "name": "defaultStorageUrl"}, {"type": "object", "name": "metastoreSpec", "props": [{"type": "string", "name": "dbName", "required": true}, {"type": "string", "name": "dbPasswordSecretName", "required": true}, {"type": "string", "name": "dbServerHost", "required": true}, {"type": "string", "name": "dbUserName", "required": true}, {"type": "string", "name": "keyVaultId", "required": true}, {"type": "string", "name": "thriftUrl"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "string", "name": "path", "required": true, "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}]}, {"type": "object", "name": "sshProfile", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"maximum": 5, "minimum": 0}}, {"readOnly": true, "type": "string", "name": "podPrefix"}]}, {"type": "object", "name": "stubProfile", "additionalProps": {"anyType": true}}, {"type": "object", "name": "trinoProfile", "props": [{"type": "object", "name": "catalogOptions", "props": [{"type": "array<object>", "name": "hive", "item": {"type": "object", "props": [{"type": "string", "name": "catalogName", "required": true, "format": {"minLength": 1}}, {"type": "string", "name": "metastoreDbConnectionPasswordSecret", "required": true}, {"type": "string", "name": "metastoreDbConnectionURL", "required": true}, {"type": "string", "name": "metastoreDbConnectionUserName", "required": true}, {"type": "string", "name": "metastoreWarehouseDir", "required": true}]}}]}, {"type": "object", "name": "coordinator", "props": [{"type": "object", "name": "debug", "props": [{"default": {"value": false}, "type": "boolean", "name": "enable"}, {"default": {"value": 8008}, "type": "integer32", "name": "port"}, {"default": {"value": false}, "type": "boolean", "name": "suspend"}], "cls": "TrinoDebugConfig_read", "clientFlatten": true}, {"default": {"value": true}, "type": "boolean", "name": "highAvailabilityEnabled"}]}, {"type": "object", "name": "userPluginsSpec", "props": [{"type": "array<object>", "name": "plugins", "item": {"type": "object", "props": [{"type": "boolean", "name": "enabled"}, {"type": "string", "name": "name", "format": {"minLength": 1}}, {"type": "string", "name": "path", "format": {"pattern": "^(https)|(abfss)://.*$", "minLength": 1}}]}}]}, {"type": "object", "name": "userTelemetrySpec", "props": [{"type": "object", "name": "storage", "props": [{"type": "string", "name": "hivecatalogName", "format": {"minLength": 1}}, {"default": {"value": "trinologs"}, "type": "string", "name": "hivecatalogSchema"}, {"default": {"value": 365}, "type": "integer32", "name": "partitionRetentionInDays"}, {"type": "string", "name": "path", "format": {"minLength": 1}}]}]}, {"type": "object", "name": "worker", "props": [{"type": "@TrinoDebugConfig_read", "name": "debug", "clientFlatten": true}]}]}]}, {"type": "string", "name": "clusterType", "required": true, "format": {"pattern": "^[a-zA-Z][a-zA-Z0-9]{0,31}$"}}, {"type": "object", "name": "computeProfile", "required": true, "props": [{"type": "array<object>", "name": "nodes", "required": true, "item": {"type": "object", "props": [{"type": "integer32", "name": "count", "required": true, "format": {"minimum": 1}}, {"type": "string", "name": "type", "required": true, "format": {"pattern": "^(head|Head|HEAD|worker|Worker|WORKER)$"}}, {"type": "string", "name": "vmSize", "required": true, "format": {"pattern": "^[a-zA-Z0-9_\\-]{0,256}$"}}]}}]}, {"readOnly": true, "type": "string", "name": "deploymentId"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "status"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"statusCode": [202], "header": {"items": [{"name": "location"}]}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}