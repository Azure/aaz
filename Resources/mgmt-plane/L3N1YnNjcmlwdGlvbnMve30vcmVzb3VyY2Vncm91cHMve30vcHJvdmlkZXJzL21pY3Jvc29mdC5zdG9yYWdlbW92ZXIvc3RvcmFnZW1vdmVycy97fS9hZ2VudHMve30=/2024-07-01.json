{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/agents/{}", "version": "2024-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2FnZW50cy97YWdlbnROYW1lfQ==/V/MjAyNC0wNy0wMQ=="}], "commandGroups": [{"name": "storage-mover agent", "commands": [{"name": "show", "version": "2024-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/agents/{}", "version": "2024-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2FnZW50cy97YWdlbnROYW1lfQ==/V/MjAyNC0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.agentName", "options": ["n", "name", "agent-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Agent resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "Agents_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/agents/{agentName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "agentName", "arg": "$Path.agentName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/agents/{}"}}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "agentStatus", "enum": {"items": [{"value": "Executing"}, {"value": "Offline"}, {"value": "Online"}, {"value": "Registering"}, {"value": "RequiresAttention"}, {"value": "Unregistering"}]}}, {"readOnly": true, "type": "string", "name": "agentVersion"}, {"type": "string", "name": "arcResourceId", "required": true}, {"type": "string", "name": "arcVmUuid", "required": true}, {"type": "string", "name": "description"}, {"readOnly": true, "type": "object", "name": "errorDetails", "props": [{"type": "string", "name": "code"}, {"type": "string", "name": "message"}]}, {"readOnly": true, "type": "dateTime", "name": "lastStatusUpdate"}, {"readOnly": true, "type": "string", "name": "localIPAddress"}, {"readOnly": true, "type": "integer64", "name": "memoryInMB"}, {"readOnly": true, "type": "integer64", "name": "numberOfCores"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "timeZone"}, {"type": "object", "name": "uploadLimitSchedule", "props": [{"type": "array<object>", "name": "weeklyRecurrences", "item": {"type": "object", "props": [{"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "@Time_read", "name": "endTime", "required": true}, {"type": "integer32", "name": "limitInMbps", "required": true, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "name": "startTime", "required": true, "props": [{"type": "integer32", "name": "hour", "required": true, "format": {"maximum": 24, "minimum": 0}}, {"default": {"value": 0}, "type": "integer32", "name": "minute", "enum": {"items": [{"value": 0}, {"value": 30}]}}], "cls": "Time_read"}]}}]}, {"readOnly": true, "type": "integer64", "name": "uptimeInSeconds"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "unregister", "version": "2024-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/agents/{}", "version": "2024-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2FnZW50cy97YWdlbnROYW1lfQ==/V/MjAyNC0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.agentName", "options": ["n", "name", "agent-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Agent resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "Agents_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/agents/{agentName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "agentName", "arg": "$Path.agentName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202]}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "WARNING: Deleting this agent will stop ongoing migrations on this agent. Job definitions that reference this agent canâ€™t be started until their agent reference is updated to a working agent. Registering this agent again will result in a new identity and not fix existing job definitions. Note that the Azure ARC trust is not broken. The Hybrid Compute resource must be manually removed to invalidate the agent identity that may still be allowed access to target storage containers. \nAre you sure you want to delete this storage mover agent?"}, {"name": "create", "version": "2024-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/agents/{}", "version": "2024-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2FnZW50cy97YWdlbnROYW1lfQ==/V/MjAyNC0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.agentName", "options": ["n", "name", "agent-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Agent resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Properties", "args": [{"type": "string", "var": "$agent.properties.arcResourceId", "options": ["arc-resource-id"], "required": true, "group": "Properties", "help": {"short": "The fully qualified resource ID of the Hybrid Compute resource for the Agent."}}, {"type": "string", "var": "$agent.properties.arcVmUuid", "options": ["arc-vm-uuid"], "required": true, "group": "Properties", "help": {"short": "The VM UUID of the Hybrid Compute resource for the Agent."}}, {"type": "string", "var": "$agent.properties.description", "options": ["description"], "group": "Properties", "help": {"short": "A description for the Agent."}}, {"type": "object", "var": "$agent.properties.uploadLimitSchedule", "options": ["upload-limit-schedule"], "group": "Properties", "help": {"short": "The WAN-link upload limit schedule that applies to any Job Run the agent executes. Data plane operations (migrating files) are affected. Control plane operations ensure seamless migration functionality and are not limited by this schedule. The schedule is interpreted with the agent's local time."}, "args": [{"type": "array<object>", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences", "options": ["weekly-recurrences"], "help": {"short": "The set of weekly repeating recurrences of the WAN-link upload limit schedule."}, "item": {"type": "object", "args": [{"type": "array<string>", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].days", "options": ["days"], "required": true, "help": {"short": "The set of days of week for the schedule recurrence. A day must not be specified more than once in a recurrence."}, "item": {"type": "string", "enum": {"items": [{"name": "Friday", "value": "Friday"}, {"name": "Monday", "value": "Monday"}, {"name": "Saturday", "value": "Saturday"}, {"name": "Sunday", "value": "Sunday"}, {"name": "Thursday", "value": "Thursday"}, {"name": "Tuesday", "value": "Tuesday"}, {"name": "Wednesday", "value": "Wednesday"}]}}}, {"type": "@Time_create", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].endTime", "options": ["end-time"], "required": true, "help": {"short": "The end time of the schedule recurrence. Full hour and 30-minute intervals are supported."}}, {"type": "integer32", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].limitInMbps", "options": ["limit-in-mbps"], "required": true, "help": {"short": "The WAN-link upload bandwidth (maximum data transfer rate) in megabits per second. Value of 0 indicates no throughput is allowed and any running migration job is effectively paused for the duration of this recurrence. Only data plane operations are governed by this limit. Control plane operations ensure seamless functionality. The agent may exceed this limit with control messages, if necessary."}, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].startTime", "options": ["start-time"], "required": true, "help": {"short": "The start time of the schedule recurrence. Full hour and 30-minute intervals are supported."}, "args": [{"type": "integer32", "var": "@Time_create.hour", "options": ["hour"], "required": true, "help": {"short": "The hour element of the time. Allowed values range from 0 (start of the selected day) to 24 (end of the selected day). Hour value 24 cannot be combined with any other minute value but 0."}, "format": {"maximum": 24, "minimum": 0}}, {"type": "integer32", "var": "@Time_create.minute", "options": ["minute"], "help": {"short": "The minute element of the time. Allowed values are 0 and 30. If not specified, its value defaults to 0."}, "default": {"value": 0}, "enum": {"items": [{"name": "0", "value": 0}, {"name": "30", "value": 30}]}}], "cls": "Time_create"}]}}]}]}], "operations": [{"operationId": "Agents_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/agents/{agentName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "agentName", "arg": "$Path.agentName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "agent", "required": true, "props": [{"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "arcResourceId", "arg": "$agent.properties.arcResourceId", "required": true}, {"type": "string", "name": "arcVmUuid", "arg": "$agent.properties.arcVmUuid", "required": true}, {"type": "string", "name": "description", "arg": "$agent.properties.description"}, {"type": "object", "name": "uploadLimitSchedule", "arg": "$agent.properties.uploadLimitSchedule", "props": [{"type": "array<object>", "name": "weeklyRecurrences", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences", "item": {"type": "object", "props": [{"type": "array<string>", "name": "days", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "@Time_create", "name": "endTime", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].endTime", "required": true}, {"type": "integer32", "name": "limitInMbps", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].limitInMbps", "required": true, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "name": "startTime", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].startTime", "required": true, "props": [{"type": "integer32", "name": "hour", "arg": "@Time_create.hour", "required": true, "format": {"maximum": 24, "minimum": 0}}, {"default": {"value": 0}, "type": "integer32", "name": "minute", "arg": "@Time_create.minute", "enum": {"items": [{"value": 0}, {"value": 30}]}}], "cls": "Time_create"}]}}]}], "clientFlatten": true}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/agents/{}"}}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "agentStatus", "enum": {"items": [{"value": "Executing"}, {"value": "Offline"}, {"value": "Online"}, {"value": "Registering"}, {"value": "RequiresAttention"}, {"value": "Unregistering"}]}}, {"readOnly": true, "type": "string", "name": "agentVersion"}, {"type": "string", "name": "arcResourceId", "required": true}, {"type": "string", "name": "arcVmUuid", "required": true}, {"type": "string", "name": "description"}, {"readOnly": true, "type": "object", "name": "errorDetails", "props": [{"type": "string", "name": "code"}, {"type": "string", "name": "message"}]}, {"readOnly": true, "type": "dateTime", "name": "lastStatusUpdate"}, {"readOnly": true, "type": "string", "name": "localIPAddress"}, {"readOnly": true, "type": "integer64", "name": "memoryInMB"}, {"readOnly": true, "type": "integer64", "name": "numberOfCores"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "timeZone"}, {"type": "object", "name": "uploadLimitSchedule", "props": [{"type": "array<object>", "name": "weeklyRecurrences", "item": {"type": "object", "props": [{"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "@Time_read", "name": "endTime", "required": true}, {"type": "integer32", "name": "limitInMbps", "required": true, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "name": "startTime", "required": true, "props": [{"type": "integer32", "name": "hour", "required": true, "format": {"maximum": 24, "minimum": 0}}, {"default": {"value": 0}, "type": "integer32", "name": "minute", "enum": {"items": [{"value": 0}, {"value": 30}]}}], "cls": "Time_read"}]}}]}, {"readOnly": true, "type": "integer64", "name": "uptimeInSeconds"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2024-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/agents/{}", "version": "2024-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2FnZW50cy97YWdlbnROYW1lfQ==/V/MjAyNC0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.agentName", "options": ["n", "name", "agent-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Agent resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Properties", "args": [{"nullable": true, "type": "string", "var": "$agent.properties.description", "options": ["description"], "group": "Properties", "help": {"short": "A description for the Agent."}}, {"nullable": true, "type": "object", "var": "$agent.properties.uploadLimitSchedule", "options": ["upload-limit-schedule"], "group": "Properties", "help": {"short": "The WAN-link upload limit schedule that applies to any Job Run the agent executes. Data plane operations (migrating files) are affected. Control plane operations ensure seamless migration functionality and are not limited by this schedule. The schedule is interpreted with the agent's local time."}, "args": [{"nullable": true, "type": "array<object>", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences", "options": ["weekly-recurrences"], "help": {"short": "The set of weekly repeating recurrences of the WAN-link upload limit schedule."}, "item": {"nullable": true, "type": "object", "args": [{"type": "array<string>", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].days", "options": ["days"], "help": {"short": "The set of days of week for the schedule recurrence. A day must not be specified more than once in a recurrence."}, "item": {"nullable": true, "type": "string", "enum": {"items": [{"name": "Friday", "value": "Friday"}, {"name": "Monday", "value": "Monday"}, {"name": "Saturday", "value": "Saturday"}, {"name": "Sunday", "value": "Sunday"}, {"name": "Thursday", "value": "Thursday"}, {"name": "Tuesday", "value": "Tuesday"}, {"name": "Wednesday", "value": "Wednesday"}]}}}, {"type": "@Time_update", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].endTime", "options": ["end-time"], "help": {"short": "The end time of the schedule recurrence. Full hour and 30-minute intervals are supported."}}, {"type": "integer32", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].limitInMbps", "options": ["limit-in-mbps"], "help": {"short": "The WAN-link upload bandwidth (maximum data transfer rate) in megabits per second. Value of 0 indicates no throughput is allowed and any running migration job is effectively paused for the duration of this recurrence. Only data plane operations are governed by this limit. Control plane operations ensure seamless functionality. The agent may exceed this limit with control messages, if necessary."}, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "var": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].startTime", "options": ["start-time"], "help": {"short": "The start time of the schedule recurrence. Full hour and 30-minute intervals are supported."}, "args": [{"type": "integer32", "var": "@Time_update.hour", "options": ["hour"], "help": {"short": "The hour element of the time. Allowed values range from 0 (start of the selected day) to 24 (end of the selected day). Hour value 24 cannot be combined with any other minute value but 0."}, "format": {"maximum": 24, "minimum": 0}}, {"nullable": true, "type": "integer32", "var": "@Time_update.minute", "options": ["minute"], "help": {"short": "The minute element of the time. Allowed values are 0 and 30. If not specified, its value defaults to 0."}, "enum": {"items": [{"name": "0", "value": 0}, {"name": "30", "value": 30}]}}], "cls": "Time_update"}]}}]}]}], "operations": [{"operationId": "Agents_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/agents/{agentName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "agentName", "arg": "$Path.agentName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/agents/{}"}}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"readOnly": true, "type": "string", "name": "agentStatus", "enum": {"items": [{"value": "Executing"}, {"value": "Offline"}, {"value": "Online"}, {"value": "Registering"}, {"value": "RequiresAttention"}, {"value": "Unregistering"}]}}, {"readOnly": true, "type": "string", "name": "agentVersion"}, {"type": "string", "name": "arcResourceId", "required": true}, {"type": "string", "name": "arcVmUuid", "required": true}, {"type": "string", "name": "description"}, {"readOnly": true, "type": "object", "name": "errorDetails", "props": [{"type": "string", "name": "code"}, {"type": "string", "name": "message"}]}, {"readOnly": true, "type": "dateTime", "name": "lastStatusUpdate"}, {"readOnly": true, "type": "string", "name": "localIPAddress"}, {"readOnly": true, "type": "integer64", "name": "memoryInMB"}, {"readOnly": true, "type": "integer64", "name": "numberOfCores"}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}, {"readOnly": true, "type": "string", "name": "timeZone"}, {"type": "object", "name": "uploadLimitSchedule", "props": [{"type": "array<object>", "name": "weeklyRecurrences", "item": {"type": "object", "props": [{"type": "array<string>", "name": "days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "@Time_read", "name": "endTime", "required": true}, {"type": "integer32", "name": "limitInMbps", "required": true, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "name": "startTime", "required": true, "props": [{"type": "integer32", "name": "hour", "required": true, "format": {"maximum": 24, "minimum": 0}}, {"default": {"value": 0}, "type": "integer32", "name": "minute", "enum": {"items": [{"value": 0}, {"value": 30}]}}], "cls": "Time_read"}]}}]}, {"readOnly": true, "type": "integer64", "name": "uptimeInSeconds"}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Agent_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "agent", "required": true, "props": [{"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description", "arg": "$agent.properties.description"}, {"type": "object", "name": "uploadLimitSchedule", "arg": "$agent.properties.uploadLimitSchedule", "props": [{"type": "array<object>", "name": "weeklyRecurrences", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences", "item": {"type": "object", "props": [{"type": "array<string>", "name": "days", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].days", "required": true, "item": {"type": "string", "enum": {"items": [{"value": "Friday"}, {"value": "Monday"}, {"value": "Saturday"}, {"value": "Sunday"}, {"value": "Thursday"}, {"value": "Tuesday"}, {"value": "Wednesday"}]}}}, {"type": "@Time_update", "name": "endTime", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].endTime", "required": true}, {"type": "integer32", "name": "limitInMbps", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].limitInMbps", "required": true, "format": {"maximum": 2147483647, "minimum": 0}}, {"type": "object", "name": "startTime", "arg": "$agent.properties.uploadLimitSchedule.weeklyRecurrences[].startTime", "required": true, "props": [{"type": "integer32", "name": "hour", "arg": "@Time_update.hour", "required": true, "format": {"maximum": 24, "minimum": 0}}, {"default": {"value": 0}, "type": "integer32", "name": "minute", "arg": "@Time_update.minute", "enum": {"items": [{"value": 0}, {"value": 30}]}}], "cls": "Time_update"}]}}]}], "clientFlatten": true}], "clientFlatten": true}}}}, {"operationId": "Agents_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/agents/{agentName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "agentName", "arg": "$Path.agentName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "@Agent_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}]}]}