{"plane": "mgmt-plane", "resources": [{"id": "/providers/microsoft.capacity/reservationorders/{}/calculaterefund", "version": "2022-11-01", "swagger": "mgmt-plane/reservations/ResourceProviders/Microsoft.Capacity/Paths/L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ2FwYWNpdHkvcmVzZXJ2YXRpb25PcmRlcnMve3Jlc2VydmF0aW9uT3JkZXJJZH0vY2FsY3VsYXRlUmVmdW5k/V/MjAyMi0xMS0wMQ=="}], "commandGroups": [{"name": "reservations reservation-order", "commands": [{"name": "calculate-refund", "version": "2022-11-01", "resources": [{"id": "/providers/microsoft.capacity/reservationorders/{}/calculaterefund", "version": "2022-11-01", "swagger": "mgmt-plane/reservations/ResourceProviders/Microsoft.Capacity/Paths/L3Byb3ZpZGVycy9NaWNyb3NvZnQuQ2FwYWNpdHkvcmVzZXJ2YXRpb25PcmRlcnMve3Jlc2VydmF0aW9uT3JkZXJJZH0vY2FsY3VsYXRlUmVmdW5k/V/MjAyMi0xMS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.reservationOrderId", "options": ["reservation-order-id"], "required": true, "help": {"short": "Order Id of the reservation"}}]}, {"name": "Body", "args": [{"type": "string", "var": "$body.id", "options": ["id"], "group": "Body", "help": {"short": "Fully qualified identifier of the reservation order being returned"}}]}, {"name": "Properties", "args": [{"type": "string", "var": "$body.properties.scope", "options": ["scope"], "group": "Properties", "help": {"short": "The scope of the refund, e.g. Reservation"}}]}, {"name": "ReservationToReturn", "args": [{"type": "integer32", "var": "$body.properties.reservationToReturn.quantity", "options": ["quantity"], "group": "ReservationToReturn", "help": {"short": "Quantity to be returned. Must be greater than zero."}}, {"type": "string", "var": "$body.properties.reservationToReturn.reservationId", "options": ["reservation-id"], "group": "ReservationToReturn", "help": {"short": "Fully qualified identifier of the Reservation being returned"}}]}], "operations": [{"operationId": "CalculateRefund_Post", "http": {"path": "/providers/Microsoft.Capacity/reservationOrders/{reservationOrderId}/calculateRefund", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "reservationOrderId", "arg": "$Path.reservationOrderId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2022-11-01"}, "type": "string", "name": "api-version", "required": true}]}, "body": {"json": {"schema": {"type": "object", "name": "body", "required": true, "props": [{"type": "string", "name": "id", "arg": "$body.id"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "reservationToReturn", "props": [{"type": "integer32", "name": "quantity", "arg": "$body.properties.reservationToReturn.quantity"}, {"type": "string", "name": "reservationId", "arg": "$body.properties.reservationToReturn.reservationId"}]}, {"type": "string", "name": "scope", "arg": "$body.properties.scope"}]}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "id"}, {"type": "object", "name": "properties", "props": [{"type": "object", "name": "billingInformation", "props": [{"type": "@Price_read", "name": "billingCurrencyProratedAmount"}, {"type": "@Price_read", "name": "billingCurrencyRemainingCommitmentAmount"}, {"type": "@Price_read", "name": "billingCurrencyTotalPaidAmount"}, {"type": "string", "name": "billingPlan", "enum": {"items": [{"value": "Monthly"}, {"value": "Upfront"}]}}, {"type": "integer32", "name": "completedTransactions"}, {"type": "integer32", "name": "totalTransactions"}]}, {"type": "object", "name": "billingRefundAmount", "props": [{"type": "float64", "name": "amount"}, {"type": "string", "name": "currencyCode"}], "cls": "Price_read"}, {"type": "object", "name": "policyResult", "props": [{"type": "object", "name": "properties", "props": [{"type": "@Price_read", "name": "consumedRefundsTotal"}, {"type": "@Price_read", "name": "maxRefundLimit"}, {"type": "array<object>", "name": "policyErrors", "item": {"type": "object", "props": [{"type": "string", "name": "code", "enum": {"items": [{"value": "ActivateQuoteFailed"}, {"value": "AppliedScopesNotAssociatedWithCommerceAccount"}, {"value": "AppliedScopesSameAsExisting"}, {"value": "AuthorizationFailed"}, {"value": "BadRequest"}, {"value": "BillingCustomerInputError"}, {"value": "BillingError"}, {"value": "BillingPaymentInstrumentHardError"}, {"value": "BillingPaymentInstrumentSoftError"}, {"value": "BillingScopeIdCannotBeChanged"}, {"value": "BillingTransientError"}, {"value": "CalculatePriceFailed"}, {"value": "CapacityUpdateScopesFailed"}, {"value": "ClientCertificateThumbprintNotSet"}, {"value": "CreateQuoteFailed"}, {"value": "Forbidden"}, {"value": "FulfillmentConfigurationError"}, {"value": "FulfillmentError"}, {"value": "FulfillmentOutOfStockError"}, {"value": "FulfillmentTransientError"}, {"value": "HttpMethodNotSupported"}, {"value": "InternalServerError"}, {"value": "InvalidAccessToken"}, {"value": "InvalidFulfillmentRequestParameters"}, {"value": "InvalidHealthCheckType"}, {"value": "InvalidLocationId"}, {"value": "InvalidRefundQuantity"}, {"value": "InvalidRequestContent"}, {"value": "InvalidRequestUri"}, {"value": "InvalidReservationId"}, {"value": "InvalidReservationOrderId"}, {"value": "InvalidSingleAppliedScopesCount"}, {"value": "InvalidSubscriptionId"}, {"value": "InvalidTenantId"}, {"value": "MissingAppliedScopesForSingle"}, {"value": "MissingTenantId"}, {"value": "NoValidReservationsToReRate"}, {"value": "NonsupportedAccountId"}, {"value": "NotSpecified"}, {"value": "NotSupportedCountry"}, {"value": "OperationCannotBePerformedInCurrentState"}, {"value": "OperationFailed"}, {"value": "PatchValuesSameAsExisting"}, {"value": "PaymentInstrumentNotFound"}, {"value": "PurchaseError"}, {"value": "ReRateOnlyAllowedForEA"}, {"value": "RefundLimitExceeded"}, {"value": "ReservationIdNotInReservationOrder"}, {"value": "ReservationOrderCreationFailed"}, {"value": "ReservationOrderIdAlreadyExists"}, {"value": "ReservationOrderNotEnabled"}, {"value": "ReservationOrderNotFound"}, {"value": "RiskCheckFailed"}, {"value": "RoleAssignmentCreationFailed"}, {"value": "SelfServiceRefundNotSupported"}, {"value": "ServerTimeout"}, {"value": "UnauthenticatedRequestsThrottled"}, {"value": "UnsupportedReservationTerm"}]}}, {"type": "string", "name": "message"}]}}]}]}, {"type": "@Price_read", "name": "pricingRefundAmount"}, {"type": "integer32", "name": "quantity"}, {"type": "string", "name": "sessionId"}]}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}