{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "commandGroups": [{"name": "storage-mover endpoint", "commands": [{"name": "show", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "Endpoints_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/endpoints/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"readOnly": true, "type": "uuid", "name": "principalId"}, {"readOnly": true, "type": "uuid", "name": "tenantId"}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"value": "AzureMultiCloudConnector"}, {"value": "AzureStorageBlobContainer"}, {"value": "AzureStorageNfsFileShare"}, {"value": "AzureStorageSmbFileShare"}, {"value": "NfsMount"}, {"value": "SmbMount"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "required": true}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "props": [{"type": "string", "name": "passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri"}]}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "shareName", "required": true}]}]}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "delete", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "Endpoints_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202], "header": {"items": [{"name": "Location"}, {"name": "Retry-After"}]}}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "create", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Identity", "args": [{"blank": {"value": "True"}, "type": "string", "var": "$endpoint.identity.systemAssigned", "options": ["system-assigned", "mi-system-assigned"], "group": "Identity", "help": {"short": "Set the system managed identity."}}, {"type": "string", "var": "$endpoint.identity.type", "options": ["type"], "hide": true, "group": "Identity", "help": {"short": "Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed)."}, "enum": {"items": [{"name": "None", "value": "None"}, {"name": "SystemAssigned", "value": "SystemAssigned"}, {"name": "SystemAssigned,UserAssigned", "value": "SystemAssigned,UserAssigned"}, {"name": "UserAssigned", "value": "UserAssigned"}]}}, {"blank": {"value": []}, "type": "array<string>", "var": "$endpoint.identity.userAssigned", "options": ["user-assigned", "mi-user-assigned"], "group": "Identity", "help": {"short": "Set the user managed identities."}, "item": {"type": "string"}}, {"type": "object", "var": "$endpoint.identity.userAssignedIdentities", "options": ["user-assigned-identities"], "hide": true, "group": "Identity", "help": {"short": "The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."}, "additionalProps": {"item": {"blank": {"value": {}}, "type": "object"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$endpoint.properties.AzureMultiCloudConnector", "options": ["azure-multi-cloud-connector"], "group": "Properties", "args": [{"type": "ResourceId", "var": "$endpoint.properties.AzureMultiCloudConnector.awsS3BucketId", "options": ["aws-s3-bucket-id"], "required": true, "help": {"short": "The AWS S3 bucket ARM resource Id."}}, {"type": "ResourceId", "var": "$endpoint.properties.AzureMultiCloudConnector.multiCloudConnectorId", "options": ["multi-cloud-connector-id"], "required": true, "help": {"short": "The Azure Resource ID of the MultiCloud Connector resource."}}]}, {"type": "object", "var": "$endpoint.properties.AzureStorageBlobContainer", "options": ["storage-blob-container"], "group": "Properties", "help": {"short": "Storage Blob Container Object"}, "args": [{"type": "string", "var": "$endpoint.properties.AzureStorageBlobContainer.blobContainerName", "options": ["blob-container-name"], "required": true, "help": {"short": "The name of the Storage blob container that is the target destination."}}, {"type": "ResourceId", "var": "$endpoint.properties.AzureStorageBlobContainer.storageAccountResourceId", "options": ["storage-account-resource-id"], "required": true, "help": {"short": "The Azure Resource ID of the storage account that is the target destination."}}]}, {"type": "object", "var": "$endpoint.properties.AzureStorageNfsFileShare", "options": ["azure-storage-nfs-file-share"], "group": "Properties", "args": [{"type": "string", "var": "$endpoint.properties.AzureStorageNfsFileShare.fileShareName", "options": ["file-share-name"], "required": true, "help": {"short": "The name of the Azure Storage NFS file share."}}, {"type": "ResourceId", "var": "$endpoint.properties.AzureStorageNfsFileShare.storageAccountResourceId", "options": ["storage-account-resource-id"], "required": true, "help": {"short": "The Azure Resource ID of the storage account."}}]}, {"type": "object", "var": "$endpoint.properties.AzureStorageSmbFileShare", "options": ["azure-storage-smb-file-share"], "group": "Properties", "args": [{"type": "string", "var": "$endpoint.properties.AzureStorageSmbFileShare.fileShareName", "options": ["file-share-name"], "required": true, "help": {"short": "The name of the Azure Storage file share."}}, {"type": "ResourceId", "var": "$endpoint.properties.AzureStorageSmbFileShare.storageAccountResourceId", "options": ["storage-account-resource-id"], "required": true, "help": {"short": "The Azure Resource ID of the storage account."}}]}, {"type": "object", "var": "$endpoint.properties.NfsMount", "options": ["nfs-mount"], "group": "Properties", "args": [{"type": "string", "var": "$endpoint.properties.NfsMount.export", "options": ["export"], "required": true, "help": {"short": "The directory being exported from the server."}}, {"type": "string", "var": "$endpoint.properties.NfsMount.host", "options": ["host"], "required": true, "help": {"short": "The host name or IP address of the server exporting the file system."}}, {"type": "string", "var": "$endpoint.properties.NfsMount.nfsVersion", "options": ["nfs-version"], "help": {"short": "The NFS protocol version."}, "enum": {"items": [{"name": "NFSauto", "value": "NFSauto"}, {"name": "NFSv3", "value": "NFSv3"}, {"name": "NFSv4", "value": "NFSv4"}]}}]}, {"type": "object", "var": "$endpoint.properties.SmbMount", "options": ["smb-mount"], "group": "Properties", "args": [{"type": "object", "var": "$endpoint.properties.SmbMount.credentials", "options": ["credentials"], "help": {"short": "The Azure Key Vault secret URIs which store the required credentials to access the SMB share."}, "args": [{"type": "string", "var": "$endpoint.properties.SmbMount.credentials.passwordUri", "options": ["password-uri"], "help": {"short": "The Azure Key Vault secret URI which stores the password. Use empty string to clean-up existing value."}}, {"type": "string", "var": "$endpoint.properties.SmbMount.credentials.usernameUri", "options": ["username-uri"], "help": {"short": "The Azure Key Vault secret URI which stores the username. Use empty string to clean-up existing value."}}]}, {"type": "string", "var": "$endpoint.properties.SmbMount.host", "options": ["host"], "required": true, "help": {"short": "The host name or IP address of the server exporting the file system."}}, {"type": "string", "var": "$endpoint.properties.SmbMount.shareName", "options": ["share-name"], "required": true, "help": {"short": "The name of the SMB share being exported from the server."}}]}, {"type": "string", "var": "$endpoint.properties.description", "options": ["description"], "group": "Properties", "help": {"short": "A description for the Endpoint."}}]}], "operations": [{"operationId": "Endpoints_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "endpoint", "required": true, "props": [{"type": "IdentityObject", "name": "identity", "props": [{"type": "string", "name": "type", "arg": "$endpoint.identity.type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "arg": "$endpoint.identity.userAssignedIdentities", "additionalProps": {"item": {"type": "object"}}}], "userAssigned": {"action": "create", "type": "array<string>", "name": "userAssigned", "arg": "$endpoint.identity.userAssigned", "item": {"action": "create", "type": "string"}}, "systemAssigned": {"action": "create", "type": "string", "name": "systemAssigned", "arg": "$endpoint.identity.systemAssigned"}}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description", "arg": "$endpoint.properties.description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"arg": "$endpoint.properties.AzureMultiCloudConnector", "value": "AzureMultiCloudConnector"}, {"arg": "$endpoint.properties.AzureStorageBlobContainer", "value": "AzureStorageBlobContainer"}, {"arg": "$endpoint.properties.AzureStorageNfsFileShare", "value": "AzureStorageNfsFileShare"}, {"arg": "$endpoint.properties.AzureStorageSmbFileShare", "value": "AzureStorageSmbFileShare"}, {"arg": "$endpoint.properties.NfsMount", "value": "NfsMount"}, {"arg": "$endpoint.properties.SmbMount", "value": "SmbMount"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "arg": "$endpoint.properties.AzureMultiCloudConnector.awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "arg": "$endpoint.properties.AzureMultiCloudConnector.multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "arg": "$endpoint.properties.AzureStorageBlobContainer.blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "arg": "$endpoint.properties.AzureStorageBlobContainer.storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "arg": "$endpoint.properties.AzureStorageNfsFileShare.fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "arg": "$endpoint.properties.AzureStorageNfsFileShare.storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "arg": "$endpoint.properties.AzureStorageSmbFileShare.fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "arg": "$endpoint.properties.AzureStorageSmbFileShare.storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "arg": "$endpoint.properties.NfsMount.export", "required": true}, {"type": "string", "name": "host", "arg": "$endpoint.properties.NfsMount.host", "required": true}, {"type": "string", "name": "nfsVersion", "arg": "$endpoint.properties.NfsMount.nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "arg": "$endpoint.properties.SmbMount.credentials", "props": [{"type": "string", "name": "passwordUri", "arg": "$endpoint.properties.SmbMount.credentials.passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri", "arg": "$endpoint.properties.SmbMount.credentials.usernameUri"}]}, {"type": "string", "name": "host", "arg": "$endpoint.properties.SmbMount.host", "required": true}, {"type": "string", "name": "shareName", "arg": "$endpoint.properties.SmbMount.shareName", "required": true}]}]}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/endpoints/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"readOnly": true, "type": "uuid", "name": "principalId"}, {"readOnly": true, "type": "uuid", "name": "tenantId"}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"value": "AzureMultiCloudConnector"}, {"value": "AzureStorageBlobContainer"}, {"value": "AzureStorageNfsFileShare"}, {"value": "AzureStorageSmbFileShare"}, {"value": "NfsMount"}, {"value": "SmbMount"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "required": true}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "props": [{"type": "string", "name": "passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri"}]}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "shareName", "required": true}]}]}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Identity", "args": [{"type": "string", "var": "$endpoint.identity.type", "options": ["type"], "hide": true, "group": "Identity", "help": {"short": "Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed)."}, "enum": {"items": [{"name": "None", "value": "None"}, {"name": "SystemAssigned", "value": "SystemAssigned"}, {"name": "SystemAssigned,UserAssigned", "value": "SystemAssigned,UserAssigned"}, {"name": "UserAssigned", "value": "UserAssigned"}]}}, {"nullable": true, "type": "object", "var": "$endpoint.identity.userAssignedIdentities", "options": ["user-assigned-identities"], "hide": true, "group": "Identity", "help": {"short": "The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."}, "additionalProps": {"item": {"nullable": true, "blank": {"value": {}}, "type": "object"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$endpoint.properties.AzureMultiCloudConnector", "options": ["azure-multi-cloud-connector"], "group": "Properties", "args": [{"type": "ResourceId", "var": "$endpoint.properties.AzureMultiCloudConnector.awsS3BucketId", "options": ["aws-s3-bucket-id"], "help": {"short": "The AWS S3 bucket ARM resource Id."}}]}, {"type": "object", "var": "$endpoint.properties.SmbMount", "options": ["smb-mount"], "group": "Properties", "args": [{"nullable": true, "type": "object", "var": "$endpoint.properties.SmbMount.credentials", "options": ["credentials"], "help": {"short": "The Azure Key Vault secret URIs which store the required credentials to access the SMB share."}, "args": [{"nullable": true, "type": "string", "var": "$endpoint.properties.SmbMount.credentials.passwordUri", "options": ["password-uri"], "help": {"short": "The Azure Key Vault secret URI which stores the password. Use empty string to clean-up existing value."}}, {"nullable": true, "type": "string", "var": "$endpoint.properties.SmbMount.credentials.usernameUri", "options": ["username-uri"], "help": {"short": "The Azure Key Vault secret URI which stores the username. Use empty string to clean-up existing value."}}]}]}, {"nullable": true, "type": "string", "var": "$endpoint.properties.description", "options": ["description"], "group": "Properties", "help": {"short": "A description for the Endpoint."}}]}], "operations": [{"operationId": "Endpoints_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/endpoints/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"readOnly": true, "type": "uuid", "name": "principalId"}, {"readOnly": true, "type": "uuid", "name": "tenantId"}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"value": "AzureMultiCloudConnector"}, {"value": "AzureStorageBlobContainer"}, {"value": "AzureStorageNfsFileShare"}, {"value": "AzureStorageSmbFileShare"}, {"value": "NfsMount"}, {"value": "SmbMount"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "required": true}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "props": [{"type": "string", "name": "passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri"}]}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "shareName", "required": true}]}]}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Instance", "json": {"schema": {"type": "object", "name": "endpoint", "required": true, "props": [{"type": "IdentityObject", "name": "identity", "props": [{"type": "string", "name": "type", "arg": "$endpoint.identity.type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "arg": "$endpoint.identity.userAssignedIdentities", "additionalProps": {"item": {"type": "object"}}}]}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description", "arg": "$endpoint.properties.description"}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "arg": "$endpoint.properties.AzureMultiCloudConnector.awsS3BucketId", "required": true}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "arg": "$endpoint.properties.SmbMount.credentials", "props": [{"type": "string", "name": "passwordUri", "arg": "$endpoint.properties.SmbMount.credentials.passwordUri"}, {"type": "string", "name": "usernameUri", "arg": "$endpoint.properties.SmbMount.credentials.usernameUri"}]}]}]}], "clientFlatten": true}}}}, {"operationId": "Endpoints_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "@Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}], "commandGroups": [{"name": "identity", "commands": [{"name": "assign", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "subresource": "identity", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Endpoint.identity", "args": [{"blank": {"value": "True"}, "type": "string", "var": "$endpoint.identity.systemAssigned", "options": ["system-assigned", "mi-system-assigned"], "group": "Endpoint.identity", "help": {"short": "Set the system managed identity."}}, {"blank": {"value": []}, "type": "array<string>", "var": "$endpoint.identity.userAssigned", "options": ["user-assigned", "mi-user-assigned"], "group": "Endpoint.identity", "help": {"short": "Set the user managed identities."}, "item": {"type": "string"}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "endpoint", "prop": {"type": "object", "name": "identity"}}}, "operations": [{"operationId": "Endpoints_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/endpoints/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"readOnly": true, "type": "uuid", "name": "principalId"}, {"readOnly": true, "type": "uuid", "name": "tenantId"}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"value": "AzureMultiCloudConnector"}, {"value": "AzureStorageBlobContainer"}, {"value": "AzureStorageNfsFileShare"}, {"value": "AzureStorageSmbFileShare"}, {"value": "NfsMount"}, {"value": "SmbMount"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "required": true}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "props": [{"type": "string", "name": "passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri"}]}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "shareName", "required": true}]}]}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"action": "assign", "type": "IdentityObject", "name": "endpoint.identity", "required": true, "userAssigned": {"action": "assign", "type": "array<string>", "name": "userAssigned", "arg": "$endpoint.identity.userAssigned", "item": {"action": "assign", "type": "string"}}, "systemAssigned": {"action": "assign", "type": "string", "name": "systemAssigned", "arg": "$endpoint.identity.systemAssigned"}}}}}, {"operationId": "Endpoints_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "@Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}]}, {"name": "remove", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "subresource": "identity", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "Endpoint.identity", "args": [{"blank": {"value": "True"}, "type": "string", "var": "$endpoint.identity.systemAssigned", "options": ["system-assigned", "mi-system-assigned"], "group": "Endpoint.identity", "help": {"short": "Set the system managed identity."}}, {"blank": {"value": []}, "type": "array<string>", "var": "$endpoint.identity.userAssigned", "options": ["user-assigned", "mi-user-assigned"], "group": "Endpoint.identity", "help": {"short": "Set the user managed identities."}, "item": {"type": "string"}}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "endpoint", "prop": {"type": "object", "name": "identity"}}}, "operations": [{"operationId": "Endpoints_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/endpoints/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"readOnly": true, "type": "uuid", "name": "principalId"}, {"readOnly": true, "type": "uuid", "name": "tenantId"}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"value": "AzureMultiCloudConnector"}, {"value": "AzureStorageBlobContainer"}, {"value": "AzureStorageNfsFileShare"}, {"value": "AzureStorageSmbFileShare"}, {"value": "NfsMount"}, {"value": "SmbMount"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "required": true}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "props": [{"type": "string", "name": "passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri"}]}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "shareName", "required": true}]}]}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}, {"instanceUpdate": {"ref": "$Subresource", "json": {"schema": {"action": "remove", "type": "IdentityObject", "name": "endpoint.identity", "required": true, "userAssigned": {"action": "remove", "type": "array<string>", "name": "userAssigned", "arg": "$endpoint.identity.userAssigned", "item": {"action": "remove", "type": "string"}}, "systemAssigned": {"action": "remove", "type": "string", "name": "systemAssigned", "arg": "$endpoint.identity.systemAssigned"}}}}}, {"operationId": "Endpoints_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"ref": "$Instance"}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "@Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}]}, {"name": "show", "version": "2025-07-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.storagemover/storagemovers/{}/endpoints/{}", "version": "2025-07-01", "subresource": "identity", "swagger": "mgmt-plane/storagemover/ResourceProviders/Microsoft.StorageMover/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuU3RvcmFnZU1vdmVyL3N0b3JhZ2VNb3ZlcnMve3N0b3JhZ2VNb3Zlck5hbWV9L2VuZHBvaW50cy97ZW5kcG9pbnROYW1lfQ==/V/MjAyNS0wNy0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.endpointName", "options": ["n", "name", "endpoint-name"], "required": true, "idPart": "child_name_1", "help": {"short": "The name of the Endpoint resource."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "string", "var": "$Path.storageMoverName", "options": ["storage-mover-name"], "required": true, "idPart": "name", "help": {"short": "The name of the Storage Mover resource."}}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "subresourceSelector": {"var": "$Subresource", "ref": "$Instance", "json": {"type": "object", "name": "endpoint", "prop": {"type": "object", "name": "identity"}}}, "operations": [{"operationId": "Endpoints_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.StorageMover/storageMovers/{storageMoverName}/endpoints/{endpointName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "endpointName", "arg": "$Path.endpointName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "string", "name": "storageMoverName", "arg": "$Path.storageMoverName", "required": true}, {"type": "string", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true, "format": {"minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2025-07-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.StorageMover/storageMovers/{}/endpoints/{}"}}, {"type": "IdentityObject", "name": "identity", "props": [{"readOnly": true, "type": "uuid", "name": "principalId"}, {"readOnly": true, "type": "uuid", "name": "tenantId"}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "None"}, {"value": "SystemAssigned"}, {"value": "SystemAssigned,UserAssigned"}, {"value": "UserAssigned"}]}}, {"type": "object", "name": "userAssignedIdentities", "additionalProps": {"item": {"type": "object", "props": [{"readOnly": true, "type": "uuid", "name": "clientId"}, {"readOnly": true, "type": "uuid", "name": "principalId"}]}}}]}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "string", "name": "description"}, {"type": "string", "name": "endpointType", "required": true, "enum": {"items": [{"value": "AzureMultiCloudConnector"}, {"value": "AzureStorageBlobContainer"}, {"value": "AzureStorageNfsFileShare"}, {"value": "AzureStorageSmbFileShare"}, {"value": "NfsMount"}, {"value": "SmbMount"}]}}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Canceled"}, {"value": "Deleting"}, {"value": "Failed"}, {"value": "Succeeded"}]}}], "discriminators": [{"property": "endpointType", "value": "AzureMultiCloudConnector", "props": [{"type": "ResourceId", "name": "awsS3BucketId", "required": true}, {"type": "ResourceId", "name": "multiCloudConnectorId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageBlobContainer", "props": [{"type": "string", "name": "blobContainerName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageNfsFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "AzureStorageSmbFileShare", "props": [{"type": "string", "name": "fileShareName", "required": true}, {"type": "ResourceId", "name": "storageAccountResourceId", "required": true}]}, {"property": "endpointType", "value": "NfsMount", "props": [{"type": "string", "name": "export", "required": true}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "nfsVersion", "enum": {"items": [{"value": "NFSauto"}, {"value": "NFSv3"}, {"value": "NFSv4"}]}}]}, {"property": "endpointType", "value": "SmbMount", "props": [{"type": "object", "name": "credentials", "props": [{"type": "string", "name": "passwordUri"}, {"const": true, "default": {"value": "AzureKeyVaultSmb"}, "type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "AzureKeyVaultSmb"}]}}, {"type": "string", "name": "usernameUri"}]}, {"type": "string", "name": "host", "required": true}, {"type": "string", "name": "shareName", "required": true}]}]}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt", "format": {"protocol": "iso"}}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Endpoint_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Subresource", "clientFlatten": true}]}]}]}]}