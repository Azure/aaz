{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.dataprotection/backupvaults/{}/backupinstances/{}/restore", "version": "2023-05-01", "swagger": "mgmt-plane/dataprotection/ResourceProviders/Microsoft.DataProtection/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuRGF0YVByb3RlY3Rpb24vYmFja3VwVmF1bHRzL3t2YXVsdE5hbWV9L2JhY2t1cEluc3RhbmNlcy97YmFja3VwSW5zdGFuY2VOYW1lfS9yZXN0b3Jl/V/MjAyMy0wNS0wMQ=="}], "commandGroups": [{"name": "dataprotection backup-instance restore", "commands": [{"name": "trigger", "version": "2023-05-01", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.dataprotection/backupvaults/{}/backupinstances/{}/restore", "version": "2023-05-01", "swagger": "mgmt-plane/dataprotection/ResourceProviders/Microsoft.DataProtection/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuRGF0YVByb3RlY3Rpb24vYmFja3VwVmF1bHRzL3t2YXVsdE5hbWV9L2JhY2t1cEluc3RhbmNlcy97YmFja3VwSW5zdGFuY2VOYW1lfS9yZXN0b3Jl/V/MjAyMy0wNS0wMQ=="}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.backupInstanceName", "options": ["n", "name", "backup-instance-name"], "required": true, "group": "", "idPart": "child_name_1", "help": {"short": "The name of the backup instance."}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}, {"type": "string", "var": "$Path.vaultName", "options": ["vault-name"], "required": true, "idPart": "name", "help": {"short": "The name of the backup vault."}}]}, {"name": "Parameters", "args": [{"type": "object", "var": "$parameters.identityDetails", "options": ["identity-details"], "group": "Parameters", "help": {"short": "Contains information of the Identity Details for the BI. If it is null, default will be considered as System Assigned."}, "args": [{"type": "boolean", "var": "$parameters.identityDetails.useSystemAssignedIdentity", "options": ["use-system-assigned-identity"], "help": {"short": "Specifies if the BI is protected by System Identity."}}, {"type": "string", "var": "$parameters.identityDetails.userAssignedIdentityArmUrl", "options": ["user-assigned-identity-arm-url"], "help": {"short": "ARM URL for User Assigned Identity."}}]}]}, {"name": "Properties", "args": [{"type": "object", "var": "$parameters.AzureBackupRecoveryPointBasedRestoreRequest", "options": ["azure-backup-recovery-point-based-restore-request"], "group": "Properties", "help": {"short": "-"}, "args": [{"type": "string", "var": "$parameters.AzureBackupRecoveryPointBasedRestoreRequest.recoveryPointId", "options": ["recovery-point-id"], "required": true}]}, {"type": "object", "var": "$parameters.AzureBackupRecoveryTimeBasedRestoreRequest", "options": ["azure-backup-recovery-time-based-restore-request"], "group": "Properties", "help": {"short": "-"}, "args": [{"type": "string", "var": "$parameters.AzureBackupRecoveryTimeBasedRestoreRequest.recoveryPointTime", "options": ["recovery-point-time"], "required": true, "help": {"short": "The recovery time in ISO 8601 format example - 2020-08-14T17:30:00.0000000Z."}}]}, {"type": "object", "var": "$parameters.AzureBackupRestoreWithRehydrationRequest", "options": ["azure-backup-restore-with-rehydration-request"], "group": "Properties", "help": {"short": "-"}, "args": [{"type": "string", "var": "$parameters.AzureBackupRestoreWithRehydrationRequest.recoveryPointId", "options": ["recovery-point-id"], "required": true}, {"type": "string", "var": "$parameters.AzureBackupRestoreWithRehydrationRequest.rehydrationPriority", "options": ["rehydration-priority"], "required": true, "help": {"short": "Priority to be used for rehydration. Values High or Standard"}, "enum": {"items": [{"name": "High", "value": "High"}, {"name": "Invalid", "value": "Invalid"}, {"name": "Standard", "value": "Standard"}]}}, {"type": "string", "var": "$parameters.AzureBackupRestoreWithRehydrationRequest.rehydrationRetentionDuration", "options": ["rehydration-retention-duration"], "required": true, "help": {"short": "Retention duration in ISO 8601 format i.e P10D ."}}]}, {"type": "object", "var": "$parameters.restoreTargetInfo", "options": ["restore-target-info"], "required": true, "group": "Properties", "help": {"short": "Gets or sets the restore target information."}, "args": [{"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo", "options": ["item-level-restore-target-info"], "args": [{"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.datasourceAuthCredentials", "options": ["datasource-auth-credentials"], "group": "ItemLevelRestoreTargetInfo", "help": {"short": "Credentials to use to authenticate with data source provider."}, "args": [{"type": "object", "var": "@AuthCredentials_create.SecretStoreBasedAuthCredentials", "options": ["secret-store-based-auth-credentials"], "args": [{"type": "object", "var": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource", "options": ["secret-store-resource"], "help": {"short": "Secret store resource"}, "args": [{"type": "string", "var": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource.secretStoreType", "options": ["secret-store-type"], "required": true, "help": {"short": "Gets or sets the type of secret store"}, "enum": {"items": [{"name": "AzureKeyVault", "value": "AzureKeyVault"}, {"name": "Invalid", "value": "Invalid"}]}}, {"type": "string", "var": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource.uri", "options": ["uri"], "help": {"short": "Uri to get to the resource"}}, {"type": "string", "var": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource.value", "options": ["value"], "help": {"short": "Gets or sets value stored in secret store resource"}}]}]}], "cls": "AuthCredentials_create"}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.datasourceInfo", "options": ["datasource-info"], "required": true, "group": "ItemLevelRestoreTargetInfo", "help": {"short": "Information of target DS"}, "args": [{"type": "string", "var": "@Datasource_create.datasourceType", "options": ["datasource-type"], "help": {"short": "DatasourceType of the resource."}}, {"type": "string", "var": "@Datasource_create.objectType", "options": ["object-type"], "help": {"short": "Type of Datasource object, used to initialize the right inherited type"}}, {"type": "string", "var": "@Datasource_create.resourceID", "options": ["resource-id"], "required": true, "help": {"short": "Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."}}, {"type": "string", "var": "@Datasource_create.resourceLocation", "options": ["resource-location"], "help": {"short": "Location of datasource."}}, {"type": "string", "var": "@Datasource_create.resourceName", "options": ["resource-name"], "help": {"short": "Unique identifier of the resource in the context of parent."}}, {"type": "object", "var": "@Datasource_create.resourceProperties", "options": ["resource-properties"], "help": {"short": "Properties specific to data source"}, "args": [{"type": "string", "var": "@BaseResourceProperties_create.objectType", "options": ["object-type"], "required": true, "help": {"short": "Type of the specific object - used for deserializing"}}], "cls": "BaseResourceProperties_create"}, {"type": "string", "var": "@Datasource_create.resourceType", "options": ["resource-type"], "help": {"short": "Resource Type of Datasource."}}, {"type": "string", "var": "@Datasource_create.resourceUri", "options": ["resource-uri"], "help": {"short": "Uri of the resource."}}], "cls": "Datasource_create"}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.datasourceSetInfo", "options": ["datasource-set-info"], "group": "ItemLevelRestoreTargetInfo", "help": {"short": "Information of target DS Set"}, "args": [{"type": "string", "var": "@DatasourceSet_create.datasourceType", "options": ["datasource-type"], "help": {"short": "DatasourceType of the resource."}}, {"type": "string", "var": "@DatasourceSet_create.objectType", "options": ["object-type"], "help": {"short": "Type of Datasource object, used to initialize the right inherited type"}}, {"type": "string", "var": "@DatasourceSet_create.resourceID", "options": ["resource-id"], "required": true, "help": {"short": "Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."}}, {"type": "string", "var": "@DatasourceSet_create.resourceLocation", "options": ["resource-location"], "help": {"short": "Location of datasource."}}, {"type": "string", "var": "@DatasourceSet_create.resourceName", "options": ["resource-name"], "help": {"short": "Unique identifier of the resource in the context of parent."}}, {"type": "@BaseResourceProperties_create", "var": "@DatasourceSet_create.resourceProperties", "options": ["resource-properties"], "help": {"short": "Properties specific to data source set"}}, {"type": "string", "var": "@DatasourceSet_create.resourceType", "options": ["resource-type"], "help": {"short": "Resource Type of Datasource."}}, {"type": "string", "var": "@DatasourceSet_create.resourceUri", "options": ["resource-uri"], "help": {"short": "Uri of the resource."}}], "cls": "DatasourceSet_create"}, {"type": "array<object>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria", "options": ["restore-criteria"], "required": true, "group": "ItemLevelRestoreTargetInfo", "help": {"short": "Restore Criteria"}, "item": {"type": "object", "args": [{"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria", "options": ["item-path-based-restore-criteria"], "args": [{"type": "boolean", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria.isPathRelativeToBackupItem", "options": ["is-path-relative-to-backup-item"], "required": true, "help": {"short": "Flag to specify if the path is relative to backup item or full path"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria.itemPath", "options": ["item-path"], "required": true, "help": {"short": "The path of the item to be restored. It could be the full path of the item or the path relative to the backup item"}}, {"type": "array<string>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria.subItemPathPrefix", "options": ["sub-item-path-prefix"], "help": {"short": "The list of prefix strings to be used as filter criteria during restore. These are relative to the item path specified."}, "item": {"type": "string"}}]}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria", "options": ["kubernetes-cluster-restore-criteria"], "args": [{"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.conflictPolicy", "options": ["conflict-policy"], "help": {"short": "Gets or sets the Conflict Policy property. This property sets policy during conflict of resources during restore."}, "enum": {"items": [{"name": "Patch", "value": "Patch"}, {"name": "Skip", "value": "Skip"}]}}, {"type": "array<string>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.excludedNamespaces", "options": ["excluded-namespaces"], "help": {"short": "Gets or sets the exclude namespaces property. This property sets the namespaces to be excluded during restore."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.excludedResourceTypes", "options": ["excluded-resource-types"], "help": {"short": "Gets or sets the exclude resource types property. This property sets the resource types to be excluded during restore."}, "item": {"type": "string"}}, {"type": "boolean", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.includeClusterScopeResources", "options": ["include-cluster-scope-resources"], "required": true, "help": {"short": "Gets or sets the include cluster resources property. This property if enabled will include cluster scope resources during restore."}}, {"type": "array<string>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.includedNamespaces", "options": ["included-namespaces"], "help": {"short": "Gets or sets the include namespaces property. This property sets the namespaces to be included during restore."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.includedResourceTypes", "options": ["included-resource-types"], "help": {"short": "Gets or sets the include resource types property. This property sets the resource types to be included during restore."}, "item": {"type": "string"}}, {"type": "array<string>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.labelSelectors", "options": ["label-selectors"], "help": {"short": "Gets or sets the LabelSelectors property. This property sets the resource with such label selectors to be included during restore."}, "item": {"type": "string"}}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.namespaceMappings", "options": ["namespace-mappings"], "help": {"short": "Gets or sets the Namespace Mappings property. This property sets if namespace needs to be change during restore."}, "additionalProps": {"item": {"type": "string"}}}, {"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.persistentVolumeRestoreMode", "options": ["persistent-volume-restore-mode"], "help": {"short": "Gets or sets the PV (Persistent Volume) Restore Mode property. This property sets whether volumes needs to be restored."}, "enum": {"items": [{"name": "RestoreWithVolumeData", "value": "RestoreWithVolumeData"}, {"name": "RestoreWithoutVolumeData", "value": "RestoreWithoutVolumeData"}]}}, {"type": "array<object>", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.restoreHookReferences", "options": ["restore-hook-references"], "help": {"short": "Gets or sets the restore hook references. This property sets the hook reference to be executed during restore."}, "item": {"type": "object", "args": [{"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.restoreHookReferences[].name", "options": ["name"], "help": {"short": "Name of the resource"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.restoreHookReferences[].namespace", "options": ["namespace"], "help": {"short": "Namespace in which the resource exists"}}]}}]}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesPVRestoreCriteria", "options": ["kubernetes-pv-restore-criteria"], "args": [{"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesPVRestoreCriteria.name", "options": ["name"], "help": {"short": "Selected persistent volume claim name"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesPVRestoreCriteria.storageClassName", "options": ["storage-class-name"], "help": {"short": "Selected storage class name for restore operation"}}]}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesStorageClassRestoreCriteria", "options": ["kubernetes-storage-class-restore-criteria"], "args": [{"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesStorageClassRestoreCriteria.provisioner", "options": ["provisioner"], "help": {"short": "Provisioner of the storage class"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesStorageClassRestoreCriteria.selectedStorageClassName", "options": ["selected-storage-class-name"], "help": {"short": "Selected storage class name"}}]}, {"type": "object", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].RangeBasedItemLevelRestoreCriteria", "options": ["range-based-item-level-restore-criteria"], "args": [{"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].RangeBasedItemLevelRestoreCriteria.maxMatchingValue", "options": ["max-matching-value"], "help": {"short": "maximum value for range prefix match"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].RangeBasedItemLevelRestoreCriteria.minMatchingValue", "options": ["min-matching-value"], "help": {"short": "minimum value for range prefix match"}}]}]}}]}, {"type": "object", "var": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo", "options": ["restore-files-target-info"], "args": [{"type": "object", "var": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails", "options": ["target-details"], "required": true, "help": {"short": "Destination of RestoreAsFiles operation, when destination is not a datasource"}, "args": [{"type": "string", "var": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.filePrefix", "options": ["file-prefix"], "required": true, "group": "", "help": {"short": "Restore operation may create multiple files inside location pointed by Url Below will be the common prefix for all of them"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.restoreTargetLocationType", "options": ["restore-target-location-type"], "required": true, "group": "", "help": {"short": "Denotes the target location where the data will be restored, string value for the enum {Microsoft.Internal.AzureBackup.DataProtection.Common.Interface.RestoreTargetLocationType}"}, "enum": {"items": [{"name": "AzureBlobs", "value": "AzureBlobs"}, {"name": "AzureFiles", "value": "AzureFiles"}, {"name": "Invalid", "value": "Invalid"}]}}, {"type": "string", "var": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.targetResourceArmId", "options": ["target-resource-arm-id"], "group": "", "help": {"short": "Full ARM Id denoting the restore destination. It is the ARM Id pointing to container / file share This is optional if the target subscription can be identified with the URL field. If not then this is needed if CrossSubscriptionRestore field of BackupVault is in any of the disabled states"}}, {"type": "string", "var": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.url", "options": ["url"], "required": true, "help": {"short": "Url denoting the restore destination. It can point to container / file share etc"}}]}]}, {"type": "object", "var": "$parameters.restoreTargetInfo.RestoreTargetInfo", "options": ["restore-target-info"], "args": [{"type": "@AuthCredentials_create", "var": "$parameters.restoreTargetInfo.RestoreTargetInfo.datasourceAuthCredentials", "options": ["datasource-auth-credentials"], "group": "RestoreTargetInfo", "help": {"short": "Credentials to use to authenticate with data source provider."}}, {"type": "@Datasource_create", "var": "$parameters.restoreTargetInfo.RestoreTargetInfo.datasourceInfo", "options": ["datasource-info"], "required": true, "group": "RestoreTargetInfo", "help": {"short": "Information of target DS"}}, {"type": "@DatasourceSet_create", "var": "$parameters.restoreTargetInfo.RestoreTargetInfo.datasourceSetInfo", "options": ["datasource-set-info"], "group": "RestoreTargetInfo", "help": {"short": "Information of target DS Set"}}]}, {"type": "string", "var": "$parameters.restoreTargetInfo.recoveryOption", "options": ["recovery-option"], "required": true, "help": {"short": "Recovery Option"}, "enum": {"items": [{"name": "FailIfExists", "value": "FailIfExists"}]}}, {"type": "string", "var": "$parameters.restoreTargetInfo.restoreLocation", "options": ["restore-location"], "help": {"short": "Target Restore region"}}]}, {"type": "string", "var": "$parameters.sourceDataStoreType", "options": ["source-data-store-type"], "required": true, "group": "Properties", "help": {"short": "Gets or sets the type of the source data store."}, "enum": {"items": [{"name": "ArchiveStore", "value": "ArchiveStore"}, {"name": "OperationalStore", "value": "OperationalStore"}, {"name": "SnapshotStore", "value": "SnapshotStore"}, {"name": "VaultStore", "value": "VaultStore"}]}}, {"type": "string", "var": "$parameters.sourceResourceId", "options": ["source-resource-id"], "group": "Properties", "help": {"short": "Fully qualified Azure Resource Manager ID of the datasource which is being recovered."}}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "BackupInstances_TriggerRestore", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataProtection/backupVaults/{vaultName}/backupInstances/{backupInstanceName}/restore", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "backupInstanceName", "arg": "$Path.backupInstanceName", "required": true}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}, {"type": "string", "name": "vaultName", "arg": "$Path.vaultName", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-05-01"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "parameters", "required": true, "props": [{"type": "object", "name": "identityDetails", "arg": "$parameters.identityDetails", "props": [{"type": "boolean", "name": "useSystemAssignedIdentity", "arg": "$parameters.identityDetails.useSystemAssignedIdentity"}, {"type": "string", "name": "userAssignedIdentityArmUrl", "arg": "$parameters.identityDetails.userAssignedIdentityArmUrl"}]}, {"type": "string", "name": "objectType", "required": true, "enum": {"items": [{"arg": "$parameters.AzureBackupRecoveryPointBasedRestoreRequest", "value": "AzureBackupRecoveryPointBasedRestoreRequest"}, {"arg": "$parameters.AzureBackupRecoveryTimeBasedRestoreRequest", "value": "AzureBackupRecoveryTimeBasedRestoreRequest"}, {"arg": "$parameters.AzureBackupRestoreWithRehydrationRequest", "value": "AzureBackupRestoreWithRehydrationRequest"}]}}, {"type": "object", "name": "restoreTargetInfo", "arg": "$parameters.restoreTargetInfo", "required": true, "props": [{"type": "string", "name": "objectType", "required": true, "enum": {"items": [{"arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo", "value": "ItemLevelRestoreTargetInfo"}, {"arg": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo", "value": "RestoreFilesTargetInfo"}, {"arg": "$parameters.restoreTargetInfo.RestoreTargetInfo", "value": "RestoreTargetInfo"}]}}, {"type": "string", "name": "recoveryOption", "arg": "$parameters.restoreTargetInfo.recoveryOption", "required": true, "enum": {"items": [{"value": "FailIfExists"}]}}, {"type": "string", "name": "restoreLocation", "arg": "$parameters.restoreTargetInfo.restoreLocation"}], "discriminators": [{"property": "objectType", "value": "ItemLevelRestoreTargetInfo", "props": [{"type": "object", "name": "datasourceAuthCredentials", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.datasourceAuthCredentials", "props": [{"type": "string", "name": "objectType", "required": true, "enum": {"items": [{"arg": "@AuthCredentials_create.SecretStoreBasedAuthCredentials", "value": "SecretStoreBasedAuthCredentials"}]}}], "discriminators": [{"property": "objectType", "value": "SecretStoreBasedAuthCredentials", "props": [{"type": "object", "name": "secretStoreResource", "arg": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource", "props": [{"type": "string", "name": "secretStoreType", "arg": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource.secretStoreType", "required": true, "enum": {"items": [{"value": "AzureKeyVault"}, {"value": "Invalid"}]}}, {"type": "string", "name": "uri", "arg": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource.uri"}, {"type": "string", "name": "value", "arg": "@AuthCredentials_create.SecretStoreBasedAuthCredentials.secretStoreResource.value"}]}]}], "cls": "AuthCredentials_create"}, {"type": "object", "name": "datasourceInfo", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.datasourceInfo", "required": true, "props": [{"type": "string", "name": "datasourceType", "arg": "@Datasource_create.datasourceType"}, {"type": "string", "name": "objectType", "arg": "@Datasource_create.objectType"}, {"type": "string", "name": "resourceID", "arg": "@Datasource_create.resourceID", "required": true}, {"type": "string", "name": "resourceLocation", "arg": "@Datasource_create.resourceLocation"}, {"type": "string", "name": "resourceName", "arg": "@Datasource_create.resourceName"}, {"type": "object", "name": "resourceProperties", "arg": "@Datasource_create.resourceProperties", "props": [{"type": "string", "name": "objectType", "arg": "@BaseResourceProperties_create.objectType", "required": true}], "cls": "BaseResourceProperties_create"}, {"type": "string", "name": "resourceType", "arg": "@Datasource_create.resourceType"}, {"type": "string", "name": "resourceUri", "arg": "@Datasource_create.resourceUri"}], "cls": "Datasource_create"}, {"type": "object", "name": "datasourceSetInfo", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.datasourceSetInfo", "props": [{"type": "string", "name": "datasourceType", "arg": "@DatasourceSet_create.datasourceType"}, {"type": "string", "name": "objectType", "arg": "@DatasourceSet_create.objectType"}, {"type": "string", "name": "resourceID", "arg": "@DatasourceSet_create.resourceID", "required": true}, {"type": "string", "name": "resourceLocation", "arg": "@DatasourceSet_create.resourceLocation"}, {"type": "string", "name": "resourceName", "arg": "@DatasourceSet_create.resourceName"}, {"type": "@BaseResourceProperties_create", "name": "resourceProperties", "arg": "@DatasourceSet_create.resourceProperties"}, {"type": "string", "name": "resourceType", "arg": "@DatasourceSet_create.resourceType"}, {"type": "string", "name": "resourceUri", "arg": "@DatasourceSet_create.resourceUri"}], "cls": "DatasourceSet_create"}, {"type": "array<object>", "name": "restoreCriteria", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria", "required": true, "item": {"type": "object", "props": [{"type": "string", "name": "objectType", "required": true, "enum": {"items": [{"arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria", "value": "ItemPathBasedRestoreCriteria"}, {"arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria", "value": "KubernetesClusterRestoreCriteria"}, {"arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesPVRestoreCriteria", "value": "KubernetesPVRestoreCriteria"}, {"arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesStorageClassRestoreCriteria", "value": "KubernetesStorageClassRestoreCriteria"}, {"arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].RangeBasedItemLevelRestoreCriteria", "value": "RangeBasedItemLevelRestoreCriteria"}]}}], "discriminators": [{"property": "objectType", "value": "ItemPathBasedRestoreCriteria", "props": [{"type": "boolean", "name": "isPathRelativeToBackupItem", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria.isPathRelativeToBackupItem", "required": true}, {"type": "string", "name": "itemPath", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria.itemPath", "required": true}, {"type": "array<string>", "name": "subItemPathPrefix", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].ItemPathBasedRestoreCriteria.subItemPathPrefix", "item": {"type": "string"}}]}, {"property": "objectType", "value": "KubernetesClusterRestoreCriteria", "props": [{"type": "string", "name": "conflictPolicy", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.conflictPolicy", "enum": {"items": [{"value": "Patch"}, {"value": "Skip"}]}}, {"type": "array<string>", "name": "excludedNamespaces", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.excludedNamespaces", "item": {"type": "string"}}, {"type": "array<string>", "name": "excludedResourceTypes", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.excludedResourceTypes", "item": {"type": "string"}}, {"type": "boolean", "name": "includeClusterScopeResources", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.includeClusterScopeResources", "required": true}, {"type": "array<string>", "name": "includedNamespaces", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.includedNamespaces", "item": {"type": "string"}}, {"type": "array<string>", "name": "includedResourceTypes", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.includedResourceTypes", "item": {"type": "string"}}, {"type": "array<string>", "name": "labelSelectors", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.labelSelectors", "item": {"type": "string"}}, {"type": "object", "name": "namespaceMappings", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.namespaceMappings", "additionalProps": {"item": {"type": "string"}}}, {"type": "string", "name": "persistentVolumeRestoreMode", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.persistentVolumeRestoreMode", "enum": {"items": [{"value": "RestoreWithVolumeData"}, {"value": "RestoreWithoutVolumeData"}]}}, {"type": "array<object>", "name": "restoreHookReferences", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.restoreHookReferences", "item": {"type": "object", "props": [{"type": "string", "name": "name", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.restoreHookReferences[].name"}, {"type": "string", "name": "namespace", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesClusterRestoreCriteria.restoreHookReferences[].namespace"}]}}]}, {"property": "objectType", "value": "KubernetesPVRestoreCriteria", "props": [{"type": "string", "name": "name", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesPVRestoreCriteria.name"}, {"type": "string", "name": "storageClassName", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesPVRestoreCriteria.storageClassName"}]}, {"property": "objectType", "value": "KubernetesStorageClassRestoreCriteria", "props": [{"type": "string", "name": "provisioner", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesStorageClassRestoreCriteria.provisioner"}, {"type": "string", "name": "selectedStorageClassName", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].KubernetesStorageClassRestoreCriteria.selectedStorageClassName"}]}, {"property": "objectType", "value": "RangeBasedItemLevelRestoreCriteria", "props": [{"type": "string", "name": "maxMatchingValue", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].RangeBasedItemLevelRestoreCriteria.maxMatchingValue"}, {"type": "string", "name": "minMatchingValue", "arg": "$parameters.restoreTargetInfo.ItemLevelRestoreTargetInfo.restoreCriteria[].RangeBasedItemLevelRestoreCriteria.minMatchingValue"}]}]}}]}, {"property": "objectType", "value": "RestoreFilesTargetInfo", "props": [{"type": "object", "name": "targetDetails", "arg": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails", "required": true, "props": [{"type": "string", "name": "filePrefix", "arg": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.filePrefix", "required": true}, {"type": "string", "name": "restoreTargetLocationType", "arg": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.restoreTargetLocationType", "required": true, "enum": {"items": [{"value": "AzureBlobs"}, {"value": "AzureFiles"}, {"value": "Invalid"}]}}, {"type": "string", "name": "targetResourceArmId", "arg": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.targetResourceArmId"}, {"type": "string", "name": "url", "arg": "$parameters.restoreTargetInfo.RestoreFilesTargetInfo.targetDetails.url", "required": true}]}]}, {"property": "objectType", "value": "RestoreTargetInfo", "props": [{"type": "@AuthCredentials_create", "name": "datasourceAuthCredentials", "arg": "$parameters.restoreTargetInfo.RestoreTargetInfo.datasourceAuthCredentials"}, {"type": "@Datasource_create", "name": "datasourceInfo", "arg": "$parameters.restoreTargetInfo.RestoreTargetInfo.datasourceInfo", "required": true}, {"type": "@DatasourceSet_create", "name": "datasourceSetInfo", "arg": "$parameters.restoreTargetInfo.RestoreTargetInfo.datasourceSetInfo"}]}]}, {"type": "string", "name": "sourceDataStoreType", "arg": "$parameters.sourceDataStoreType", "required": true, "enum": {"items": [{"value": "ArchiveStore"}, {"value": "OperationalStore"}, {"value": "SnapshotStore"}, {"value": "VaultStore"}]}}, {"type": "string", "name": "sourceResourceId", "arg": "$parameters.sourceResourceId"}], "discriminators": [{"property": "objectType", "value": "AzureBackupRecoveryPointBasedRestoreRequest", "props": [{"type": "string", "name": "recoveryPointId", "arg": "$parameters.AzureBackupRecoveryPointBasedRestoreRequest.recoveryPointId", "required": true}]}, {"property": "objectType", "value": "AzureBackupRecoveryTimeBasedRestoreRequest", "props": [{"type": "string", "name": "recoveryPointTime", "arg": "$parameters.AzureBackupRecoveryTimeBasedRestoreRequest.recoveryPointTime", "required": true}]}, {"property": "objectType", "value": "AzureBackupRestoreWithRehydrationRequest", "props": [{"type": "string", "name": "recoveryPointId", "arg": "$parameters.AzureBackupRestoreWithRehydrationRequest.recoveryPointId", "required": true}, {"type": "string", "name": "rehydrationPriority", "arg": "$parameters.AzureBackupRestoreWithRehydrationRequest.rehydrationPriority", "required": true, "enum": {"items": [{"value": "High"}, {"value": "Invalid"}, {"value": "Standard"}]}}, {"type": "string", "name": "rehydrationRetentionDuration", "arg": "$parameters.AzureBackupRestoreWithRehydrationRequest.rehydrationRetentionDuration", "required": true}]}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "string", "name": "jobId"}, {"const": true, "default": {"value": "OperationJobExtendedInfo"}, "type": "string", "name": "objectType", "required": true}]}}}}, {"statusCode": [202], "header": {"items": [{"name": "Azure-AsyncOperation"}, {"name": "Location"}, {"name": "Retry-After"}]}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}]}]}