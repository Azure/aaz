{"plane": "mgmt-plane", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.networkcloud/clusters/{}", "version": "2023-10-01-preview", "swagger": "mgmt-plane/networkcloud/ResourceProviders/Microsoft.NetworkCloud/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29ya0Nsb3VkL2NsdXN0ZXJzL3tjbHVzdGVyTmFtZX0=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "commandGroups": [{"name": "networkcloud cluster", "commands": [{"name": "show", "version": "2023-10-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.networkcloud/clusters/{}", "version": "2023-10-01-preview", "swagger": "mgmt-plane/networkcloud/ResourceProviders/Microsoft.NetworkCloud/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29ya0Nsb3VkL2NsdXN0ZXJzL3tjbHVzdGVyTmFtZX0=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"operationId": "Clusters_Get", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.NetworkCloud/clusters/{clusterName}", "request": {"method": "get", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-10-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "object", "name": "extendedLocation", "required": true, "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "type", "required": true}], "cls": "ExtendedLocation_read"}, {"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.NetworkCloud/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "aggregatorOrSingleRackDefinition", "required": true, "props": [{"type": "string", "name": "availabilityZone", "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "name": "bareMetalMachineConfigurationData", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "bmcConnectionString"}, {"type": "object", "name": "bmcCredentials", "required": true, "props": [{"type": "string", "name": "password", "required": true, "secret": true, "format": {"minLength": 1}}, {"type": "string", "name": "username", "required": true, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_read"}, {"type": "string", "name": "bmcMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "bootMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "machineDetails", "format": {"maxLength": 256}}, {"type": "string", "name": "machineName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "name": "rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "required": true, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "name": "networkRackId", "required": true}, {"type": "string", "name": "rackLocation", "format": {"maxLength": 256}}, {"type": "string", "name": "rackSerialNumber", "required": true, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "name": "rackSkuId", "required": true}, {"type": "array<object>", "name": "storageApplianceConfigurationData", "item": {"type": "object", "props": [{"type": "@AdministrativeCredentials_read", "name": "adminCredentials", "required": true}, {"type": "integer64", "name": "rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "required": true}, {"type": "string", "name": "storageApplianceName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_read"}, {"type": "string", "name": "analyticsWorkspaceId"}, {"readOnly": true, "type": "array<object>", "name": "availableUpgradeVersions", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "controlImpact", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}, {"readOnly": true, "type": "string", "name": "expectedDuration"}, {"readOnly": true, "type": "string", "name": "impactDescription"}, {"readOnly": true, "type": "string", "name": "supportExpiryDate"}, {"readOnly": true, "type": "string", "name": "targetClusterVersion"}, {"readOnly": true, "type": "string", "name": "workloadImpact", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, "identifiers": ["targetClusterVersion"]}, {"type": "object", "name": "clusterCapacity", "props": [{"type": "integer64", "name": "availableApplianceStorageGB"}, {"type": "integer64", "name": "availableCoreCount"}, {"type": "integer64", "name": "availableHostStorageGB"}, {"type": "integer64", "name": "availableMemoryGB"}, {"type": "integer64", "name": "totalApplianceStorageGB"}, {"type": "integer64", "name": "totalCoreCount"}, {"type": "integer64", "name": "totalHostStorageGB"}, {"type": "integer64", "name": "totalMemoryGB"}]}, {"readOnly": true, "type": "string", "name": "clusterConnectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Disconnected"}, {"value": "Timeout"}, {"value": "Undefined"}]}}, {"readOnly": true, "type": "@ExtendedLocation_read", "name": "clusterExtendedLocation"}, {"type": "string", "name": "clusterLocation", "format": {"maxLength": 256}}, {"readOnly": true, "type": "string", "name": "clusterManagerConnectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Unreachable"}]}}, {"readOnly": true, "type": "ResourceId", "name": "clusterManagerId"}, {"type": "object", "name": "clusterServicePrincipal", "props": [{"type": "string", "name": "applicationId", "required": true}, {"type": "string", "name": "password", "required": true, "secret": true}, {"type": "string", "name": "principalId", "required": true}, {"type": "string", "name": "tenantId", "required": true}]}, {"type": "string", "name": "clusterType", "required": true, "enum": {"items": [{"value": "MultiRack"}, {"value": "SingleRack"}]}}, {"type": "string", "name": "clusterVersion", "required": true}, {"type": "object", "name": "computeDeploymentThreshold", "props": [{"type": "string", "name": "grouping", "required": true, "enum": {"items": [{"value": "PerCluster"}, {"value": "PerRack"}]}}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "value", "required": true, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_read>", "name": "computeRackDefinitions", "item": {"type": "@RackDefinition_read"}, "identifiers": ["networkRackId"]}, {"readOnly": true, "type": "string", "name": "detailedStatus", "enum": {"items": [{"value": "Degraded"}, {"value": "Deleting"}, {"value": "Deploying"}, {"value": "Disconnected"}, {"value": "Failed"}, {"value": "PendingDeployment"}, {"value": "Running"}, {"value": "Updating"}]}}, {"readOnly": true, "type": "string", "name": "detailedStatusMessage"}, {"readOnly": true, "type": "@ExtendedLocation_read", "name": "hybridAksExtendedLocation"}, {"type": "object", "name": "managedResourceGroupConfiguration", "props": [{"type": "string", "name": "location"}, {"type": "string", "name": "name", "format": {"maxLength": 75}}]}, {"readOnly": true, "type": "integer64", "name": "manualActionCount"}, {"type": "ResourceId", "name": "networkFabricId", "required": true}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}, {"value": "Updating"}, {"value": "Validating"}]}}, {"type": "object", "name": "runtimeProtectionConfiguration", "props": [{"default": {"value": "Disabled"}, "type": "string", "name": "enforcementLevel", "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "OnDemand"}, {"value": "Passive"}, {"value": "RealTime"}]}}]}, {"type": "object", "name": "secretArchive", "props": [{"type": "ResourceId", "name": "keyVaultId", "required": true}, {"default": {"value": "False"}, "type": "string", "name": "useKeyVault", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, {"readOnly": true, "type": "string", "name": "supportExpiryDate"}, {"type": "object", "name": "updateStrategy", "props": [{"type": "integer64", "name": "maxUnavailable", "format": {"minimum": 1}}, {"type": "string", "name": "strategyType", "required": true, "enum": {"items": [{"value": "Rack"}]}}, {"type": "string", "name": "thresholdType", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "thresholdValue", "required": true, "format": {"minimum": 0}}, {"default": {"value": 15}, "type": "integer64", "name": "waitTimeMinutes", "format": {"maximum": 60, "minimum": 0}}]}, {"readOnly": true, "type": "array<string>", "name": "workloadResourceIds", "item": {"type": "string"}}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "delete", "version": "2023-10-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.networkcloud/clusters/{}", "version": "2023-10-01-preview", "swagger": "mgmt-plane/networkcloud/ResourceProviders/Microsoft.NetworkCloud/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29ya0Nsb3VkL2NsdXN0ZXJzL3tjbHVzdGVyTmFtZX0=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}], "operations": [{"longRunning": {"finalStateVia": "location"}, "operationId": "Clusters_Delete", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.NetworkCloud/clusters/{clusterName}", "request": {"method": "delete", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-10-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}}, "responses": [{"statusCode": [200]}, {"statusCode": [202], "header": {"items": [{"name": "Location"}]}}, {"statusCode": [204]}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "confirmation": "Are you sure you want to perform this operation?"}, {"name": "create", "version": "2023-10-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.networkcloud/clusters/{}", "version": "2023-10-01-preview", "swagger": "mgmt-plane/networkcloud/ResourceProviders/Microsoft.NetworkCloud/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29ya0Nsb3VkL2NsdXN0ZXJzL3tjbHVzdGVyTmFtZX0=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "ClusterParameters", "args": [{"type": "object", "var": "$clusterParameters.extendedLocation", "options": ["extended-location"], "required": true, "group": "ClusterParameters", "help": {"short": "The extended location of the cluster manager associated with the cluster."}, "args": [{"type": "string", "var": "$clusterParameters.extendedLocation.name", "options": ["name"], "required": true, "help": {"short": "The resource ID of the extended location on which the resource will be created."}}, {"type": "string", "var": "$clusterParameters.extendedLocation.type", "options": ["type"], "required": true, "help": {"short": "The extended location type, for example, CustomLocation."}}]}, {"type": "ResourceLocation", "var": "$clusterParameters.location", "options": ["l", "location"], "required": true, "group": "ClusterParameters", "help": {"short": "The geo-location where the resource lives"}}, {"type": "object", "var": "$clusterParameters.tags", "options": ["tags"], "group": "ClusterParameters", "help": {"short": "Resource tags."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$clusterParameters.properties.aggregatorOrSingleRackDefinition", "options": ["aggregator-or-single-rack-definition"], "required": true, "group": "Properties", "help": {"short": "The rack definition that is intended to reflect only a single rack in a single rack cluster, or an aggregator rack in a multi-rack cluster."}, "args": [{"type": "string", "var": "@RackDefinition_create.availabilityZone", "options": ["availability-zone"], "help": {"short": "The zone name used for this rack when created."}, "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "var": "@RackDefinition_create.bareMetalMachineConfigurationData", "options": ["bare-metal-machine-configuration-data"], "help": {"short": "The unordered list of bare metal machine configuration."}, "item": {"type": "object", "args": [{"type": "object", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].bmcCredentials", "options": ["bmc-credentials"], "required": true, "help": {"short": "The credentials of the baseboard management controller on this bare metal machine."}, "args": [{"type": "string", "var": "@AdministrativeCredentials_create.password", "options": ["password"], "required": true, "help": {"short": "The password of the administrator of the device used during initialization."}, "format": {"minLength": 1}}, {"type": "string", "var": "@AdministrativeCredentials_create.username", "options": ["username"], "required": true, "help": {"short": "The username of the administrator of the device used during initialization."}, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_create"}, {"type": "string", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].bmcMacAddress", "options": ["bmc-mac-address"], "required": true, "help": {"short": "The MAC address of the BMC for this machine."}, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].bootMacAddress", "options": ["boot-mac-address"], "required": true, "help": {"short": "The MAC address associated with the PXE NIC card."}, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].machineDetails", "options": ["machine-details"], "help": {"short": "The free-form additional information about the machine, e.g. an asset tag."}, "format": {"maxLength": 256}}, {"type": "string", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].machineName", "options": ["machine-name"], "help": {"short": "The user-provided name for the bare metal machine created from this specification. If not provided, the machine name will be generated programmatically."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].rackSlot", "options": ["rack-slot"], "required": true, "help": {"short": "The slot the physical machine is in the rack based on the BOM configuration."}, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "var": "@RackDefinition_create.bareMetalMachineConfigurationData[].serialNumber", "options": ["serial-number"], "required": true, "help": {"short": "The serial number of the machine. Hardware suppliers may use an alternate value. For example, service tag."}, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "var": "@RackDefinition_create.networkRackId", "options": ["network-rack-id"], "required": true, "help": {"short": "The resource ID of the network rack that matches this rack definition."}}, {"type": "string", "var": "@RackDefinition_create.rackLocation", "options": ["rack-location"], "help": {"short": "The free-form description of the rack's location."}, "format": {"maxLength": 256}}, {"type": "string", "var": "@RackDefinition_create.rackSerialNumber", "options": ["rack-serial-number"], "required": true, "help": {"short": "The unique identifier for the rack within Network Cloud cluster. An alternate unique alphanumeric value other than a serial number may be provided if desired."}, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "var": "@RackDefinition_create.rackSkuId", "options": ["rack-sku-id"], "required": true, "help": {"short": "The resource ID of the sku for the rack being added."}}, {"type": "array<object>", "var": "@RackDefinition_create.storageApplianceConfigurationData", "options": ["storage-appliance-configuration-data"], "help": {"short": "The list of storage appliance configuration data for this rack."}, "item": {"type": "object", "args": [{"type": "@AdministrativeCredentials_create", "var": "@RackDefinition_create.storageApplianceConfigurationData[].adminCredentials", "options": ["admin-credentials"], "required": true, "help": {"short": "The credentials of the administrative interface on this storage appliance."}}, {"type": "integer64", "var": "@RackDefinition_create.storageApplianceConfigurationData[].rackSlot", "options": ["rack-slot"], "required": true, "help": {"short": "The slot that storage appliance is in the rack based on the BOM configuration."}, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "var": "@RackDefinition_create.storageApplianceConfigurationData[].serialNumber", "options": ["serial-number"], "required": true, "help": {"short": "The serial number of the appliance."}}, {"type": "string", "var": "@RackDefinition_create.storageApplianceConfigurationData[].storageApplianceName", "options": ["storage-appliance-name"], "help": {"short": "The user-provided name for the storage appliance that will be created from this specification."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_create"}, {"type": "string", "var": "$clusterParameters.properties.analyticsWorkspaceId", "options": ["analytics-workspace-id"], "group": "Properties", "help": {"short": "The resource ID of the Log Analytics Workspace that will be used for storing relevant logs."}}, {"type": "string", "var": "$clusterParameters.properties.clusterLocation", "options": ["cluster-location"], "group": "Properties", "help": {"short": "The customer-provided location information to identify where the cluster resides."}, "format": {"maxLength": 256}}, {"type": "object", "var": "$clusterParameters.properties.clusterServicePrincipal", "options": ["cluster-service-principal"], "group": "Properties", "help": {"short": "The service principal to be used by the cluster during Arc Appliance installation."}, "args": [{"type": "string", "var": "$clusterParameters.properties.clusterServicePrincipal.applicationId", "options": ["application-id"], "required": true, "help": {"short": "The application ID, also known as client ID, of the service principal."}}, {"type": "string", "var": "$clusterParameters.properties.clusterServicePrincipal.password", "options": ["password"], "required": true, "help": {"short": "The password of the service principal."}}, {"type": "string", "var": "$clusterParameters.properties.clusterServicePrincipal.principalId", "options": ["principal-id"], "required": true, "help": {"short": "The principal ID, also known as the object ID, of the service principal."}}, {"type": "string", "var": "$clusterParameters.properties.clusterServicePrincipal.tenantId", "options": ["tenant-id"], "required": true, "help": {"short": "The tenant ID, also known as the directory ID, of the tenant in which the service principal is created."}}]}, {"type": "string", "var": "$clusterParameters.properties.clusterType", "options": ["cluster-type"], "required": true, "group": "Properties", "help": {"short": "The type of rack configuration for the cluster."}, "enum": {"items": [{"name": "MultiRack", "value": "MultiRack"}, {"name": "SingleRack", "value": "SingleRack"}]}}, {"type": "string", "var": "$clusterParameters.properties.clusterVersion", "options": ["cluster-version"], "required": true, "group": "Properties", "help": {"short": "The current runtime version of the cluster."}}, {"type": "object", "var": "$clusterParameters.properties.computeDeploymentThreshold", "options": ["compute-deployment-threshold"], "group": "Properties", "help": {"short": "The validation threshold indicating the allowable failures of compute machines during environment validation and deployment."}, "args": [{"type": "string", "var": "$clusterParameters.properties.computeDeploymentThreshold.grouping", "options": ["grouping"], "required": true, "help": {"short": "Selection of how the type evaluation is applied to the cluster calculation."}, "enum": {"items": [{"name": "PerCluster", "value": "PerCluster"}, {"name": "PerRack", "value": "PerRack"}]}}, {"type": "string", "var": "$clusterParameters.properties.computeDeploymentThreshold.type", "options": ["type"], "required": true, "help": {"short": "Selection of how the threshold should be evaluated."}, "enum": {"items": [{"name": "CountSuccess", "value": "CountSuccess"}, {"name": "PercentSuccess", "value": "PercentSuccess"}]}}, {"type": "integer64", "var": "$clusterParameters.properties.computeDeploymentThreshold.value", "options": ["value"], "required": true, "help": {"short": "The numeric threshold value."}, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_create>", "var": "$clusterParameters.properties.computeRackDefinitions", "options": ["compute-rack-definitions"], "group": "Properties", "help": {"short": "The list of rack definitions for the compute racks in a multi-rack cluster, or an empty list in a single-rack cluster."}, "item": {"type": "@RackDefinition_create"}}, {"type": "object", "var": "$clusterParameters.properties.managedResourceGroupConfiguration", "options": ["managed-resource-group-configuration"], "group": "Properties", "help": {"short": "The configuration of the managed resource group associated with the resource."}, "args": [{"type": "string", "var": "$clusterParameters.properties.managedResourceGroupConfiguration.location", "options": ["location"], "help": {"short": "The location of the managed resource group. If not specified, the location of the parent resource is chosen."}}, {"type": "string", "var": "$clusterParameters.properties.managedResourceGroupConfiguration.name", "options": ["name"], "help": {"short": "The name for the managed resource group. If not specified, the unique name is automatically generated."}, "format": {"maxLength": 75}}]}, {"type": "ResourceId", "var": "$clusterParameters.properties.networkFabricId", "options": ["network-fabric-id"], "required": true, "group": "Properties", "help": {"short": "The resource ID of the Network Fabric associated with the cluster."}}, {"type": "object", "var": "$clusterParameters.properties.runtimeProtectionConfiguration", "options": ["runtime-protection"], "group": "Properties", "help": {"short": "The settings for cluster runtime protection."}, "args": [{"type": "string", "var": "$clusterParameters.properties.runtimeProtectionConfiguration.enforcementLevel", "options": ["enforcement-level"], "help": {"short": "The mode of operation for runtime protection."}, "default": {"value": "Disabled"}, "enum": {"items": [{"name": "Audit", "value": "Audit"}, {"name": "Disabled", "value": "Disabled"}, {"name": "OnDemand", "value": "OnDemand"}, {"name": "Passive", "value": "Passive"}, {"name": "RealTime", "value": "RealTime"}]}}]}, {"type": "object", "var": "$clusterParameters.properties.secretArchive", "options": ["secret-archive"], "group": "Properties", "help": {"short": "The configuration for use of a key vault to store secrets for later retrieval by the operator."}, "args": [{"type": "ResourceId", "var": "$clusterParameters.properties.secretArchive.keyVaultId", "options": ["key-vault-id"], "required": true, "help": {"short": "The resource ID of the key vault to archive the secrets of the cluster."}}, {"type": "string", "var": "$clusterParameters.properties.secretArchive.useKeyVault", "options": ["use-key-vault"], "help": {"short": "The indicator if the specified key vault should be used to archive the secrets of the cluster."}, "default": {"value": "False"}, "enum": {"items": [{"name": "False", "value": "False"}, {"name": "True", "value": "True"}]}}]}, {"type": "object", "var": "$clusterParameters.properties.updateStrategy", "options": ["update-strategy"], "group": "Properties", "help": {"short": "The strategy for updating the cluster."}, "args": [{"type": "integer64", "var": "$clusterParameters.properties.updateStrategy.maxUnavailable", "options": ["max-unavailable"], "help": {"short": "The maximum number of worker nodes that can be offline within the increment of update, e.g., rack-by-rack. Limited by the maximum number of machines in the increment. Defaults to the whole increment size."}, "format": {"minimum": 1}}, {"type": "string", "var": "$clusterParameters.properties.updateStrategy.strategyType", "options": ["strategy-type"], "required": true, "help": {"short": "The mode of operation for runtime protection."}, "enum": {"items": [{"name": "Rack", "value": "Rack"}]}}, {"type": "string", "var": "$clusterParameters.properties.updateStrategy.thresholdType", "options": ["threshold-type"], "required": true, "help": {"short": "Selection of how the threshold should be evaluated."}, "enum": {"items": [{"name": "CountSuccess", "value": "CountSuccess"}, {"name": "PercentSuccess", "value": "PercentSuccess"}]}}, {"type": "integer64", "var": "$clusterParameters.properties.updateStrategy.thresholdValue", "options": ["threshold-value"], "required": true, "help": {"short": "The numeric threshold value."}, "format": {"minimum": 0}}, {"type": "integer64", "var": "$clusterParameters.properties.updateStrategy.waitTimeMinutes", "options": ["wait-time-minutes"], "help": {"short": "The time to wait between the increments of update defined by the strategy."}, "default": {"value": 15}, "format": {"maximum": 60, "minimum": 0}}]}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_CreateOrUpdate", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.NetworkCloud/clusters/{clusterName}", "request": {"method": "put", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-10-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "clusterParameters", "required": true, "props": [{"type": "object", "name": "extendedLocation", "arg": "$clusterParameters.extendedLocation", "required": true, "props": [{"type": "string", "name": "name", "arg": "$clusterParameters.extendedLocation.name", "required": true}, {"type": "string", "name": "type", "arg": "$clusterParameters.extendedLocation.type", "required": true}]}, {"type": "ResourceLocation", "name": "location", "arg": "$clusterParameters.location", "required": true}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "aggregatorOrSingleRackDefinition", "arg": "$clusterParameters.properties.aggregatorOrSingleRackDefinition", "required": true, "props": [{"type": "string", "name": "availabilityZone", "arg": "@RackDefinition_create.availabilityZone", "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "name": "bareMetalMachineConfigurationData", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData", "item": {"type": "object", "props": [{"type": "object", "name": "bmcCredentials", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].bmcCredentials", "required": true, "props": [{"type": "string", "name": "password", "arg": "@AdministrativeCredentials_create.password", "required": true, "secret": true, "format": {"minLength": 1}}, {"type": "string", "name": "username", "arg": "@AdministrativeCredentials_create.username", "required": true, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_create"}, {"type": "string", "name": "bmcMacAddress", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].bmcMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "bootMacAddress", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].bootMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "machineDetails", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].machineDetails", "format": {"maxLength": 256}}, {"type": "string", "name": "machineName", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].machineName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "name": "rackSlot", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "arg": "@RackDefinition_create.bareMetalMachineConfigurationData[].serialNumber", "required": true, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "name": "networkRackId", "arg": "@RackDefinition_create.networkRackId", "required": true}, {"type": "string", "name": "rackLocation", "arg": "@RackDefinition_create.rackLocation", "format": {"maxLength": 256}}, {"type": "string", "name": "rackSerialNumber", "arg": "@RackDefinition_create.rackSerialNumber", "required": true, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "name": "rackSkuId", "arg": "@RackDefinition_create.rackSkuId", "required": true}, {"type": "array<object>", "name": "storageApplianceConfigurationData", "arg": "@RackDefinition_create.storageApplianceConfigurationData", "item": {"type": "object", "props": [{"type": "@AdministrativeCredentials_create", "name": "adminCredentials", "arg": "@RackDefinition_create.storageApplianceConfigurationData[].adminCredentials", "required": true}, {"type": "integer64", "name": "rackSlot", "arg": "@RackDefinition_create.storageApplianceConfigurationData[].rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "arg": "@RackDefinition_create.storageApplianceConfigurationData[].serialNumber", "required": true}, {"type": "string", "name": "storageApplianceName", "arg": "@RackDefinition_create.storageApplianceConfigurationData[].storageApplianceName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_create"}, {"type": "string", "name": "analyticsWorkspaceId", "arg": "$clusterParameters.properties.analyticsWorkspaceId"}, {"type": "string", "name": "clusterLocation", "arg": "$clusterParameters.properties.clusterLocation", "format": {"maxLength": 256}}, {"type": "object", "name": "clusterServicePrincipal", "arg": "$clusterParameters.properties.clusterServicePrincipal", "props": [{"type": "string", "name": "applicationId", "arg": "$clusterParameters.properties.clusterServicePrincipal.applicationId", "required": true}, {"type": "string", "name": "password", "arg": "$clusterParameters.properties.clusterServicePrincipal.password", "required": true, "secret": true}, {"type": "string", "name": "principalId", "arg": "$clusterParameters.properties.clusterServicePrincipal.principalId", "required": true}, {"type": "string", "name": "tenantId", "arg": "$clusterParameters.properties.clusterServicePrincipal.tenantId", "required": true}]}, {"type": "string", "name": "clusterType", "arg": "$clusterParameters.properties.clusterType", "required": true, "enum": {"items": [{"value": "MultiRack"}, {"value": "SingleRack"}]}}, {"type": "string", "name": "clusterVersion", "arg": "$clusterParameters.properties.clusterVersion", "required": true}, {"type": "object", "name": "computeDeploymentThreshold", "arg": "$clusterParameters.properties.computeDeploymentThreshold", "props": [{"type": "string", "name": "grouping", "arg": "$clusterParameters.properties.computeDeploymentThreshold.grouping", "required": true, "enum": {"items": [{"value": "PerCluster"}, {"value": "PerRack"}]}}, {"type": "string", "name": "type", "arg": "$clusterParameters.properties.computeDeploymentThreshold.type", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "value", "arg": "$clusterParameters.properties.computeDeploymentThreshold.value", "required": true, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_create>", "name": "computeRackDefinitions", "arg": "$clusterParameters.properties.computeRackDefinitions", "item": {"type": "@RackDefinition_create"}, "identifiers": ["networkRackId"]}, {"type": "object", "name": "managedResourceGroupConfiguration", "arg": "$clusterParameters.properties.managedResourceGroupConfiguration", "props": [{"type": "string", "name": "location", "arg": "$clusterParameters.properties.managedResourceGroupConfiguration.location"}, {"type": "string", "name": "name", "arg": "$clusterParameters.properties.managedResourceGroupConfiguration.name", "format": {"maxLength": 75}}]}, {"type": "ResourceId", "name": "networkFabricId", "arg": "$clusterParameters.properties.networkFabricId", "required": true}, {"type": "object", "name": "runtimeProtectionConfiguration", "arg": "$clusterParameters.properties.runtimeProtectionConfiguration", "props": [{"default": {"value": "Disabled"}, "type": "string", "name": "enforcementLevel", "arg": "$clusterParameters.properties.runtimeProtectionConfiguration.enforcementLevel", "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "OnDemand"}, {"value": "Passive"}, {"value": "RealTime"}]}}]}, {"type": "object", "name": "secretArchive", "arg": "$clusterParameters.properties.secretArchive", "props": [{"type": "ResourceId", "name": "keyVaultId", "arg": "$clusterParameters.properties.secretArchive.keyVaultId", "required": true}, {"default": {"value": "False"}, "type": "string", "name": "useKeyVault", "arg": "$clusterParameters.properties.secretArchive.useKeyVault", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, {"type": "object", "name": "updateStrategy", "arg": "$clusterParameters.properties.updateStrategy", "props": [{"type": "integer64", "name": "maxUnavailable", "arg": "$clusterParameters.properties.updateStrategy.maxUnavailable", "format": {"minimum": 1}}, {"type": "string", "name": "strategyType", "arg": "$clusterParameters.properties.updateStrategy.strategyType", "required": true, "enum": {"items": [{"value": "Rack"}]}}, {"type": "string", "name": "thresholdType", "arg": "$clusterParameters.properties.updateStrategy.thresholdType", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "thresholdValue", "arg": "$clusterParameters.properties.updateStrategy.thresholdValue", "required": true, "format": {"minimum": 0}}, {"default": {"value": 15}, "type": "integer64", "name": "waitTimeMinutes", "arg": "$clusterParameters.properties.updateStrategy.waitTimeMinutes", "format": {"maximum": 60, "minimum": 0}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$clusterParameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200, 201], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "object", "name": "extendedLocation", "required": true, "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "type", "required": true}], "cls": "ExtendedLocation_read"}, {"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.NetworkCloud/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "aggregatorOrSingleRackDefinition", "required": true, "props": [{"type": "string", "name": "availabilityZone", "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "name": "bareMetalMachineConfigurationData", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "bmcConnectionString"}, {"type": "object", "name": "bmcCredentials", "required": true, "props": [{"type": "string", "name": "password", "required": true, "secret": true, "format": {"minLength": 1}}, {"type": "string", "name": "username", "required": true, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_read"}, {"type": "string", "name": "bmcMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "bootMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "machineDetails", "format": {"maxLength": 256}}, {"type": "string", "name": "machineName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "name": "rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "required": true, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "name": "networkRackId", "required": true}, {"type": "string", "name": "rackLocation", "format": {"maxLength": 256}}, {"type": "string", "name": "rackSerialNumber", "required": true, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "name": "rackSkuId", "required": true}, {"type": "array<object>", "name": "storageApplianceConfigurationData", "item": {"type": "object", "props": [{"type": "@AdministrativeCredentials_read", "name": "adminCredentials", "required": true}, {"type": "integer64", "name": "rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "required": true}, {"type": "string", "name": "storageApplianceName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_read"}, {"type": "string", "name": "analyticsWorkspaceId"}, {"readOnly": true, "type": "array<object>", "name": "availableUpgradeVersions", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "controlImpact", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}, {"readOnly": true, "type": "string", "name": "expectedDuration"}, {"readOnly": true, "type": "string", "name": "impactDescription"}, {"readOnly": true, "type": "string", "name": "supportExpiryDate"}, {"readOnly": true, "type": "string", "name": "targetClusterVersion"}, {"readOnly": true, "type": "string", "name": "workloadImpact", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, "identifiers": ["targetClusterVersion"]}, {"type": "object", "name": "clusterCapacity", "props": [{"type": "integer64", "name": "availableApplianceStorageGB"}, {"type": "integer64", "name": "availableCoreCount"}, {"type": "integer64", "name": "availableHostStorageGB"}, {"type": "integer64", "name": "availableMemoryGB"}, {"type": "integer64", "name": "totalApplianceStorageGB"}, {"type": "integer64", "name": "totalCoreCount"}, {"type": "integer64", "name": "totalHostStorageGB"}, {"type": "integer64", "name": "totalMemoryGB"}]}, {"readOnly": true, "type": "string", "name": "clusterConnectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Disconnected"}, {"value": "Timeout"}, {"value": "Undefined"}]}}, {"readOnly": true, "type": "@ExtendedLocation_read", "name": "clusterExtendedLocation"}, {"type": "string", "name": "clusterLocation", "format": {"maxLength": 256}}, {"readOnly": true, "type": "string", "name": "clusterManagerConnectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Unreachable"}]}}, {"readOnly": true, "type": "ResourceId", "name": "clusterManagerId"}, {"type": "object", "name": "clusterServicePrincipal", "props": [{"type": "string", "name": "applicationId", "required": true}, {"type": "string", "name": "password", "required": true, "secret": true}, {"type": "string", "name": "principalId", "required": true}, {"type": "string", "name": "tenantId", "required": true}]}, {"type": "string", "name": "clusterType", "required": true, "enum": {"items": [{"value": "MultiRack"}, {"value": "SingleRack"}]}}, {"type": "string", "name": "clusterVersion", "required": true}, {"type": "object", "name": "computeDeploymentThreshold", "props": [{"type": "string", "name": "grouping", "required": true, "enum": {"items": [{"value": "PerCluster"}, {"value": "PerRack"}]}}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "value", "required": true, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_read>", "name": "computeRackDefinitions", "item": {"type": "@RackDefinition_read"}, "identifiers": ["networkRackId"]}, {"readOnly": true, "type": "string", "name": "detailedStatus", "enum": {"items": [{"value": "Degraded"}, {"value": "Deleting"}, {"value": "Deploying"}, {"value": "Disconnected"}, {"value": "Failed"}, {"value": "PendingDeployment"}, {"value": "Running"}, {"value": "Updating"}]}}, {"readOnly": true, "type": "string", "name": "detailedStatusMessage"}, {"readOnly": true, "type": "@ExtendedLocation_read", "name": "hybridAksExtendedLocation"}, {"type": "object", "name": "managedResourceGroupConfiguration", "props": [{"type": "string", "name": "location"}, {"type": "string", "name": "name", "format": {"maxLength": 75}}]}, {"readOnly": true, "type": "integer64", "name": "manualActionCount"}, {"type": "ResourceId", "name": "networkFabricId", "required": true}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}, {"value": "Updating"}, {"value": "Validating"}]}}, {"type": "object", "name": "runtimeProtectionConfiguration", "props": [{"default": {"value": "Disabled"}, "type": "string", "name": "enforcementLevel", "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "OnDemand"}, {"value": "Passive"}, {"value": "RealTime"}]}}]}, {"type": "object", "name": "secretArchive", "props": [{"type": "ResourceId", "name": "keyVaultId", "required": true}, {"default": {"value": "False"}, "type": "string", "name": "useKeyVault", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, {"readOnly": true, "type": "string", "name": "supportExpiryDate"}, {"type": "object", "name": "updateStrategy", "props": [{"type": "integer64", "name": "maxUnavailable", "format": {"minimum": 1}}, {"type": "string", "name": "strategyType", "required": true, "enum": {"items": [{"value": "Rack"}]}}, {"type": "string", "name": "thresholdType", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "thresholdValue", "required": true, "format": {"minimum": 0}}, {"default": {"value": 15}, "type": "integer64", "name": "waitTimeMinutes", "format": {"maximum": 60, "minimum": 0}}]}, {"readOnly": true, "type": "array<string>", "name": "workloadResourceIds", "item": {"type": "string"}}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}]}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}, {"name": "update", "version": "2023-10-01-preview", "resources": [{"id": "/subscriptions/{}/resourcegroups/{}/providers/microsoft.networkcloud/clusters/{}", "version": "2023-10-01-preview", "swagger": "mgmt-plane/networkcloud/ResourceProviders/Microsoft.NetworkCloud/Paths/L3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbklkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2VHcm91cE5hbWV9L3Byb3ZpZGVycy9NaWNyb3NvZnQuTmV0d29ya0Nsb3VkL2NsdXN0ZXJzL3tjbHVzdGVyTmFtZX0=/V/MjAyMy0xMC0wMS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "string", "var": "$Path.clusterName", "options": ["n", "name", "cluster-name"], "required": true, "idPart": "name", "help": {"short": "The name of the cluster."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "ResourceGroupName", "var": "$Path.resourceGroupName", "options": ["g", "resource-group"], "required": true, "idPart": "resource_group"}, {"type": "SubscriptionId", "var": "$Path.subscriptionId", "options": ["subscription"], "required": true, "idPart": "subscription"}]}, {"name": "ClusterUpdateParameters", "args": [{"type": "object", "var": "$clusterUpdateParameters.tags", "options": ["tags"], "group": "ClusterUpdateParameters", "help": {"short": "The Azure resource tags that will replace the existing ones."}, "additionalProps": {"item": {"type": "string"}}}]}, {"name": "Properties", "args": [{"type": "object", "var": "$clusterUpdateParameters.properties.aggregatorOrSingleRackDefinition", "options": ["aggregator-or-single-rack-definition"], "group": "Properties", "help": {"short": "The rack definition that is intended to reflect only a single rack in a single rack cluster, or an aggregator rack in a multi-rack cluster."}, "args": [{"type": "string", "var": "@RackDefinition_update.availabilityZone", "options": ["availability-zone"], "help": {"short": "The zone name used for this rack when created."}, "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "var": "@RackDefinition_update.bareMetalMachineConfigurationData", "options": ["bare-metal-machine-configuration-data"], "help": {"short": "The unordered list of bare metal machine configuration."}, "item": {"type": "object", "args": [{"type": "object", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].bmcCredentials", "options": ["bmc-credentials"], "required": true, "help": {"short": "The credentials of the baseboard management controller on this bare metal machine."}, "args": [{"type": "string", "var": "@AdministrativeCredentials_update.password", "options": ["password"], "required": true, "help": {"short": "The password of the administrator of the device used during initialization."}, "format": {"minLength": 1}}, {"type": "string", "var": "@AdministrativeCredentials_update.username", "options": ["username"], "required": true, "help": {"short": "The username of the administrator of the device used during initialization."}, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_update"}, {"type": "string", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].bmcMacAddress", "options": ["bmc-mac-address"], "required": true, "help": {"short": "The MAC address of the BMC for this machine."}, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].bootMacAddress", "options": ["boot-mac-address"], "required": true, "help": {"short": "The MAC address associated with the PXE NIC card."}, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].machineDetails", "options": ["machine-details"], "help": {"short": "The free-form additional information about the machine, e.g. an asset tag."}, "format": {"maxLength": 256}}, {"type": "string", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].machineName", "options": ["machine-name"], "help": {"short": "The user-provided name for the bare metal machine created from this specification. If not provided, the machine name will be generated programmatically."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].rackSlot", "options": ["rack-slot"], "required": true, "help": {"short": "The slot the physical machine is in the rack based on the BOM configuration."}, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "var": "@RackDefinition_update.bareMetalMachineConfigurationData[].serialNumber", "options": ["serial-number"], "required": true, "help": {"short": "The serial number of the machine. Hardware suppliers may use an alternate value. For example, service tag."}, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "var": "@RackDefinition_update.networkRackId", "options": ["network-rack-id"], "required": true, "help": {"short": "The resource ID of the network rack that matches this rack definition."}}, {"type": "string", "var": "@RackDefinition_update.rackLocation", "options": ["rack-location"], "help": {"short": "The free-form description of the rack's location."}, "format": {"maxLength": 256}}, {"type": "string", "var": "@RackDefinition_update.rackSerialNumber", "options": ["rack-serial-number"], "required": true, "help": {"short": "The unique identifier for the rack within Network Cloud cluster. An alternate unique alphanumeric value other than a serial number may be provided if desired."}, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "var": "@RackDefinition_update.rackSkuId", "options": ["rack-sku-id"], "required": true, "help": {"short": "The resource ID of the sku for the rack being added."}}, {"type": "array<object>", "var": "@RackDefinition_update.storageApplianceConfigurationData", "options": ["storage-appliance-configuration-data"], "help": {"short": "The list of storage appliance configuration data for this rack."}, "item": {"type": "object", "args": [{"type": "@AdministrativeCredentials_update", "var": "@RackDefinition_update.storageApplianceConfigurationData[].adminCredentials", "options": ["admin-credentials"], "required": true, "help": {"short": "The credentials of the administrative interface on this storage appliance."}}, {"type": "integer64", "var": "@RackDefinition_update.storageApplianceConfigurationData[].rackSlot", "options": ["rack-slot"], "required": true, "help": {"short": "The slot that storage appliance is in the rack based on the BOM configuration."}, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "var": "@RackDefinition_update.storageApplianceConfigurationData[].serialNumber", "options": ["serial-number"], "required": true, "help": {"short": "The serial number of the appliance."}}, {"type": "string", "var": "@RackDefinition_update.storageApplianceConfigurationData[].storageApplianceName", "options": ["storage-appliance-name"], "help": {"short": "The user-provided name for the storage appliance that will be created from this specification."}, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_update"}, {"type": "string", "var": "$clusterUpdateParameters.properties.clusterLocation", "options": ["cluster-location"], "group": "Properties", "help": {"short": "The customer-provided location information to identify where the cluster resides."}}, {"type": "object", "var": "$clusterUpdateParameters.properties.clusterServicePrincipal", "options": ["cluster-service-principal"], "group": "Properties", "help": {"short": "The service principal to be used by the cluster during Arc Appliance installation."}, "args": [{"type": "string", "var": "$clusterUpdateParameters.properties.clusterServicePrincipal.applicationId", "options": ["application-id"], "required": true, "help": {"short": "The application ID, also known as client ID, of the service principal."}}, {"type": "string", "var": "$clusterUpdateParameters.properties.clusterServicePrincipal.password", "options": ["password"], "required": true, "help": {"short": "The password of the service principal."}}, {"type": "string", "var": "$clusterUpdateParameters.properties.clusterServicePrincipal.principalId", "options": ["principal-id"], "required": true, "help": {"short": "The principal ID, also known as the object ID, of the service principal."}}, {"type": "string", "var": "$clusterUpdateParameters.properties.clusterServicePrincipal.tenantId", "options": ["tenant-id"], "required": true, "help": {"short": "The tenant ID, also known as the directory ID, of the tenant in which the service principal is created."}}]}, {"type": "object", "var": "$clusterUpdateParameters.properties.computeDeploymentThreshold", "options": ["compute-deployment-threshold"], "group": "Properties", "help": {"short": "The validation threshold indicating the allowable failures of compute machines during environment validation and deployment."}, "args": [{"type": "string", "var": "$clusterUpdateParameters.properties.computeDeploymentThreshold.grouping", "options": ["grouping"], "required": true, "help": {"short": "Selection of how the type evaluation is applied to the cluster calculation."}, "enum": {"items": [{"name": "PerCluster", "value": "PerCluster"}, {"name": "PerRack", "value": "PerRack"}]}}, {"type": "string", "var": "$clusterUpdateParameters.properties.computeDeploymentThreshold.type", "options": ["type"], "required": true, "help": {"short": "Selection of how the threshold should be evaluated."}, "enum": {"items": [{"name": "CountSuccess", "value": "CountSuccess"}, {"name": "PercentSuccess", "value": "PercentSuccess"}]}}, {"type": "integer64", "var": "$clusterUpdateParameters.properties.computeDeploymentThreshold.value", "options": ["value"], "required": true, "help": {"short": "The numeric threshold value."}, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_update>", "var": "$clusterUpdateParameters.properties.computeRackDefinitions", "options": ["compute-rack-definitions"], "group": "Properties", "help": {"short": "The list of rack definitions for the compute racks in a multi-rack cluster, or an empty list in a single-rack cluster."}, "item": {"type": "@RackDefinition_update"}}, {"type": "object", "var": "$clusterUpdateParameters.properties.runtimeProtectionConfiguration", "options": ["runtime-protection"], "group": "Properties", "help": {"short": "The settings for cluster runtime protection."}, "args": [{"type": "string", "var": "$clusterUpdateParameters.properties.runtimeProtectionConfiguration.enforcementLevel", "options": ["enforcement-level"], "help": {"short": "The mode of operation for runtime protection."}, "default": {"value": "Disabled"}, "enum": {"items": [{"name": "Audit", "value": "Audit"}, {"name": "Disabled", "value": "Disabled"}, {"name": "OnDemand", "value": "OnDemand"}, {"name": "Passive", "value": "Passive"}, {"name": "RealTime", "value": "RealTime"}]}}]}, {"type": "object", "var": "$clusterUpdateParameters.properties.secretArchive", "options": ["secret-archive"], "group": "Properties", "help": {"short": "The configuration for use of a key vault to store secrets for later retrieval by the operator."}, "args": [{"type": "ResourceId", "var": "$clusterUpdateParameters.properties.secretArchive.keyVaultId", "options": ["key-vault-id"], "required": true, "help": {"short": "The resource ID of the key vault to archive the secrets of the cluster."}}, {"type": "string", "var": "$clusterUpdateParameters.properties.secretArchive.useKeyVault", "options": ["use-key-vault"], "help": {"short": "The indicator if the specified key vault should be used to archive the secrets of the cluster."}, "default": {"value": "False"}, "enum": {"items": [{"name": "False", "value": "False"}, {"name": "True", "value": "True"}]}}]}, {"type": "object", "var": "$clusterUpdateParameters.properties.updateStrategy", "options": ["update-strategy"], "group": "Properties", "help": {"short": "The strategy for updating the cluster."}, "args": [{"type": "integer64", "var": "$clusterUpdateParameters.properties.updateStrategy.maxUnavailable", "options": ["max-unavailable"], "help": {"short": "The maximum number of worker nodes that can be offline within the increment of update, e.g., rack-by-rack. Limited by the maximum number of machines in the increment. Defaults to the whole increment size."}, "format": {"minimum": 1}}, {"type": "string", "var": "$clusterUpdateParameters.properties.updateStrategy.strategyType", "options": ["strategy-type"], "required": true, "help": {"short": "The mode of operation for runtime protection."}, "enum": {"items": [{"name": "Rack", "value": "Rack"}]}}, {"type": "string", "var": "$clusterUpdateParameters.properties.updateStrategy.thresholdType", "options": ["threshold-type"], "required": true, "help": {"short": "Selection of how the threshold should be evaluated."}, "enum": {"items": [{"name": "CountSuccess", "value": "CountSuccess"}, {"name": "PercentSuccess", "value": "PercentSuccess"}]}}, {"type": "integer64", "var": "$clusterUpdateParameters.properties.updateStrategy.thresholdValue", "options": ["threshold-value"], "required": true, "help": {"short": "The numeric threshold value."}, "format": {"minimum": 0}}, {"type": "integer64", "var": "$clusterUpdateParameters.properties.updateStrategy.waitTimeMinutes", "options": ["wait-time-minutes"], "help": {"short": "The time to wait between the increments of update defined by the strategy."}, "default": {"value": 15}, "format": {"maximum": 60, "minimum": 0}}]}]}], "operations": [{"longRunning": {"finalStateVia": "azure-async-operation"}, "operationId": "Clusters_Update", "http": {"path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.NetworkCloud/clusters/{clusterName}", "request": {"method": "patch", "path": {"params": [{"type": "string", "name": "clusterName", "arg": "$Path.clusterName", "required": true, "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}, {"type": "string", "name": "resourceGroupName", "arg": "$Path.resourceGroupName", "required": true, "format": {"maxLength": 90, "minLength": 1}}, {"type": "uuid", "name": "subscriptionId", "arg": "$Path.subscriptionId", "required": true}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2023-10-01-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "body": {"json": {"schema": {"type": "object", "name": "clusterUpdateParameters", "props": [{"type": "object", "name": "properties", "props": [{"type": "object", "name": "aggregatorOrSingleRackDefinition", "arg": "$clusterUpdateParameters.properties.aggregatorOrSingleRackDefinition", "props": [{"type": "string", "name": "availabilityZone", "arg": "@RackDefinition_update.availabilityZone", "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "name": "bareMetalMachineConfigurationData", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData", "item": {"type": "object", "props": [{"type": "object", "name": "bmcCredentials", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].bmcCredentials", "required": true, "props": [{"type": "string", "name": "password", "arg": "@AdministrativeCredentials_update.password", "required": true, "secret": true, "format": {"minLength": 1}}, {"type": "string", "name": "username", "arg": "@AdministrativeCredentials_update.username", "required": true, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_update"}, {"type": "string", "name": "bmcMacAddress", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].bmcMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "bootMacAddress", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].bootMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "machineDetails", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].machineDetails", "format": {"maxLength": 256}}, {"type": "string", "name": "machineName", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].machineName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "name": "rackSlot", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "arg": "@RackDefinition_update.bareMetalMachineConfigurationData[].serialNumber", "required": true, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "name": "networkRackId", "arg": "@RackDefinition_update.networkRackId", "required": true}, {"type": "string", "name": "rackLocation", "arg": "@RackDefinition_update.rackLocation", "format": {"maxLength": 256}}, {"type": "string", "name": "rackSerialNumber", "arg": "@RackDefinition_update.rackSerialNumber", "required": true, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "name": "rackSkuId", "arg": "@RackDefinition_update.rackSkuId", "required": true}, {"type": "array<object>", "name": "storageApplianceConfigurationData", "arg": "@RackDefinition_update.storageApplianceConfigurationData", "item": {"type": "object", "props": [{"type": "@AdministrativeCredentials_update", "name": "adminCredentials", "arg": "@RackDefinition_update.storageApplianceConfigurationData[].adminCredentials", "required": true}, {"type": "integer64", "name": "rackSlot", "arg": "@RackDefinition_update.storageApplianceConfigurationData[].rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "arg": "@RackDefinition_update.storageApplianceConfigurationData[].serialNumber", "required": true}, {"type": "string", "name": "storageApplianceName", "arg": "@RackDefinition_update.storageApplianceConfigurationData[].storageApplianceName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_update"}, {"type": "string", "name": "clusterLocation", "arg": "$clusterUpdateParameters.properties.clusterLocation"}, {"type": "object", "name": "clusterServicePrincipal", "arg": "$clusterUpdateParameters.properties.clusterServicePrincipal", "props": [{"type": "string", "name": "applicationId", "arg": "$clusterUpdateParameters.properties.clusterServicePrincipal.applicationId", "required": true}, {"type": "string", "name": "password", "arg": "$clusterUpdateParameters.properties.clusterServicePrincipal.password", "required": true, "secret": true}, {"type": "string", "name": "principalId", "arg": "$clusterUpdateParameters.properties.clusterServicePrincipal.principalId", "required": true}, {"type": "string", "name": "tenantId", "arg": "$clusterUpdateParameters.properties.clusterServicePrincipal.tenantId", "required": true}]}, {"type": "object", "name": "computeDeploymentThreshold", "arg": "$clusterUpdateParameters.properties.computeDeploymentThreshold", "props": [{"type": "string", "name": "grouping", "arg": "$clusterUpdateParameters.properties.computeDeploymentThreshold.grouping", "required": true, "enum": {"items": [{"value": "PerCluster"}, {"value": "PerRack"}]}}, {"type": "string", "name": "type", "arg": "$clusterUpdateParameters.properties.computeDeploymentThreshold.type", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "value", "arg": "$clusterUpdateParameters.properties.computeDeploymentThreshold.value", "required": true, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_update>", "name": "computeRackDefinitions", "arg": "$clusterUpdateParameters.properties.computeRackDefinitions", "item": {"type": "@RackDefinition_update"}, "identifiers": ["networkRackId"]}, {"type": "object", "name": "runtimeProtectionConfiguration", "arg": "$clusterUpdateParameters.properties.runtimeProtectionConfiguration", "props": [{"default": {"value": "Disabled"}, "type": "string", "name": "enforcementLevel", "arg": "$clusterUpdateParameters.properties.runtimeProtectionConfiguration.enforcementLevel", "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "OnDemand"}, {"value": "Passive"}, {"value": "RealTime"}]}}]}, {"type": "object", "name": "secretArchive", "arg": "$clusterUpdateParameters.properties.secretArchive", "props": [{"type": "ResourceId", "name": "keyVaultId", "arg": "$clusterUpdateParameters.properties.secretArchive.keyVaultId", "required": true}, {"default": {"value": "False"}, "type": "string", "name": "useKeyVault", "arg": "$clusterUpdateParameters.properties.secretArchive.useKeyVault", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, {"type": "object", "name": "updateStrategy", "arg": "$clusterUpdateParameters.properties.updateStrategy", "props": [{"type": "integer64", "name": "maxUnavailable", "arg": "$clusterUpdateParameters.properties.updateStrategy.maxUnavailable", "format": {"minimum": 1}}, {"type": "string", "name": "strategyType", "arg": "$clusterUpdateParameters.properties.updateStrategy.strategyType", "required": true, "enum": {"items": [{"value": "Rack"}]}}, {"type": "string", "name": "thresholdType", "arg": "$clusterUpdateParameters.properties.updateStrategy.thresholdType", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "thresholdValue", "arg": "$clusterUpdateParameters.properties.updateStrategy.thresholdValue", "required": true, "format": {"minimum": 0}}, {"default": {"value": 15}, "type": "integer64", "name": "waitTimeMinutes", "arg": "$clusterUpdateParameters.properties.updateStrategy.waitTimeMinutes", "format": {"maximum": 60, "minimum": 0}}]}], "clientFlatten": true}, {"type": "object", "name": "tags", "arg": "$clusterUpdateParameters.tags", "additionalProps": {"item": {"type": "string"}}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "object", "name": "extendedLocation", "required": true, "props": [{"type": "string", "name": "name", "required": true}, {"type": "string", "name": "type", "required": true}], "cls": "ExtendedLocation_read"}, {"readOnly": true, "type": "ResourceId", "name": "id", "format": {"template": "/subscriptions/{}/resourceGroups/{}/providers/Microsoft.NetworkCloud/clusters/{}"}}, {"type": "ResourceLocation", "name": "location", "required": true}, {"readOnly": true, "type": "string", "name": "name"}, {"type": "object", "name": "properties", "required": true, "props": [{"type": "object", "name": "aggregatorOrSingleRackDefinition", "required": true, "props": [{"type": "string", "name": "availabilityZone", "format": {"pattern": "^[a-zA-Z0-9]{1,10}$"}}, {"type": "array<object>", "name": "bareMetalMachineConfigurationData", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "bmcConnectionString"}, {"type": "object", "name": "bmcCredentials", "required": true, "props": [{"type": "string", "name": "password", "required": true, "secret": true, "format": {"minLength": 1}}, {"type": "string", "name": "username", "required": true, "format": {"minLength": 1}}], "cls": "AdministrativeCredentials_read"}, {"type": "string", "name": "bmcMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "bootMacAddress", "required": true, "format": {"pattern": "^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$"}}, {"type": "string", "name": "machineDetails", "format": {"maxLength": 256}}, {"type": "string", "name": "machineName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9]{0,62}[a-zA-Z0-9])$"}}, {"type": "integer64", "name": "rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "required": true, "format": {"maxLength": 64}}]}}, {"type": "ResourceId", "name": "networkRackId", "required": true}, {"type": "string", "name": "rackLocation", "format": {"maxLength": 256}}, {"type": "string", "name": "rackSerialNumber", "required": true, "format": {"maxLength": 64, "minLength": 1}}, {"type": "ResourceId", "name": "rackSkuId", "required": true}, {"type": "array<object>", "name": "storageApplianceConfigurationData", "item": {"type": "object", "props": [{"type": "@AdministrativeCredentials_read", "name": "adminCredentials", "required": true}, {"type": "integer64", "name": "rackSlot", "required": true, "format": {"maximum": 256, "minimum": 1}}, {"type": "string", "name": "serialNumber", "required": true}, {"type": "string", "name": "storageApplianceName", "format": {"pattern": "^([a-zA-Z0-9][a-zA-Z0-9-_]{0,28}[a-zA-Z0-9])$"}}]}}], "cls": "RackDefinition_read"}, {"type": "string", "name": "analyticsWorkspaceId"}, {"readOnly": true, "type": "array<object>", "name": "availableUpgradeVersions", "item": {"type": "object", "props": [{"readOnly": true, "type": "string", "name": "controlImpact", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}, {"readOnly": true, "type": "string", "name": "expectedDuration"}, {"readOnly": true, "type": "string", "name": "impactDescription"}, {"readOnly": true, "type": "string", "name": "supportExpiryDate"}, {"readOnly": true, "type": "string", "name": "targetClusterVersion"}, {"readOnly": true, "type": "string", "name": "workloadImpact", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, "identifiers": ["targetClusterVersion"]}, {"type": "object", "name": "clusterCapacity", "props": [{"type": "integer64", "name": "availableApplianceStorageGB"}, {"type": "integer64", "name": "availableCoreCount"}, {"type": "integer64", "name": "availableHostStorageGB"}, {"type": "integer64", "name": "availableMemoryGB"}, {"type": "integer64", "name": "totalApplianceStorageGB"}, {"type": "integer64", "name": "totalCoreCount"}, {"type": "integer64", "name": "totalHostStorageGB"}, {"type": "integer64", "name": "totalMemoryGB"}]}, {"readOnly": true, "type": "string", "name": "clusterConnectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Disconnected"}, {"value": "Timeout"}, {"value": "Undefined"}]}}, {"readOnly": true, "type": "@ExtendedLocation_read", "name": "clusterExtendedLocation"}, {"type": "string", "name": "clusterLocation", "format": {"maxLength": 256}}, {"readOnly": true, "type": "string", "name": "clusterManagerConnectionStatus", "enum": {"items": [{"value": "Connected"}, {"value": "Unreachable"}]}}, {"readOnly": true, "type": "ResourceId", "name": "clusterManagerId"}, {"type": "object", "name": "clusterServicePrincipal", "props": [{"type": "string", "name": "applicationId", "required": true}, {"type": "string", "name": "password", "required": true, "secret": true}, {"type": "string", "name": "principalId", "required": true}, {"type": "string", "name": "tenantId", "required": true}]}, {"type": "string", "name": "clusterType", "required": true, "enum": {"items": [{"value": "MultiRack"}, {"value": "SingleRack"}]}}, {"type": "string", "name": "clusterVersion", "required": true}, {"type": "object", "name": "computeDeploymentThreshold", "props": [{"type": "string", "name": "grouping", "required": true, "enum": {"items": [{"value": "PerCluster"}, {"value": "PerRack"}]}}, {"type": "string", "name": "type", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "value", "required": true, "format": {"minimum": 0}}]}, {"type": "array<@RackDefinition_read>", "name": "computeRackDefinitions", "item": {"type": "@RackDefinition_read"}, "identifiers": ["networkRackId"]}, {"readOnly": true, "type": "string", "name": "detailedStatus", "enum": {"items": [{"value": "Degraded"}, {"value": "Deleting"}, {"value": "Deploying"}, {"value": "Disconnected"}, {"value": "Failed"}, {"value": "PendingDeployment"}, {"value": "Running"}, {"value": "Updating"}]}}, {"readOnly": true, "type": "string", "name": "detailedStatusMessage"}, {"readOnly": true, "type": "@ExtendedLocation_read", "name": "hybridAksExtendedLocation"}, {"type": "object", "name": "managedResourceGroupConfiguration", "props": [{"type": "string", "name": "location"}, {"type": "string", "name": "name", "format": {"maxLength": 75}}]}, {"readOnly": true, "type": "integer64", "name": "manualActionCount"}, {"type": "ResourceId", "name": "networkFabricId", "required": true}, {"readOnly": true, "type": "string", "name": "provisioningState", "enum": {"items": [{"value": "Accepted"}, {"value": "Canceled"}, {"value": "Failed"}, {"value": "Succeeded"}, {"value": "Updating"}, {"value": "Validating"}]}}, {"type": "object", "name": "runtimeProtectionConfiguration", "props": [{"default": {"value": "Disabled"}, "type": "string", "name": "enforcementLevel", "enum": {"items": [{"value": "Audit"}, {"value": "Disabled"}, {"value": "OnDemand"}, {"value": "Passive"}, {"value": "RealTime"}]}}]}, {"type": "object", "name": "secretArchive", "props": [{"type": "ResourceId", "name": "keyVaultId", "required": true}, {"default": {"value": "False"}, "type": "string", "name": "useKeyVault", "enum": {"items": [{"value": "False"}, {"value": "True"}]}}]}, {"readOnly": true, "type": "string", "name": "supportExpiryDate"}, {"type": "object", "name": "updateStrategy", "props": [{"type": "integer64", "name": "maxUnavailable", "format": {"minimum": 1}}, {"type": "string", "name": "strategyType", "required": true, "enum": {"items": [{"value": "Rack"}]}}, {"type": "string", "name": "thresholdType", "required": true, "enum": {"items": [{"value": "CountSuccess"}, {"value": "PercentSuccess"}]}}, {"type": "integer64", "name": "thresholdValue", "required": true, "format": {"minimum": 0}}, {"default": {"value": 15}, "type": "integer64", "name": "waitTimeMinutes", "format": {"maximum": 60, "minimum": 0}}]}, {"readOnly": true, "type": "array<string>", "name": "workloadResourceIds", "item": {"type": "string"}}], "clientFlatten": true}, {"readOnly": true, "type": "object", "name": "systemData", "props": [{"type": "dateTime", "name": "createdAt"}, {"type": "string", "name": "createdBy"}, {"type": "string", "name": "createdByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}, {"type": "dateTime", "name": "lastModifiedAt"}, {"type": "string", "name": "lastModifiedBy"}, {"type": "string", "name": "lastModifiedByType", "enum": {"items": [{"value": "Application"}, {"value": "Key"}, {"value": "ManagedIdentity"}, {"value": "User"}]}}]}, {"type": "object", "name": "tags", "additionalProps": {"item": {"type": "string"}}}, {"readOnly": true, "type": "string", "name": "type"}], "cls": "Cluster_read"}}}}, {"statusCode": [202], "header": {"items": [{"name": "Azure-AsyncOperation"}]}, "body": {"json": {"var": "$Instance", "schema": {"type": "@Cluster_read"}}}}, {"isError": true, "body": {"json": {"schema": {"type": "@MgmtErrorFormat"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}], "confirmation": ""}]}]}