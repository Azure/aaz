{"plane": "data-plane:microsoft.voiceservices", "resources": [{"id": "/accounts/{}:createorupdatenumbers", "version": "2024-02-29-preview", "swagger": "data-plane:microsoft.voiceservices/voiceservices/ResourceProviders/Microsoft.VoiceServices/Paths/L2FjY291bnRzL3thY2NvdW50TmFtZX06Y3JlYXRlT3JVcGRhdGVOdW1iZXJz/V/MjAyNC0wMi0yOS1wcmV2aWV3"}], "commandGroups": [{"name": "voice-services account", "commands": [{"name": "create-or-update-number", "version": "2024-02-29-preview", "resources": [{"id": "/accounts/{}:createorupdatenumbers", "version": "2024-02-29-preview", "swagger": "data-plane:microsoft.voiceservices/voiceservices/ResourceProviders/Microsoft.VoiceServices/Paths/L2FjY291bnRzL3thY2NvdW50TmFtZX06Y3JlYXRlT3JVcGRhdGVOdW1iZXJz/V/MjAyNC0wMi0yOS1wcmV2aWV3"}], "argGroups": [{"name": "", "args": [{"type": "dateTime", "var": "$Header.Repeatability-First-Sent", "options": ["repeatability-first-sent"], "help": {"short": "Specifies the date and time at which the request was first created."}}, {"type": "string", "var": "$Header.Repeatability-Request-ID", "options": ["repeatability-request-id"], "help": {"short": "An opaque, globally-unique, client-generated string identifier for the request."}}, {"type": "string", "var": "$Path.accountName", "options": ["account-name"], "required": true, "help": {"short": "Name of the account."}, "format": {"pattern": "^([A-Za-z0-9_-]+)$", "maxLength": 100, "minLength": 1}}]}, {"name": "Body", "args": [{"type": "array<object>", "var": "$body.numbers", "options": ["numbers"], "required": true, "group": "Body", "help": {"short": "The list of numbers to upload. At most 100 can be uploaded in one request."}, "format": {"maxLength": 100}, "item": {"type": "object", "args": [{"type": "string", "var": "$body.numbers[].accountName", "options": ["account-name"], "required": true, "help": {"short": "Name of the account. Can only contain letters, numbers, underscores and dashes, and is case-sensitive. Can be up to 100 characters in length."}, "format": {"pattern": "^([A-Za-z0-9_-]+)$", "maxLength": 100, "minLength": 1}}, {"type": "object", "var": "$body.numbers[].configuration", "options": ["configuration"], "help": {"short": "Configuration for this number."}, "args": [{"type": "string", "var": "$body.numbers[].configuration.customSipHeader", "options": ["custom-sip-header"], "help": {"short": "Contents of the custom SIP header to use with this number. Can only contain letters, numbers, underscores and dashes. Can be up to 100 characters in length. The name of the custom header is set as part of the provisioning platform configuration on Azure Communications Gateway."}, "format": {"pattern": "^([A-Za-z0-9_-])+$", "maxLength": 100, "minLength": 1}}]}, {"type": "object", "var": "$body.numbers[].serviceDetails", "options": ["service-details"], "required": true, "help": {"short": "Configuration of the individual backend services for this number."}, "args": [{"type": "object", "var": "$body.numbers[].serviceDetails.azureOperatorCallProtection", "options": ["azure-operator-call-protection"], "help": {"short": "Details for the Azure Operator Call Protection service on this Number."}, "args": [{"type": "boolean", "var": "$body.numbers[].serviceDetails.azureOperatorCallProtection.enabled", "options": ["enabled"], "required": true, "help": {"short": "Boolean indicating if the service is enabled on this Number."}}]}, {"type": "object", "var": "$body.numbers[].serviceDetails.teamsDirectRouting", "options": ["teams-direct-routing"], "help": {"short": "Details for the Teams Direct Routing service on this Number."}, "args": [{"type": "boolean", "var": "$body.numbers[].serviceDetails.teamsDirectRouting.enabled", "options": ["enabled"], "required": true, "help": {"short": "Boolean indicating if the service is enabled on this Number."}}]}, {"type": "object", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect", "options": ["teams-operator-connect"], "help": {"short": "Details for the Teams Operator Connect service on this Number."}, "args": [{"type": "string", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.assignmentStatus", "options": ["assignment-status"], "help": {"short": "The assignment status of this Number."}, "enum": {"items": [{"name": "assigned", "value": "assigned"}, {"name": "unassigned", "value": "unassigned"}]}}, {"type": "object", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration", "options": ["configuration"], "help": {"short": "The configuration for Teams Operator Connect on this number."}, "args": [{"type": "array<string>", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.additionalUsages", "options": ["additional-usages"], "help": {"short": "The additional usages for this telephone number."}, "item": {"type": "string"}}, {"type": "boolean", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.allowTenantAddressUpdate", "options": ["allow-tenant-address-update"], "help": {"short": "If the enterprise is allowed to update the address for this telephone number."}, "default": {"value": false}}, {"type": "array<string>", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.choosableCapabilities", "options": ["choosable-capabilities"], "required": true, "help": {"short": "The choosable capabilities for this telephone number."}, "item": {"type": "string"}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.civicAddressId", "options": ["civic-address-id"], "help": {"short": "The ID of the civic address to be used as the emergency address for this telephone number."}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.displayedCountryCode", "options": ["displayed-country-code"], "help": {"short": "The country code to be displayed with this telephone number"}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.locationId", "options": ["location-id"], "help": {"short": "The ID of the location to be used as the emergency address for this telephone number."}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.usage", "options": ["usage"], "required": true, "help": {"short": "The usage for this telephone number."}}]}, {"type": "boolean", "var": "$body.numbers[].serviceDetails.teamsOperatorConnect.enabled", "options": ["enabled"], "required": true, "help": {"short": "Boolean indicating if the service is enabled on this Number."}}]}, {"type": "object", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile", "options": ["teams-phone-mobile"], "help": {"short": "Details for the Teams Phone Mobile service on this Number."}, "args": [{"type": "string", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.assignmentStatus", "options": ["assignment-status"], "help": {"short": "The assignment status of this Number."}, "enum": {"items": [{"name": "assigned", "value": "assigned"}, {"name": "unassigned", "value": "unassigned"}]}}, {"type": "object", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration", "options": ["configuration"], "help": {"short": "The configuration for Teams Phone Mobile on this number."}, "args": [{"type": "array<string>", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.additionalUsages", "options": ["additional-usages"], "help": {"short": "The additional usages for this telephone number."}, "item": {"type": "string"}}, {"type": "boolean", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.allowTenantAddressUpdate", "options": ["allow-tenant-address-update"], "help": {"short": "If the enterprise is allowed to update the address for this telephone number."}, "default": {"value": false}}, {"type": "array<string>", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.choosableCapabilities", "options": ["choosable-capabilities"], "required": true, "help": {"short": "The choosable capabilities for this telephone number."}, "item": {"type": "string"}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.civicAddressId", "options": ["civic-address-id"], "help": {"short": "The ID of the civic address to be used as the emergency address for this telephone number."}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.displayedCountryCode", "options": ["displayed-country-code"], "help": {"short": "The country code to be displayed with this telephone number"}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.locationId", "options": ["location-id"], "help": {"short": "The ID of the location to be used as the emergency address for this telephone number."}}, {"type": "string", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.usage", "options": ["usage"], "required": true, "help": {"short": "The usage for this telephone number."}}]}, {"type": "boolean", "var": "$body.numbers[].serviceDetails.teamsPhoneMobile.enabled", "options": ["enabled"], "required": true, "help": {"short": "Boolean indicating if the service is enabled on this Number."}}]}, {"type": "object", "var": "$body.numbers[].serviceDetails.zoomPhoneCloudPeering", "options": ["zoom-phone-cloud-peering"], "help": {"short": "Details for the Zoom Phone Cloud Peering service on this Number."}, "args": [{"type": "boolean", "var": "$body.numbers[].serviceDetails.zoomPhoneCloudPeering.enabled", "options": ["enabled"], "required": true, "help": {"short": "Boolean indicating if the service is enabled on this Number."}}]}]}, {"type": "string", "var": "$body.numbers[].telephoneNumber", "options": ["telephone-number"], "required": true, "help": {"short": "Telephone number in E.164 format."}, "format": {"pattern": "^\\+[1-9]\\d+$", "maxLength": 16, "minLength": 1}}]}}]}], "operations": [{"operationId": "Accounts_CreateOrUpdateNumbers", "http": {"path": "/accounts/{accountName}:createOrUpdateNumbers", "request": {"method": "post", "path": {"params": [{"type": "string", "name": "accountName", "arg": "$Path.accountName", "required": true, "format": {"pattern": "^([A-Za-z0-9_-]+)$", "maxLength": 100, "minLength": 1}}]}, "query": {"consts": [{"readOnly": true, "const": true, "default": {"value": "2024-02-29-preview"}, "type": "string", "name": "api-version", "required": true, "format": {"minLength": 1}}]}, "header": {"params": [{"type": "dateTime", "name": "Repeatability-First-Sent", "arg": "$Header.Repeatability-First-Sent"}, {"type": "string", "name": "Repeatability-Request-ID", "arg": "$Header.Repeatability-Request-ID"}], "clientRequestId": "x-ms-client-request-id"}, "body": {"json": {"schema": {"type": "object", "name": "body", "required": true, "props": [{"type": "array<object>", "name": "numbers", "arg": "$body.numbers", "required": true, "format": {"maxLength": 100}, "item": {"type": "object", "props": [{"type": "string", "name": "accountName", "arg": "$body.numbers[].accountName", "required": true, "format": {"pattern": "^([A-Za-z0-9_-]+)$", "maxLength": 100, "minLength": 1}}, {"type": "object", "name": "configuration", "arg": "$body.numbers[].configuration", "props": [{"type": "string", "name": "customSipHeader", "arg": "$body.numbers[].configuration.customSipHeader", "format": {"pattern": "^([A-Za-z0-9_-])+$", "maxLength": 100, "minLength": 1}}]}, {"type": "object", "name": "serviceDetails", "arg": "$body.numbers[].serviceDetails", "required": true, "props": [{"type": "object", "name": "azureOperatorCallProtection", "arg": "$body.numbers[].serviceDetails.azureOperatorCallProtection", "props": [{"type": "boolean", "name": "enabled", "arg": "$body.numbers[].serviceDetails.azureOperatorCallProtection.enabled", "required": true}]}, {"type": "object", "name": "teamsDirectRouting", "arg": "$body.numbers[].serviceDetails.teamsDirectRouting", "props": [{"type": "boolean", "name": "enabled", "arg": "$body.numbers[].serviceDetails.teamsDirectRouting.enabled", "required": true}]}, {"type": "object", "name": "teamsOperatorConnect", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect", "props": [{"type": "string", "name": "assignmentStatus", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.assignmentStatus", "enum": {"items": [{"value": "assigned"}, {"value": "unassigned"}]}}, {"type": "object", "name": "configuration", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration", "props": [{"type": "array<string>", "name": "additionalUsages", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.additionalUsages", "item": {"type": "string"}}, {"default": {"value": false}, "type": "boolean", "name": "allowTenantAddressUpdate", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.allowTenantAddressUpdate"}, {"type": "array<string>", "name": "choosableCapabilities", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.choosableCapabilities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "civicAddressId", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.civicAddressId"}, {"type": "string", "name": "displayedCountryCode", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.displayedCountryCode"}, {"type": "string", "name": "locationId", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.locationId"}, {"type": "string", "name": "usage", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.configuration.usage", "required": true}]}, {"type": "boolean", "name": "enabled", "arg": "$body.numbers[].serviceDetails.teamsOperatorConnect.enabled", "required": true}]}, {"type": "object", "name": "teamsPhoneMobile", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile", "props": [{"type": "string", "name": "assignmentStatus", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.assignmentStatus", "enum": {"items": [{"value": "assigned"}, {"value": "unassigned"}]}}, {"type": "object", "name": "configuration", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration", "props": [{"type": "array<string>", "name": "additionalUsages", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.additionalUsages", "item": {"type": "string"}}, {"default": {"value": false}, "type": "boolean", "name": "allowTenantAddressUpdate", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.allowTenantAddressUpdate"}, {"type": "array<string>", "name": "choosableCapabilities", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.choosableCapabilities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "civicAddressId", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.civicAddressId"}, {"type": "string", "name": "displayedCountryCode", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.displayedCountryCode"}, {"type": "string", "name": "locationId", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.locationId"}, {"type": "string", "name": "usage", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.configuration.usage", "required": true}]}, {"type": "boolean", "name": "enabled", "arg": "$body.numbers[].serviceDetails.teamsPhoneMobile.enabled", "required": true}]}, {"type": "object", "name": "zoomPhoneCloudPeering", "arg": "$body.numbers[].serviceDetails.zoomPhoneCloudPeering", "props": [{"type": "boolean", "name": "enabled", "arg": "$body.numbers[].serviceDetails.zoomPhoneCloudPeering.enabled", "required": true}]}]}, {"type": "string", "name": "telephoneNumber", "arg": "$body.numbers[].telephoneNumber", "required": true, "format": {"pattern": "^\\+[1-9]\\d+$", "maxLength": 16, "minLength": 1}}]}}], "clientFlatten": true}}}}, "responses": [{"statusCode": [200], "header": {"items": [{"name": "Repeatability-Result"}, {"name": "x-ms-client-request-id"}]}, "body": {"json": {"var": "$Instance", "schema": {"type": "object", "props": [{"type": "array<object>", "name": "numbers", "required": true, "format": {"maxLength": 100}, "item": {"type": "object", "props": [{"type": "string", "name": "accountName", "required": true, "format": {"pattern": "^([A-Za-z0-9_-]+)$", "maxLength": 100, "minLength": 1}}, {"type": "object", "name": "configuration", "props": [{"type": "string", "name": "customSipHeader", "format": {"pattern": "^([A-Za-z0-9_-])+$", "maxLength": 100, "minLength": 1}}]}, {"type": "object", "name": "serviceDetails", "required": true, "props": [{"type": "object", "name": "azureOperatorCallProtection", "props": [{"type": "boolean", "name": "enabled", "required": true}]}, {"type": "object", "name": "teamsDirectRouting", "props": [{"type": "boolean", "name": "enabled", "required": true}]}, {"type": "object", "name": "teamsOperatorConnect", "props": [{"type": "string", "name": "assignmentStatus", "enum": {"items": [{"value": "assigned"}, {"value": "unassigned"}]}}, {"type": "object", "name": "configuration", "props": [{"readOnly": true, "type": "array<string>", "name": "acquiredCapabilities", "item": {"type": "string"}}, {"type": "array<string>", "name": "additionalUsages", "item": {"type": "string"}}, {"default": {"value": false}, "type": "boolean", "name": "allowTenantAddressUpdate"}, {"readOnly": true, "type": "array<string>", "name": "availableCapabilities", "item": {"type": "string"}}, {"type": "array<string>", "name": "choosableCapabilities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "civicAddressId"}, {"type": "string", "name": "displayedCountryCode"}, {"type": "string", "name": "locationId"}, {"type": "string", "name": "usage", "required": true}]}, {"type": "boolean", "name": "enabled", "required": true}]}, {"type": "object", "name": "teamsPhoneMobile", "props": [{"type": "string", "name": "assignmentStatus", "enum": {"items": [{"value": "assigned"}, {"value": "unassigned"}]}}, {"type": "object", "name": "configuration", "props": [{"readOnly": true, "type": "array<string>", "name": "acquiredCapabilities", "item": {"type": "string"}}, {"type": "array<string>", "name": "additionalUsages", "item": {"type": "string"}}, {"default": {"value": false}, "type": "boolean", "name": "allowTenantAddressUpdate"}, {"readOnly": true, "type": "array<string>", "name": "availableCapabilities", "item": {"type": "string"}}, {"type": "array<string>", "name": "choosableCapabilities", "required": true, "item": {"type": "string"}}, {"type": "string", "name": "civicAddressId"}, {"type": "string", "name": "displayedCountryCode"}, {"type": "string", "name": "locationId"}, {"type": "string", "name": "usage", "required": true}]}, {"type": "boolean", "name": "enabled", "required": true}]}, {"type": "object", "name": "zoomPhoneCloudPeering", "props": [{"type": "boolean", "name": "enabled", "required": true}]}]}, {"readOnly": true, "type": "array<object>", "name": "serviceProvisioningErrors", "item": {"type": "object", "props": [{"type": "string", "name": "code", "required": true}, {"type": "array<@AzureCoreFoundationsError_read>", "name": "details", "item": {"type": "@AzureCoreFoundationsError_read"}}, {"type": "object", "name": "innererror", "props": [{"type": "string", "name": "code"}, {"type": "@AzureCoreFoundationsInnererror_read", "name": "innererror"}], "cls": "AzureCoreFoundationsInnererror_read"}, {"type": "string", "name": "message", "required": true}, {"type": "string", "name": "target"}], "cls": "AzureCoreFoundationsError_read"}}, {"readOnly": true, "type": "string", "name": "serviceProvisioningStatus", "enum": {"items": [{"value": "failed"}, {"value": "pending"}, {"value": "synced"}]}}, {"type": "string", "name": "telephoneNumber", "required": true, "format": {"pattern": "^\\+[1-9]\\d+$", "maxLength": 16, "minLength": 1}}]}}]}}}}, {"isError": true, "header": {"items": [{"name": "x-ms-error-code"}]}, "body": {"json": {"schema": {"readOnly": true, "type": "@ODataV4Format"}}}}]}}], "outputs": [{"type": "object", "ref": "$Instance", "clientFlatten": true}]}]}]}